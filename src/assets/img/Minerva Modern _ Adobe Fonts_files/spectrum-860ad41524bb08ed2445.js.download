/*! For license information please see spectrum-860ad41524bb08ed2445.js.LICENSE.txt */
!function(t){function e(e){for(var n,o,r=e[0],a=e[1],s=0,l=[];s<r.length;s++)o=r[s],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&l.push(i[o][0]),i[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(c&&c(e);l.length;)l.shift()()}var n={},i={7:0};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(t){return o.p+"js/"+({}[t]||t)+"-"+{0:"e064f64d4c365f5c8797",1:"89db5af1bfefd95798ce"}[t]+".chunk.js"}(t);var c=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,n[1](c)}i[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/packs/",o.oe=function(t){throw console.error(t),t};var r=window.webpackJsonp=window.webpackJsonp||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var c=a;o(o.s=1234)}({1:function(t,e,n){var i;(function(){var n=this,o=n._,r=Array.prototype,a=Object.prototype,s=Function.prototype,c=r.push,l=r.slice,u=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,h=s.bind,g=Object.create,m=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return function(){return t.apply(e,arguments)}},S=function(t,e,n){return null==t?v.identity:v.isFunction(t)?y(t,e,n):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return S(t,e,1/0)};var _=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],a=t(r),s=a.length,c=0;c<s;c++){var l=a[c];e&&void 0!==n[l]||(n[l]=r[l])}return n}},b=function(t){if(!v.isObject(t))return{};if(g)return g(t);m.prototype=t;var e=new m;return m.prototype=null,e},$=function(t){return function(e){return null==e?void 0:e[t]}},w=Math.pow(2,53)-1,x=$("length"),C=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=w};function F(t){function e(e,n,i,o,r,a){for(;r>=0&&r<a;r+=t){var s=o?o[r]:r;i=n(i,e[s],s,e)}return i}return function(n,i,o,r){i=y(i,r,4);var a=!C(n)&&v.keys(n),s=(a||n).length,c=t>0?0:s-1;return arguments.length<3&&(o=n[a?a[c]:c],c+=t),e(n,i,o,a,c,s)}}v.each=v.forEach=function(t,e,n){var i,o;if(e=y(e,n),C(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var r=v.keys(t);for(i=0,o=r.length;i<o;i++)e(t[r[i]],r[i],t)}return t},v.map=v.collect=function(t,e,n){e=S(e,n);for(var i=!C(t)&&v.keys(t),o=(i||t).length,r=Array(o),a=0;a<o;a++){var s=i?i[a]:a;r[a]=e(t[s],s,t)}return r},v.reduce=v.foldl=v.inject=F(1),v.reduceRight=v.foldr=F(-1),v.find=v.detect=function(t,e,n){var i;if(void 0!==(i=C(t)?v.findIndex(t,e,n):v.findKey(t,e,n))&&-1!==i)return t[i]},v.filter=v.select=function(t,e,n){var i=[];return e=S(e,n),v.each(t,(function(t,n,o){e(t,n,o)&&i.push(t)})),i},v.reject=function(t,e,n){return v.filter(t,v.negate(S(e)),n)},v.every=v.all=function(t,e,n){e=S(e,n);for(var i=!C(t)&&v.keys(t),o=(i||t).length,r=0;r<o;r++){var a=i?i[r]:r;if(!e(t[a],a,t))return!1}return!0},v.some=v.any=function(t,e,n){e=S(e,n);for(var i=!C(t)&&v.keys(t),o=(i||t).length,r=0;r<o;r++){var a=i?i[r]:r;if(e(t[a],a,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,i){return C(t)||(t=v.values(t)),("number"!=typeof n||i)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=function(t,e){var n=l.call(arguments,2),i=v.isFunction(e);return v.map(t,(function(t){var o=i?e:t[e];return null==o?o:o.apply(t,n)}))},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var i,o,r=-1/0,a=-1/0;if(null==e&&null!=t)for(var s=0,c=(t=C(t)?t:v.values(t)).length;s<c;s++)(i=t[s])>r&&(r=i);else e=S(e,n),v.each(t,(function(t,n,i){((o=e(t,n,i))>a||o===-1/0&&r===-1/0)&&(r=t,a=o)}));return r},v.min=function(t,e,n){var i,o,r=1/0,a=1/0;if(null==e&&null!=t)for(var s=0,c=(t=C(t)?t:v.values(t)).length;s<c;s++)(i=t[s])<r&&(r=i);else e=S(e,n),v.each(t,(function(t,n,i){((o=e(t,n,i))<a||o===1/0&&r===1/0)&&(r=t,a=o)}));return r},v.shuffle=function(t){for(var e,n=C(t)?t:v.values(t),i=n.length,o=Array(i),r=0;r<i;r++)(e=v.random(0,r))!==r&&(o[r]=o[e]),o[e]=n[r];return o},v.sample=function(t,e,n){return null==e||n?(C(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,n){return e=S(e,n),v.pluck(v.map(t,(function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")};var k=function(t){return function(e,n,i){var o={};return n=S(n,i),v.each(e,(function(i,r){var a=n(i,r,e);t(o,i,a)})),o}};v.groupBy=k((function(t,e,n){v.has(t,n)?t[n].push(e):t[n]=[e]})),v.indexBy=k((function(t,e,n){t[n]=e})),v.countBy=k((function(t,e,n){v.has(t,n)?t[n]++:t[n]=1})),v.toArray=function(t){return t?v.isArray(t)?l.call(t):C(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:C(t)?t.length:v.keys(t).length},v.partition=function(t,e,n){e=S(e,n);var i=[],o=[];return v.each(t,(function(t,n,r){(e(t,n,r)?i:o).push(t)})),[i,o]},v.first=v.head=v.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,n,i){for(var o=[],r=0,a=i||0,s=x(t);a<s;a++){var c=t[a];if(C(c)&&(v.isArray(c)||v.isArguments(c))){e||(c=M(c,e,n));var l=0,u=c.length;for(o.length+=u;l<u;)o[r++]=c[l++]}else n||(o[r++]=c)}return o};function P(t){return function(e,n,i){n=S(n,i);for(var o=x(e),r=t>0?0:o-1;r>=0&&r<o;r+=t)if(n(e[r],r,e))return r;return-1}}function E(t,e,n){return function(i,o,r){var a=0,s=x(i);if("number"==typeof r)t>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return i[r=n(i,o)]===o?r:-1;if(o!==o)return(r=e(l.call(i,a,s),v.isNaN))>=0?r+a:-1;for(r=t>0?a:s-1;r>=0&&r<s;r+=t)if(i[r]===o)return r;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,l.call(arguments,1))},v.uniq=v.unique=function(t,e,n,i){v.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=S(n,i));for(var o=[],r=[],a=0,s=x(t);a<s;a++){var c=t[a],l=n?n(c,a,t):c;e?(a&&r===l||o.push(c),r=l):n?v.contains(r,l)||(r.push(l),o.push(c)):v.contains(o,c)||o.push(c)}return o},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=x(t);i<o;i++){var r=t[i];if(!v.contains(e,r)){for(var a=1;a<n&&v.contains(arguments[a],r);a++);a===n&&e.push(r)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,(function(t){return!v.contains(e,t)}))},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,n=Array(e),i=0;i<e;i++)n[i]=v.pluck(t,i);return n},v.object=function(t,e){for(var n={},i=0,o=x(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},v.findIndex=P(1),v.findLastIndex=P(-1),v.sortedIndex=function(t,e,n,i){for(var o=(n=S(n,i,1))(e),r=0,a=x(t);r<a;){var s=Math.floor((r+a)/2);n(t[s])<o?r=s+1:a=s}return r},v.indexOf=E(1,v.findIndex,v.sortedIndex),v.lastIndexOf=E(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),r=0;r<i;r++,t+=n)o[r]=t;return o};var T=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var r=b(t.prototype),a=t.apply(r,o);return v.isObject(a)?a:r};v.bind=function(t,e){if(h&&t.bind===h)return h.apply(t,l.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),i=function(){return T(t,i,e,this,n.concat(l.call(arguments)))};return i},v.partial=function(t){var e=l.call(arguments,1),n=function(){for(var i=0,o=e.length,r=Array(o),a=0;a<o;a++)r[a]=e[a]===v?arguments[i++]:e[a];for(;i<arguments.length;)r.push(arguments[i++]);return T(t,n,this,this,r)};return n},v.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=v.bind(t[n],t);return t},v.memoize=function(t,e){var n=function(i){var o=n.cache,r=""+(e?e.apply(this,arguments):i);return v.has(o,r)||(o[r]=t.apply(this,arguments)),o[r]};return n.cache={},n},v.delay=function(t,e){var n=l.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var i,o,r,a=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:v.now(),a=null,r=t.apply(i,o),a||(i=o=null)};return function(){var l=v.now();s||!1!==n.leading||(s=l);var u=e-(l-s);return i=this,o=arguments,u<=0||u>e?(a&&(clearTimeout(a),a=null),s=l,r=t.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(c,u)),r}},v.debounce=function(t,e,n){var i,o,r,a,s,c=function(){var l=v.now()-a;l<e&&l>=0?i=setTimeout(c,e-l):(i=null,n||(s=t.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,a=v.now();var l=n&&!i;return i||(i=setTimeout(c,e)),l&&(s=t.apply(r,o),r=o=null),s}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},v.once=v.partial(v.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function j(t,e){var n=A.length,i=t.constructor,o=v.isFunction(i)&&i.prototype||a,r="constructor";for(v.has(t,r)&&!v.contains(e,r)&&e.push(r);n--;)(r=A[n])in t&&t[r]!==o[r]&&!v.contains(e,r)&&e.push(r)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)v.has(t,n)&&e.push(n);return D&&j(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&j(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},v.mapObject=function(t,e,n){e=S(e,n);for(var i,o=v.keys(t),r=o.length,a={},s=0;s<r;s++)a[i=o[s]]=e(t[i],i,t);return a},v.pairs=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},v.invert=function(t){for(var e={},n=v.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(t,e,n){e=S(e,n);for(var i,o=v.keys(t),r=0,a=o.length;r<a;r++)if(e(t[i=o[r]],i,t))return i},v.pick=function(t,e,n){var i,o,r={},a=t;if(null==a)return r;v.isFunction(e)?(o=v.allKeys(a),i=y(e,n)):(o=M(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,c=o.length;s<c;s++){var l=o[s],u=a[l];i(u,l,a)&&(r[l]=u)}return r},v.omit=function(t,e,n){if(v.isFunction(e))e=v.negate(e);else{var i=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(i,e)}}return v.pick(t,e,n)},v.defaults=_(v.allKeys,!0),v.create=function(t,e){var n=b(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),r=0;r<i;r++){var a=n[r];if(e[a]!==o[a]||!(a in o))return!1}return!0};var L=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var o=u.call(t);if(o!==u.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),r){if((c=t.length)!==e.length)return!1;for(;c--;)if(!L(t[c],e[c],n,i))return!1}else{var l,d=v.keys(t);if(c=d.length,v.keys(e).length!==c)return!1;for(;c--;)if(l=d[c],!v.has(e,l)||!L(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};v.isEqual=function(t,e){return L(t,e)},v.isEmpty=function(t){return null==t||(C(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=f||function(t){return"[object Array]"===u.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(t){v["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}})),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&d.call(t,e)},v.noConflict=function(){return n._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=$,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var i=Array(Math.max(0,t));e=y(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=v.invert(V),I=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};v.escape=I(V),v.unescape=I(N),v.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),v.isFunction(i)?i.call(t):i};var O=0;v.uniqueId=function(t){var e=++O+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+B[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var i=RegExp([(e.escape||R).source,(e.interpolate||R).source,(e.evaluate||R).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,(function(e,n,i,a,s){return r+=t.slice(o,s).replace(W,U),o=s+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),e})),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(e.variable||"obj","_",r)}catch(l){throw l.source=r,l}var s=function(t){return a.call(this,t,v)},c=e.variable||"obj";return s.source="function("+c+"){\n"+r+"}",s},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),(function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),q(this,n.apply(v,t))}}))},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=r[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],q(this,n)}})),v.each(["concat","join","slice"],(function(t){var e=r[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}})),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(i=function(){return v}.apply(e,[]))||(t.exports=i)}).call(this)},10:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},1234:function(t,e,n){(function(t){t.tk={AdobePrivacy:n(300),FontLoader:n(46),I18n:n(60),ImsLib:n(55)},n(69),n(1235),Promise.all([n.e(0),n.e(1)]).then(n.t.bind(null,342,7)).then((function(t){t.init()}))}).call(this,n(10))},1235:function(t,e,n){n(9).module("NeueApp",[n(1236),n(1238),n(1240),n(217),n(1242).name,n(1243)]).config(n(219)).controller("AddFontsToWebProjectController",n(1244)).controller("AdobeFontsFooterController",n(201)).controller("CollectionController",n(1245)).controller("DesignerController",n(1246)).controller("FamiliesController",n(1247)).controller("FamilyAutoCompleteSearchController",n(1248)).controller("FamilyController",n(1249)).controller("FoundriesController",n(1250)).controller("FoundryController",n(1251)).controller("HeaderController",n(197)).controller("HomeController",n(1252)).controller("MyFontsController",n(1253)).controller("NotificationController",n(222)).controller("RecommendationsController",n(1254)).controller("SearchResultsController",n(1255)).controller("SpectrumBrowseController",n(1256)).controller("VisualSearchesController",n(1257)).controller("WebfontProjectSelectorController",n(1259)).controller("WebfontProjectStyleSelectorController",n(1260)).controller("WebfontProjectStylesController",n(1261)).directive("dropdownBase",n(224)).directive("dropdownBaseButton",n(226)).directive("dropdownBaseContent",n(227)).directive("dropdownBaseItem",n(228)).directive("feedbackIcons",n(1262)).directive("largeWebProjectNotice",n(1264)).directive("spectrumDropdown",n(241)).directive("spectrumSlider",n(1266)).directive("tkAlignedSpecimen",n(243)).directive("tkSubsettingOptions",n(1268)).directive("tkWebProjectCard",n(1270)).directive("tkWebProjectDetails",n(1272)).directive("tkWebProjectDisplayFamily",n(1274)).directive("tkWebProjectEditorStyleSelector",n(1276)).directive("tkWebProjectEmbedCodeOptions",n(1278)).directive("tkWebProjectFamilyCard",n(1280)).directive("tkWebProjectList",n(1282)).directive("adobeFontsAutoComplete",n(1284)).directive("adobeFontsCarousel",n(1286)).directive("adobeFontsFiltersSidebar",n(1289)).directive("adobeFontsFontVariationList",n(1291)).directive("adobeFontsLocaleSwitcher",n(1293)).directive("adobeFontsPangramMenu",n(1295)).directive("adobeFontsFontpackCardList",n(1297)).directive("adobeFontsFontpackCard",n(1299)).directive("adobeFontsFamilyImageCardList",n(1301)).directive("adobeFontsFamilyImageCard",n(1303)).directive("fontDisplayOptions",n(1305)).directive("fontFamilyAccordion",n(1307)).directive("fontPreview",n(1309)).directive("requiredActionToggle",n(1311)).directive("displayInFont",n(223)).directive("familyCard",n(1312)).directive("filteredFamilyList",n(1314)).directive("fontpackHero",n(229)).directive("fontpackHeroVariation",n(235)).directive("fontpackHeroZoomInButton",n(236)).directive("fontpackHeroZoomOutButton",n(237)).directive("fontpackHeroZoomResetButton",n(238)).directive("fontVariationCard",n(1316)).directive("fontPairingCard",n(1318)).directive("fontSizeControl",n(1320)).directive("foundryLogo",n(239)).directive("stickyNav",n(1321)).directive("tabNavigation",n(1323)).directive("tkPaginate",n(1325)).directive("viewTypeControl",n(1327)).directive("scrollEventHandler",n(1328)).factory("AddFontsToWebProjectService",n(250)).factory("AnalyticsService",n(1329)).factory("AuthenticationService",n(141)).factory("DataService",n(139)).factory("DesignersService",n(1330)).factory("DialogService",n(244)).factory("FamiliesService",n(1331)).factory("FamilyAutocompleteSearchService",n(1332)).factory("FavoritesService",n(1333)).factory("FeedbackService",n(1334)).factory("FirstMileService",n(245)).factory("FilterDataService",n(1335)).factory("FilterVariationsService",n(1336)).factory("FilteredFamilyListStateService",n(1337)).factory("FloodgateService",n(1338)).factory("FontCountService",n(1339)).factory("FontLoaderService",n(246)).factory("FontpackService",n(1340)).factory("FoundriesService",n(1341)).factory("I18nService",n(1342)).factory("ImsEventsService",n(198)).factory("MyFontsService",n(1343)).factory("NewrelicService",n(199)).factory("NewrelicClickTrackerService",n(1344)).factory("NotificationService",n(247)).factory("OmnitureService",n(255)).factory("PostLoginActionCreatorService",n(142)).factory("PostLoginActionProcessorService",n(259)).factory("RecommendationsService",n(1345)).factory("RedirectContextService",n(1346)).factory("VisualSearchService",n(1347)).factory("ScrollService",n(1348)).factory("SuspendedAccountService",n(248)).factory("SyncService",n(1349)).factory("TkWebProjectEditorService",n(1350)).factory("UrlService",n(140)).factory("UserService",n(200)).factory("UserPrefsService",n(249)).factory("YouTubeService",n(1356)).run(n(220))},1236:function(t,e,n){n(1237),t.exports="ngSanitize"},1237:function(t,e){!function(t,e,n){"use strict";var i=e.$$minErr("$sanitize");var o=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,r=/^<\/\s*([\w:-]+)[^>]*>/,a=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,s=/^</,c=/^<\//,l=/<!--(.*?)-->/g,u=/<!DOCTYPE([^>]*?)>/i,d=/<!\[CDATA\[(.*?)]]>/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~| |!])/g,h=k("area,br,col,hr,img,wbr"),g=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=k("rp,rt"),v=e.extend({},m,g),y=e.extend({},g,k("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=e.extend({},m,k("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),_=k("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),b=k("script,style"),$=e.extend({},h,y,S,v,_),w=k("background,cite,href,longdesc,src,usemap,xlink:href"),x=k("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),C=k("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),F=e.extend({},w,C,x);function k(t,n){var i,o={},r=t.split(",");for(i=0;i<r.length;i++)o[n?e.lowercase(r[i]):r[i]]=!0;return o}var M=document.createElement("pre");function P(t){return t?(M.innerHTML=t.replace(/</g,"&lt;"),M.textContent):""}function E(t){return t.replace(/&/g,"&amp;").replace(f,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(p,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T(t,n){var i=!1,o=e.bind(t,t.push);return{start:function(t,r,a){t=e.lowercase(t),!i&&b[t]&&(i=t),i||!0!==$[t]||(o("<"),o(t),e.forEach(r,(function(i,r){var a=e.lowercase(r),s="img"===t&&"src"===a||"background"===a;!0!==F[a]||!0===w[a]&&!n(i,s)||(o(" "),o(r),o('="'),o(E(i)),o('"'))})),o(a?"/>":">"))},end:function(t){t=e.lowercase(t),i||!0!==$[t]||(o("</"),o(t),o(">")),t==i&&(i=!1)},chars:function(t){i||o(E(t))}}}e.module("ngSanitize",[]).provider("$sanitize",(function(){this.$get=["$$sanitizeUri",function(t){return function(n){var f=[];return function(t,n){"string"!==typeof t&&(t=null===t||"undefined"===typeof t?"":""+t);var f,p,g,m,_=[],$=t;_.last=function(){return _[_.length-1]};for(;t;){if(m="",p=!0,_.last()&&b[_.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+_.last()+"[^>]*>","i"),(function(t,e){return e=e.replace(l,"$1").replace(d,"$1"),n.chars&&n.chars(P(e)),""})),x("",_.last())):(0===t.indexOf("\x3c!--")?(f=t.indexOf("--",4))>=0&&t.lastIndexOf("--\x3e",f)===f&&(n.comment&&n.comment(t.substring(4,f)),t=t.substring(f+3),p=!1):u.test(t)?(g=t.match(u))&&(t=t.replace(g[0],""),p=!1):c.test(t)?(g=t.match(r))&&(t=t.substring(g[0].length),g[0].replace(r,x),p=!1):s.test(t)&&((g=t.match(o))?(g[4]&&(t=t.substring(g[0].length),g[0].replace(o,w)),p=!1):(m+="<",t=t.substring(1))),p&&(m+=(f=t.indexOf("<"))<0?t:t.substring(0,f),t=f<0?"":t.substring(f),n.chars&&n.chars(P(m)))),t==$)throw i("badparse","The sanitizer was unable to parse the following block of html: {0}",t);$=t}function w(t,i,o,r){if(i=e.lowercase(i),y[i])for(;_.last()&&S[_.last()];)x("",_.last());v[i]&&_.last()==i&&x("",i),(r=h[i]||!!r)||_.push(i);var s={};o.replace(a,(function(t,e,n,i,o){var r=n||i||o||"";s[e]=P(r)})),n.start&&n.start(i,s,r)}function x(t,i){var o,r=0;if(i=e.lowercase(i))for(r=_.length-1;r>=0&&_[r]!=i;r--);if(r>=0){for(o=_.length-1;o>=r;o--)n.end&&n.end(_[o]);_.length=r}}x()}(n,T(f,(function(e,n){return!/^unsafe/.test(t(e,n))}))),f.join("")}}]})),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(o,r){if(!o)return o;for(var a,s,c,l=o,u=[];a=l.match(n);)s=a[0],a[2]||a[4]||(s=(a[3]?"http://":"mailto:")+s),c=a.index,d(l.substr(0,c)),f(s,a[0].replace(i,"")),l=l.substring(c+a[0].length);return d(l),t(u.join(""));function d(t){var n,i;t&&u.push((n=t,T(i=[],e.noop).chars(n),i.join("")))}function f(t,n){u.push("<a "),e.isDefined(r)&&u.push('target="',r,'" '),u.push('href="',t.replace(/"/g,"&quot;"),'">'),d(n),u.push("</a>")}}}])}(window,window.angular)},1238:function(t,e,n){n(9),n(1239),t.exports="duScroll"},1239:function(t,e,n){(function(t){var e=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",(function(t){"use strict";return t<.5?Math.pow(2*t,2)/2:1-Math.pow(2*(1-t),2)/2})).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");t&&t.exports&&(t.exports=e),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(t,e,n,i,o,r,a,s){"use strict";var c,l,u={},d=function(t){return"undefined"!==typeof HTMLDocument&&t instanceof HTMLDocument||t.nodeType&&t.nodeType===t.DOCUMENT_NODE},f=function(t){return"undefined"!==typeof HTMLElement&&t instanceof HTMLElement||t.nodeType&&t.nodeType===t.ELEMENT_NODE},p=function(t){return f(t)||d(t)?t:t[0]};u.duScrollTo=function(e,n,i,o){var r;if(angular.isElement(e)?r=this.duScrollToElement:angular.isDefined(i)&&(r=this.duScrollToAnimated),r)return r.apply(this,arguments);var a=p(this);if(d(a))return t.scrollTo(e,n);a.scrollLeft=e,a.scrollTop=n},u.duScrollToAnimated=function(t,r,a,u){a&&!u&&(u=o);var d=this.duScrollLeft(),f=this.duScrollTop(),p=Math.round(t-d),h=Math.round(r-f),g=null,m=0,v=this,y=function(t){(!t||m&&t.which>0)&&(s&&v.unbind(s,y),n(c),l.reject(),c=null)};if(c&&y(),l=e.defer(),0===a||!p&&!h)return 0===a&&v.duScrollTo(t,r),l.resolve(),l.promise;var S=function(t){null===g&&(g=t);var e=(m=t-g)>=a?1:u(m/a);v.scrollTo(d+Math.ceil(p*e),f+Math.ceil(h*e)),e<1?c=i(S):(s&&v.unbind(s,y),c=null,l.resolve())};return v.duScrollTo(d,f),s&&v.bind(s,y),c=i(S),l.promise},u.duScrollToElement=function(t,e,n,i){var o=p(this);angular.isNumber(e)&&!isNaN(e)||(e=a);var r=this.duScrollTop()+p(t).getBoundingClientRect().top-e;return f(o)&&(r-=o.getBoundingClientRect().top),this.duScrollTo(0,r,n,i)},u.duScrollLeft=function(e,n,i){if(angular.isNumber(e))return this.duScrollTo(e,this.duScrollTop(),n,i);var o=p(this);return d(o)?t.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},u.duScrollTop=function(e,n,i){if(angular.isNumber(e))return this.duScrollTo(this.duScrollLeft(),e,n,i);var o=p(this);return d(o)?t.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},u.duScrollToElementAnimated=function(t,e,n,i){return this.duScrollToElement(t,e,n||r,i)},u.duScrollTopAnimated=function(t,e,n){return this.duScrollTop(t,e||r,n)},u.duScrollLeftAnimated=function(t,e,n){return this.duScrollLeft(t,e||r,n)},angular.forEach(u,(function(t,e){angular.element.prototype[e]=t;var n=e.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=t)}))}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(t){"use strict";var e=["webkit","moz","o","ms"];return function(n,i){if(t[n])return t[n];for(var o,r=n.substr(0,1).toUpperCase()+n.substr(1),a=0;a<e.length;a++)if(t[o=e[a]+r])return t[o];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(t,e){"use strict";var n=0;return t("requestAnimationFrame",(function(t,i){var o=(new Date).getTime(),r=Math.max(0,16-(o-n)),a=e((function(){t(o+r)}),r);return n=o+r,a}))}]).factory("cancelAnimation",["polyfill","$timeout",function(t,e){"use strict";return t("cancelAnimationFrame",(function(t){e.cancel(t)}))}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(t,e,n,i,o,r,a,s,c,l,u){"use strict";var d={},f=function(n){var r=n.$id,c={spies:[]};return c.handler=function(n){var r=!1,c=!1,d=function(){c=!1;var e,r=n.container[0],s=0;if("undefined"!==typeof HTMLElement&&r instanceof HTMLElement||r.nodeType&&r.nodeType===r.ELEMENT_NODE)s=r.getBoundingClientRect().top,e=Math.round(r.scrollTop+r.clientHeight)>=r.scrollHeight;else{var d=o[0].body.scrollHeight||o[0].documentElement.scrollHeight;e=Math.round(i.pageYOffset+i.innerHeight)>=d}var f,p,h,g,m,v,y=l&&e?"bottom":"top";for(g=n.spies,p=n.currentlyActive,h=void 0,f=0;f<g.length;f++)(v=(m=g[f]).getTargetPosition())&&m.$element&&(l&&e||v.top+m.offset-s<20&&(a||-1*v.top+s)<v.height)&&(!h||h[y]<v[y])&&((h={spy:m})[y]=v[y]);h&&(h=h.spy),p===h||a&&!h||(p&&p.$element&&(p.$element.removeClass(u),t.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),h&&(h.$element.addClass(u),t.$broadcast("duScrollspy:becameActive",h.$element,angular.element(h.getTargetElement()))),n.currentlyActive=h)};return s?function(){r?c=!0:(d(),r=e((function(){r=!1,c&&d()}),s,!1))}:d}(c),d[r]=c,n.$on("$destroy",(function(){p(n)})),r},p=function(t){var e=t.$id,i=d[e],o=i.container;i.intervalPromise&&n.cancel(i.intervalPromise),o&&o.off("scroll",i.handler),delete d[e]},h=f(t),g=function(t){return d[t.$id]?d[t.$id]:t.$parent?g(t.$parent):d[h]},m=function(t){var e,n,i=t.$scope;if(i)return g(i);for(n in d)if(-1!==(e=d[n]).spies.indexOf(t))return e};return{addSpy:function(t){var e=m(t);e&&(e.spies.push(t),e.container&&function(t){for(;t.parentNode;)if((t=t.parentNode)===document)return!0;return!1}(e.container)||(e.container&&e.container.off("scroll",e.handler),e.container=r.getContainer(t.$scope),c&&!e.intervalPromise&&(e.intervalPromise=n(e.handler,c,0,!1)),e.container.on("scroll",e.handler).triggerHandler("scroll")))},removeSpy:function(e){var n=m(e);e===n.currentlyActive&&(t.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var i=n.spies.indexOf(e);-1!==i&&n.spies.splice(i,1),e.$element=null},createContext:f,destroyContext:p,getContextForScope:g}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(t){"use strict";var e={},n=function(t){return e[t.$id]?t.$id:t.$parent?n(t.$parent):void 0};return{getContainerId:n,getContainer:function(i){var o=n(i);return o?e[o]:t},setContainer:function(t,n){var i=t.$id;return e[i]=n,i},removeContainer:function(t){var i=n(t);i&&delete e[i]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(t,e,n){"use strict";return{link:function(i,o,r){o.on("click",(function(o){if(r.href&&-1!==r.href.indexOf("#")||""!==r.duSmoothScroll){var a=r.href?r.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):r.duSmoothScroll,s=document.getElementById(a)||document.getElementsByName(a)[0];if(s&&s.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var c=r.offset?parseInt(r.offset,10):e,l=r.duration?parseInt(r.duration,10):t;n.getContainer(i).duScrollToElement(angular.element(s),isNaN(c)?0:c,isNaN(l)?0:l)}}}))}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(e,n,i){return{pre:function(e,n,i,o){t.createContext(e)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(e,n,i){return{pre:function(e,n,i,o){i.$observe("duScrollContainer",(function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,t.setContainer(e,i),e.$on("$destroy",(function(){t.removeContainer(e)}))}))}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(t,e,n,i){"use strict";var o=function(t,e,n,i){angular.isElement(t)?this.target=t:angular.isString(t)&&(this.targetId=t),this.$scope=e,this.$element=n,this.offset=i};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},o.prototype.getTargetPosition=function(){var t=this.getTargetElement();if(t)return t.getBoundingClientRect()},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(r,a,s){var c,l=s.ngHref||s.href;if(l&&-1!==l.indexOf("#")?c=l.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?c=s.duScrollspy:s.duSmoothScroll&&(c=s.duSmoothScroll),c){var u=n((function(){var n=new o(c,r,a,-(s.offset?parseInt(s.offset,10):e));t.addSpy(n),r.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var l=i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));r.$on("$destroy",(function(){t.removeSpy(n),l()}))}),0,!1);r.$on("$destroy",(function(){n.cancel(u)}))}}}}])}).call(this,n(335)(t))},1240:function(t,e,n){n(1241),t.exports="ngTouch"},1241:function(t,e){!function(t,e,n){"use strict";var i=e.module("ngTouch",[]);function o(t,n,o){i.directive(t,["$parse","$swipe",function(i,r){return function(a,s,c){var l,u,d=i(c[t]);var f=["touch"];e.isDefined(c.ngSwipeDisableMouse)||f.push("mouse"),r.bind(s,{start:function(t,e){l=t,u=!0},cancel:function(t){u=!1},end:function(t,e){(function(t){if(!l)return!1;var e=Math.abs(t.y-l.y),i=(t.x-l.x)*n;return u&&e<75&&i>0&&i>30&&e/i<.3})(t)&&a.$apply((function(){s.triggerHandler(o),d(a,{$event:e})}))}},f)}}])}i.factory("$swipe",[function(){var t={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function n(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function i(n,i){var o=[];return e.forEach(n,(function(e){var n=t[e][i];n&&o.push(n)})),o.join(" ")}return{bind:function(t,e,o){var r,a,s,c,l=!1;o=o||["mouse","touch"],t.on(i(o,"start"),(function(t){s=n(t),l=!0,r=0,a=0,c=s,e.start&&e.start(s,t)}));var u=i(o,"cancel");u&&t.on(u,(function(t){l=!1,e.cancel&&e.cancel(t)})),t.on(i(o,"move"),(function(t){if(l&&s){var i=n(t);if(r+=Math.abs(i.x-c.x),a+=Math.abs(i.y-c.y),c=i,!(r<10&&a<10))return a>r?(l=!1,void(e.cancel&&e.cancel(t))):(t.preventDefault(),void(e.move&&e.move(i,t)))}})),t.on(i(o,"end"),(function(t){l&&(l=!1,e.end&&e.end(n(t),t))}))}}}]),i.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,i){var o,r,a,s="ng-click-active";function c(t,e,n){for(var i=0;i<t.length;i+=2)if(o=t[i],r=t[i+1],a=e,s=n,Math.abs(o-a)<25&&Math.abs(r-s)<25)return t.splice(i,i+2),!0;var o,r,a,s;return!1}function l(t){if(!(Date.now()-o>2500)){var n,i=t.touches&&t.touches.length?t.touches:[t],s=i[0].clientX,l=i[0].clientY;if(!(s<1&&l<1))if(!a||a[0]!==s||a[1]!==l)a&&(a=null),"label"===(n=t.target,e.lowercase(n.nodeName||n[0]&&n[0].nodeName))&&(a=[s,l]),c(r,s,l)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur())}}function u(t){var e=t.touches&&t.touches.length?t.touches:[t],i=e[0].clientX,o=e[0].clientY;r.push(i,o),n((function(){for(var t=0;t<r.length;t+=2)if(r[t]==i&&r[t+1]==o)return void r.splice(t,t+2)}),2500,!1)}return function(n,a,d){var f,p,h,g,m=t(d.ngClick),v=!1;function y(){v=!1,a.removeClass(s)}a.on("touchstart",(function(t){v=!0,3==(f=t.target?t.target:t.srcElement).nodeType&&(f=f.parentNode),a.addClass(s),p=Date.now();var e=t.originalEvent||t,n=(e.touches&&e.touches.length?e.touches:[e])[0];h=n.clientX,g=n.clientY})),a.on("touchcancel",(function(t){y()})),a.on("touchend",(function(t){var n=Date.now()-p,s=t.originalEvent||t,m=(s.changedTouches&&s.changedTouches.length?s.changedTouches:s.touches&&s.touches.length?s.touches:[s])[0],S=m.clientX,_=m.clientY,b=Math.sqrt(Math.pow(S-h,2)+Math.pow(_-g,2));v&&n<750&&b<12&&(!function(t,e){r||(i[0].addEventListener("click",l,!0),i[0].addEventListener("touchstart",u,!0),r=[]),o=Date.now(),c(r,t,e)}(S,_),f&&f.blur(),e.isDefined(d.disabled)&&!1!==d.disabled||a.triggerHandler("click",[t])),y()})),a.onclick=function(t){},a.on("click",(function(t,e){n.$apply((function(){m(n,{$event:e||t})}))})),a.on("mousedown",(function(t){a.addClass(s)})),a.on("mousemove mouseup",(function(t){a.removeClass(s)}))}}]),o("ngSwipeLeft",-1,"swipeleft"),o("ngSwipeRight",1,"swiperight")}(window,window.angular)},1242:function(t,e,n){var i,o,r;o=[n(9)],void 0===(r="function"===typeof(i=function(t){return t.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(t,e){function n(n,i){var o=t[0].createElement("textarea");return o.style.position="absolute",o.style.fontSize="12pt",o.style.border="0",o.style.padding="0",o.style.margin="0",o.style.left="-10000px",o.style.top=(e.pageYOffset||t[0].documentElement.scrollTop)+"px",o.textContent=n,o}function i(e){try{t[0].body.style.webkitUserSelect="initial";var n=t[0].getSelection();n.removeAllRanges();var i=document.createRange();i.selectNodeContents(e),n.addRange(i),e.select(),e.setSelectionRange(0,999999);try{if(!t[0].execCommand("copy"))throw"failure copy"}finally{n.removeAllRanges()}}finally{t[0].body.style.webkitUserSelect=""}}function o(o,r){var a=e.pageXOffset||t[0].documentElement.scrollLeft,s=e.pageYOffset||t[0].documentElement.scrollTop,c=r&&r.container||t[0].body,l=n(o,r);c.appendChild(l),i(l),e.scrollTo(a,s),c.removeChild(l)}return{copyText:o,supported:"queryCommandSupported"in t[0]&&t[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(e){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(n,i){n.supported=e.supported,i.on("click",(function(o){try{e.copyText(n.text,i[0]),t.isFunction(n.onCopied)&&n.$evalAsync(n.onCopied())}catch(r){t.isFunction(n.onError)&&n.$evalAsync(n.onError({err:r}))}}))}}}])})?i.apply(e,o):i)||(t.exports=r)},1243:function(t,e,n){angular.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(t,e,n,i){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(o,r,a){var s,c,l,u,d,f,p,h,g,m,v,y,S,_,b,$,w,x;return x=angular.element(e),_=null,b=null,l=null,u=null,v=!0,w=!1,$=null,c=!1,m=function(t){return t=t[0]||t,isNaN(t.offsetHeight)?t.document.documentElement.clientHeight:t.offsetHeight},y=function(t){if(t[0].getBoundingClientRect&&!t.css("none"))return t[0].getBoundingClientRect().top+S(t)},S=function(t){return t=t[0]||t,isNaN(window.pageYOffset)?t.document.documentElement.scrollTop:t.ownerDocument.defaultView.pageYOffset},g=function(){var e,i,a;return u===x?(e=m(u)+S(u[0].document.documentElement),a=y(r)+m(r)):(e=m(u),i=0,void 0!==y(u)&&(i=y(u)),a=y(r)-i+m(r)),w&&(a=m((r[0].ownerDocument||r[0].document).documentElement)),a-e<=m(u)*_+1?(l=!0,b?o.$$phase||t.$$phase?o.infiniteScroll():o.$apply(o.infiniteScroll):void 0):(c&&n.cancel(c),l=!1)},null!=i&&(g=function(t,e){var i,o,r;return r=null,o=0,i=function(){return o=(new Date).getTime(),n.cancel(r),r=null,t.call()},function(){var a,s;return a=(new Date).getTime(),(s=e-(a-o))<=0?(n.cancel(r),r=null,o=a,t.call()):r?void 0:r=n(i,s,1)}}(g,i)),o.$on("$destroy",(function(){if(u.unbind("scroll",g),null!=$&&($(),$=null),c)return n.cancel(c)})),p=function(t){return _=parseFloat(t)||0},o.$watch("infiniteScrollDistance",p),p(o.infiniteScrollDistance),f=function(t){if((b=!t)&&l)return l=!1,g()},o.$watch("infiniteScrollDisabled",f),f(o.infiniteScrollDisabled),h=function(t){return w=t},o.$watch("infiniteScrollUseDocumentBottom",h),h(o.infiniteScrollUseDocumentBottom),(s=function(t){if(null!=u&&u.unbind("scroll",g),u=t,null!=t)return u.bind("scroll",g)})(x),o.infiniteScrollListenForEvent&&($=t.$on(o.infiniteScrollListenForEvent,g)),d=function(t){if(null!=t&&0!==t.length){if(t.nodeType&&1===t.nodeType?t=angular.element(t):"function"===typeof t.append?t=angular.element(t[t.length-1]):"string"===typeof t&&(t=angular.element(document.querySelector(t))),null!=t)return s(t);throw new Error("invalid infinite-scroll-container attribute.")}},o.$watch("infiniteScrollContainer",d),d(o.infiniteScrollContainer||[]),null!=a.infiniteScrollParent&&s(angular.element(r.parent())),null!=a.infiniteScrollImmediateCheck&&(v=o.$eval(a.infiniteScrollImmediateCheck)),c=n((function(){return v&&g(),n.cancel(c)}))}}}]),t.exports===e&&(t.exports="infinite-scroll")},1244:function(t,e){function n(t){this.addFontsToWebProjectModel=t.getAddFontsToWebProjectModel()}n.$inject=["AddFontsToWebProjectService"],n.prototype.getEmbedCodeModel=function(){return this.addFontsToWebProjectModel.getEmbedCodeModel()},n.prototype.doFamiliesExistInProject=function(){return this.addFontsToWebProjectModel.doFamiliesExistInProject()},n.prototype.getAllButLastExistingFamiliesInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().slice(0,-1)},n.prototype.getLastExistingFamilyInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().slice(-1)[0]},n.prototype.getNumberOfExistingFamiliesInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().length},n.prototype.isFamilyCJK=function(){return this.addFontsToWebProjectModel.isFamilyCJK()},n.prototype.isExistingProjectSelected=function(){return Boolean(this.addFontsToWebProjectModel.getSelectedProjectID())},n.prototype.getSelectedProjectName=function(){return this.addFontsToWebProjectModel.getSelectedProjectName()},n.prototype.didSaveSucceed=function(){return this.addFontsToWebProjectModel.didSaveSucceed()},n.prototype.isSaveButtonDisabled=function(){return this.addFontsToWebProjectModel.didAttemptSave()||!this.addFontsToWebProjectModel.isSaveValid()},n.prototype.handleSaveButtonClicked=function(){if(this.isSaveButtonDisabled()){var t=document.querySelector("#webfont-project-selector-search-box");t&&t.focus()}else this.addFontsToWebProjectModel.save()},n.prototype.handleCancelButtonClicked=function(){this.addFontsToWebProjectModel.closeDialog()},n.prototype.getAddedFontsCount=function(){return this.addFontsToWebProjectModel.getAddedFontsCount()},n.prototype.getAddedToProjectName=function(){return this.addFontsToWebProjectModel.getAddedToProjectName()},n.prototype.getAddedToProjectEditorLink=function(){return this.addFontsToWebProjectModel.getAddedToProjectEditorLink()},n.prototype.handleDoneButtonClicked=function(){this.addFontsToWebProjectModel.closeDialog()},t.exports=n},1245:function(t,e,n){o.$inject=["$scope","$q","$timeout","DataService","DialogService","FilteredFamilyListStateService","FontLoaderService","FontpackService","NewrelicClickTrackerService","NotificationService","SyncService","UserService"];var i=n(1);function o(t,e,n,i,o,r,a,s,c,l,u,d){var f=this;f.$scope=t,f.$q=e,f.$timeout=n,f.DataService=i,f.DialogService=o,f.FilteredFamilyListStateService=r,f.FontLoaderService=a,f.FontpackService=s,f.NotificationService=l,f.SyncService=u,f.UserService=d,c.init({page:"collections"}),f.viewType="list",f.$scope.$watch(f.fontpack),f._preloadData()}o.prototype.getDisplayFont=function(t){var e=this.textSampleData.textSamples[t.default_language].feature_settings,n=this.textSampleData.textSamples[t.default_language].kana_only,i=this.textSampleData.textSamples[t.default_language].unicode_range;return{cssName:t.css_name,featureSettings:e,fvd:t.fvd,isDynamic:!0,kanaOnly:n,opaqueId:t.opaque_id,unicodeRange:i}},o.prototype.getExampleText=function(t){return i.isEmpty(t)||this._isSelectedExampleTextSupported(t)?this.exampleText.value:this.textSampleData.textSamples[t.default_language].list},o.prototype.getExampleTextStyle=function(){return{fontSize:this.exampleText.size+"px"}},o.prototype.getHeroCardExampleText=function(t){var e=this.textSampleData.textSamples[t.default_language||"en"];return e.kana_only?e.grid_kana:e.grid},o.prototype.getHeroCardExampleTextClass=function(t){return"ja"===t.default_language?"collection-show__hero-variation-sample-japanese":"collection-show__hero-variation-sample"},o.prototype.getTextDirectionClass=function(t){return t.rtl?"sample-right":""},o.prototype.handleUnsyncButtonClick=function(t){this.FontpackService.unsyncFontpack(this.fontpack,t,this.i18n)},o.prototype.isFontpackSynced=function(){return this.FontpackService.isFontpackSynced(this.fontpack.slug)},o.prototype.isGetFontsButtonVisible=function(){return!this.requiresUpgrade()&&!this.isFontpackSynced()},o.prototype.isUnsyncFontsButtonVisible=function(){return this.isFontpackSynced()},o.prototype.requiresUpgrade=function(){return this.FontpackService.requiresUpgrade(this.fontpack.slug)},o.prototype.isUpgradeMessageAvailable=function(){return this.requiresUpgrade()&&!this.UserService.hasPaidCreativeCloud()},o.prototype.isNotAvailableMessageVisible=function(){return this.requiresUpgrade()&&!this.isUpgradeMessageAvailable()},o.prototype.shouldShowGridView=function(){return"grid"===this.viewType},o.prototype.shouldShowListView=function(){return"list"===this.viewType},o.prototype.syncFontpack=function(t){var e=[null,t].join("_");this.FontpackService.syncFontpack(this.fontpack,t,e,this.i18n)},o.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},o.prototype._isSelectedExampleTextSupported=function(t){var e=i.map(t.unicode_range.split(","),(function(t){return String.fromCharCode(parseInt(t.replace("U+",""),16))})),n=this.exampleText.value.split(""),o=i.difference(n,e);return i.isEmpty(o)},o.prototype._preloadData=function(){var t=this;return t.$q.all([t.DataService.get("/preloaded_collection_data").then((function(e){t.fontpack=e.fontpack,t.groups=e.fontpack.group_metadata,t.items=e.fontpack.font_variations,t.textSampleData=e.textSampleData,t._setExampleText(),t.FontpackService.addFontpacks([t.fontpack])})),t.DataService.get("/fontpack/i18n").then((function(e){t.i18n=e}))])},o.prototype._setExampleText=function(){var t=this,e=i.first(i.uniq(i.pluck(t.items||[],"default_language")))||"en",n=t.textSampleData.textSamples[e];t.exampleText={value:n.kana_only?n.list_kana:n.list,size:36},t.featureSettings=n.feature_settings,t.unicodeRange=n.unicode_range},t.exports=o},1246:function(t,e){function n(t,e,n,i,o,r){this.$q=t,this.DataService=e,this.FilterDataService=i,this.DesignersService=n,this.FilteredFamilyListStateService=o,this.UserPrefsService=r,this._preloadData()}n.$inject=["$q","DataService","DesignersService","FilterDataService","FilteredFamilyListStateService","UserPrefsService"],n.prototype._preloadData=function(){var t=this;return t.$q.all([t.UserPrefsService.getUserPrefs().then((function(e){t.DataService.get("/neue/preloaded_designer_data").then((function(n){t.filteredFamilyList=t.FilteredFamilyListStateService.getState(null,e),t.filteredFamilyList.families=n.familiesData.families,t.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,t.filteredFamilyList.totalPages=n.familiesData.totalPages,t.designerSlug=n.designerSlug,t.textSampleData=n.textSampleData,t.filtersModel=t.FilterDataService.getFilterModel()}))}))])},n.prototype.updateFilteredFamilyList=function(){var t=this;t.filtersModel.setCurrentPage(t.filteredFamilyList.currentPage),t.DesignersService.getFamilies(t.designerSlug,t.filtersModel.toSearchParams()).then((function(e){t.filteredFamilyList.families=e.data.families_data.families,t.filteredFamilyList.totalFamilies=e.data.families_data.totalFamilies,t.filteredFamilyList.totalPages=e.data.families_data.totalPages,t.textSampleData.textSamplePrimers=e.data.text_sample_primers})),t.FilteredFamilyListStateService.updateState(t.filteredFamilyList)},t.exports=n},1247:function(t,e,n){s.$inject=["$cookies","$document","$scope","$timeout","$window","DataService","FamiliesService","FeedbackService","FilterDataService","FilteredFamilyListStateService","I18nService","NewrelicClickTrackerService","NewrelicService","NotificationService","ScrollService","UserService","UserPrefsService"];var i=n(1),o=n(9),r={"art-deco":"adobe-fonts-families__tag-header--art-deco-horror",blackletter:"adobe-fonts-families__tag-header--blackletter-inline","brush-pen":"adobe-fonts-families__tag-header--brush-pen-luxury",calligraphic:"adobe-fonts-families__tag-header--calligraphic-marker",clean:"adobe-fonts-families__tag-header--clean-ornaments",college:"adobe-fonts-families__tag-header--college-rough",comic:"adobe-fonts-families__tag-header--comic-rounded",cursive:"adobe-fonts-families__tag-header--cursive-school",friendly:"adobe-fonts-families__tag-header--friendly-shaded",fun:"adobe-fonts-families__tag-header--fun-stencil",funky:"adobe-fonts-families__tag-header--funky-typewriter",futuristic:"adobe-fonts-families__tag-header--futuristic-wedding",geometric:"adobe-fonts-families__tag-header--geometric",horror:"adobe-fonts-families__tag-header--art-deco-horror",inline:"adobe-fonts-families__tag-header--blackletter-inline",luxury:"adobe-fonts-families__tag-header--brush-pen-luxury",marker:"adobe-fonts-families__tag-header--calligraphic-marker",ornaments:"adobe-fonts-families__tag-header--clean-ornaments",rough:"adobe-fonts-families__tag-header--college-rough",rounded:"adobe-fonts-families__tag-header--comic-rounded",school:"adobe-fonts-families__tag-header--cursive-school",shaded:"adobe-fonts-families__tag-header--friendly-shaded",stencil:"adobe-fonts-families__tag-header--fun-stencil",typewriter:"adobe-fonts-families__tag-header--funky-typewriter",wedding:"adobe-fonts-families__tag-header--futuristic-wedding",western:"adobe-fonts-families__tag-header--western"},a={"art-deco":"neue.browse.seo_tag_header_text.art_deco.seo_blurb",blackletter:"neue.browse.seo_tag_header_text.blackletter.seo_blurb","brush-pen":"neue.browse.seo_tag_header_text.brush_pen.seo_blurb",calligraphic:"neue.browse.seo_tag_header_text.calligraphic.seo_blurb",clean:"neue.browse.seo_tag_header_text.clean.seo_blurb",college:"neue.browse.seo_tag_header_text.college.seo_blurb",comic:"neue.browse.seo_tag_header_text.comic.seo_blurb",cursive:"neue.browse.seo_tag_header_text.cursive.seo_blurb",friendly:"neue.browse.seo_tag_header_text.friendly.seo_blurb",fun:"neue.browse.seo_tag_header_text.fun.seo_blurb",funky:"neue.browse.seo_tag_header_text.funky.seo_blurb",futuristic:"neue.browse.seo_tag_header_text.futuristic.seo_blurb",geometric:"neue.browse.seo_tag_header_text.geometric.seo_blurb",horror:"neue.browse.seo_tag_header_text.horror.seo_blurb",inline:"neue.browse.seo_tag_header_text.inline.seo_blurb",luxury:"neue.browse.seo_tag_header_text.luxury.seo_blurb",marker:"neue.browse.seo_tag_header_text.marker.seo_blurb",ornaments:"neue.browse.seo_tag_header_text.ornaments.seo_blurb",rough:"neue.browse.seo_tag_header_text.rough.seo_blurb",rounded:"neue.browse.seo_tag_header_text.rounded.seo_blurb",school:"neue.browse.seo_tag_header_text.school.seo_blurb",shaded:"neue.browse.seo_tag_header_text.shaded.seo_blurb",stencil:"neue.browse.seo_tag_header_text.stencil.seo_blurb",typewriter:"neue.browse.seo_tag_header_text.typewriter.seo_blurb",wedding:"neue.browse.seo_tag_header_text.wedding.seo_blurb",western:"neue.browse.seo_tag_header_text.western.seo_blurb"};function s(t,e,n,r,a,s,c,l,u,d,f,p,h,g,m,v,y){var S=this;S.$cookies=t,S.$document=e,S.$scope=n,S.$window=a,S.DataService=s,S.FamiliesService=c,S.FeedbackService=l,S.FilterDataService=u,S.FilteredFamilyListStateService=d,S.I18nService=f,S.NewrelicService=h,S.NotificationService=g,S.ScrollService=m,S.UserService=v,S.UserPrefsService=y,p.init({page:"browse"}),S._preloadData(),S._initWindowSizeWatcher(),r((function(){S.updateFilterListVisibilityForWindowSize()})),S._handleFiltersChangeWithDebounce=i.debounce(o.bind(S,S._handleFiltersChangeWithoutDebounce),100)}s.prototype.getTagHeaderClass=function(){if(this.filtersModel){var t=this.filtersModel.toSearchParams().tag;if(t)return r[t]}},s.prototype.getTagHeaderCopy=function(){var t=this;if(t._i18n&&this.filtersModel){var e=this.filtersModel.toSearchParams().tag;if(e){var n=a[e];if(n)return t.I18nService.getMessage(t._i18n,n,{family_count:this.filteredFamilyList.totalFamilies})}}},s.prototype.getTagHeaderFontDisplayData=function(){if(this.shouldShowDisplayFont()){var t=this.getTagHeaderTagData();if(t)return this.filtersModel.getFontDisplayData(t)}},s.prototype.getTagHeaderTagData=function(){if(this.filtersModel){var t=this.filtersModel.toSearchParams().tag;if(t)return this.filtersModel.getTagByKey(t)}},s.prototype.getTagHeaderLabel=function(){var t=this.getTagHeaderTagData();if(t)return t.label},s.prototype.handleFilteredFamilyListUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},s.prototype.handleFilteredFamilyListChange=function(){this.filtersModel.setCurrentPage(this.filteredFamilyList.currentPage),this.handleFiltersChange()},s.prototype.handleFiltersChange=function(){this.filtersModel.setLoading(!0),this._handleFiltersChangeWithDebounce()},s.prototype.handleBrowseModeButton=function(t){this.filtersModel.setBrowseMode(t.id),this.UserPrefsService.updatePrefs({browseMode:t.id}),this.filteredFamilyList.exampleText=null,this.handleFiltersChange()},s.prototype.isBrowseModeSelected=function(t){return this.filtersModel&&this.filtersModel.getBrowseMode()==t.id},s.prototype.isFilterListHidden=function(){return this._isFilterListHiddenByUser||this._isFilterListHiddenForSmallScreen},s.prototype.isTagHeaderVisible=function(){if(this.filtersModel){var t=this.filtersModel.toSearchParams().tag;return!!t&&!!r[t]}},s.prototype.shouldShowDisplayFont=function(){var t=this.getTagHeaderTagData();if(t)return!!t.font&&"ru_RU"!==this.filtersModel.getLocale()},s.prototype.toggleFilters=function(){this._isFilterListHiddenByUser=!this.isFilterListHidden(),this._isFilterListHiddenForSmallScreen=!1},s.prototype.toggleTagFeedbackNotification=function(){var t=this;t.DataService.get("/tag_feedback_notification/i18n").then((function(e){t.UserPrefsService.getUserPrefs().then((function(n){!n.hideTagFeedbackNotification&&t.filtersModel.isAnyTagSelected()&&t.filteredFamilyList.totalFamilies>0?t.NotificationService.addFeedbackNotification(e["neue.browse.tag_feedback_notification"],{category:"tag",skipTimeout:!0,tooltipText:e["neue.families.tag_feedback.family_tooltip"]}):t.NotificationService.removeFeedbackNotification()}))}))},s.prototype.updateFilterListVisibilityForWindowSize=function(){var t=this;t._getWindowWidth()!=t._previousWindowWidth&&(t._previousWindowWidth=t._getWindowWidth(),t.$scope.$apply((function(){t._isFilterListHiddenForSmallScreen=t._getWindowWidth()<=880})))},s.prototype._handleFiltersChangeWithoutDebounce=function(){var t=this,e=this.filtersModel.toSearchParams();t.FamiliesService.get(e).then((function(e){t.filteredFamilyList.families=e.data.families_data.families,t.filteredFamilyList.totalFamilies=e.data.families_data.totalFamilies,t.filteredFamilyList.totalPages=e.data.families_data.totalPages,t.filteredFamilyList.familyCountMessage=e.data.families_data.familyCountMessage,t.textSampleData=e.data.text_sample_data,t.toggleTagFeedbackNotification(),t.filtersModel.setLoading(!1)})),t.filteredFamilyList.currentPage=t.filtersModel.getCurrentPage(),t.filteredFamilyList.browseMode=t.filtersModel.getBrowseMode(),t.FilteredFamilyListStateService.updateUrl(e),t.FeedbackService.setFiltersModel(this.filtersModel)},s.prototype._initWindowSizeWatcher=function(){var t=this;t.$window.addEventListener("resize",(function(){t.isFilterListHiddenByUser||t.updateFilterListVisibilityForWindowSize()}))},s.prototype._setLanguageFilters=function(t){var e=this;e.filteredFamilyList.selectedLanguages.length>0?e.filteredFamilyList.selectedLanguages.forEach((function(t){e.filtersModel.selectLanguageMode(t)})):"default"===t?e.filtersModel.setBrowseMode(t):"japanese"===t?e.filtersModel.selectLanguageMode("ja"):e.filtersModel.selectLanguageMode(t)},s.prototype._preloadData=function(){var t=this;t.UserPrefsService.getUserPrefs().then((function(e){t.DataService.get("/families/i18n").then((function(e){t._i18n=e})),t.DataService.get("/neue/preloaded_family_data").then((function(n){t.filteredFamilyList=t.FilteredFamilyListStateService.getState(n.user,e),t.filteredFamilyList.families=n.familiesData.families,t.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,t.filteredFamilyList.totalPages=n.familiesData.totalPages,t.textSampleData=n.textSampleData,t.filtersModel=t.FilterDataService.getFilterModel({allFilters:n.familyFilters,collection:t.filteredFamilyList.collection,filterData:n.familyFilterData,hideLibraryOption:t.UserService.hasPaidCreativeCloud(),isTagsModuleVisible:n.isTagsModuleVisible,languages:n.languageFilters,locale:n.locale,tags:n.tagsFilters,signedOutState:!n.user,textSamples:t.textSampleData&&t.textSampleData.textSamples}),t.allBrowseModes=n.browseModes,t._setLanguageFilters(e.browseMode||t.allBrowseModes[0].id),t.filtersModel.selectTag(t.filteredFamilyList.selectedTag),t.filtersModel.setSelectedFilters(t.filteredFamilyList.selectedFilters),t.filtersModel.setShowPaidFonts(t.filteredFamilyList.showPaidFonts||e.showPaidFonts,!1),t.filtersModel.setShowBasicLibrary(e.showBasicLibrary),t.filtersModel.setMinStyles(t.filteredFamilyList.minStyles),t.filtersModel.setMaxStyles(t.filteredFamilyList.maxStyles),t.filteredFamilyList.familyCountMessage=n.familyCountMessage,t.FeedbackService.setFiltersModel(t.filtersModel),t.toggleTagFeedbackNotification()}))}))},s.prototype._getWindowWidth=function(){return this.$document[0].documentElement.clientWidth},t.exports=s},1248:function(t,e){function n(t){this.autocompleteService=t}n.$inject=["FamilyAutocompleteSearchService"],t.exports=n},1249:function(t,e,n){a.$inject=["$document","$q","$timeout","$scope","$window","AddFontsToWebProjectService","AuthenticationService","DataService","FavoritesService","FilteredFamilyListStateService","FilterVariationsService","FirstMileService","FontLoaderService","I18nService","NewrelicService","NewrelicClickTrackerService","NotificationService","RecommendationsService","RedirectContextService","ScrollService","SyncService","UserPrefsService","UserService"];var i=n(1),o=n(9),r="-section";function a(t,e,n,i,r,a,s,c,l,u,d,f,p,h,g,m,v,y,S,_,b,$,w){var x=this;x.$document=t,x.$q=e,x.$scope=i,x.$timeout=n,x.$window=r,x.AddFontsToWebProjectService=a,x.AuthenticationService=s,x.DataService=c,x.FavoritesService=l,x.FilteredFamilyListStateService=u,x.FilterVariationsService=d,x.FirstMileService=f,x.FontLoaderService=p,x.I18nService=h,x.NewrelicService=g,x.NotificationService=v,x.RecommendationsService=y,x.RedirectContextService=S,x.ScrollService=_,x.SyncService=b,x.UserPrefsService=$,x.UserService=w,m.init({page:"family detail"}),x.windowIsScrolling=!1,x._preloadData().then((function(){x._handleContext()})),o.element(document).ready((function(){x.$timeout((function(){x.$scope.$watch((function(){return location.hash}),(function(t){""!==t&&(history.state&&!history.state.navigationTabClicked||x._scrollOnLoad(t))})),x.$scope.$watch((function(){return x.$window.pageYOffset}),(function(){x.windowIsScrolling||x._updateAnchor()}))}))}))}a.prototype._scrollOnLoad=function(t){var e=this,n=t.substr(1,t.indexOf(r)-1),i=t.substr(t.indexOf(r)+r.length+1);if("details"===n&&""!==i){var o=e.getVariationFromSlug(i);o&&e.setSelectedVariation(o)}e._selectTabFromAnchor(n),e._scrollToAnchor(n,t)},a.prototype.getVariationFromSlug=function(t){return i.find(this.filteredFonts,(function(e){return t===e.slug}))},a.prototype.handleSimilarFontsAndPairingsLinkClick=function(t){this.setSelectedVariation(t),location.href="#details-section+"+t.slug},a.prototype.isFlagged=function(t){return"negative"===t.selectedFeedback},a.prototype.activateFamilyLabel=function(){var t=this.syncableFonts.length-this.activatedFontCount;return 1===t?this.I18nService.getMessage(this._i18n,"browse.families.show.activate_one_font"):this.I18nService.getMessage(this._i18n,"browse.families.show.activate_n_fonts",{num_fonts:t})},a.prototype.activateSubfamily=function(t,e){var n=this;n._keepSubfamilyDropdownOpen(),n.NewrelicService.addPageAction("typekit.click.activate-subfamily",{subfamily:t,fontCount:e.length}),n.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_fonts",{font_ids:i.pluck(e,"id")}).then((function(){n._sync(e)}))},a.prototype.decrementActivatedFontCount=function(){this.activatedFontCount--},a.prototype.filterFontsByRequiredActions=function(t){var e=this.FilterVariationsService.filterRequiredActionsByToggles(this.family.fonts,t);this.preferredAction=e.preferred,this.filteredNavigationTabs=this._filterTabs(),this.filteredFonts=this.FilterVariationsService.filterFontsByRequiredActions(this.family.fonts,e.filters)},a.prototype.favoriteToggleClass=function(){return this.family&&this.family.favorite?"favorite-toggle-icon on":"favorite-toggle-icon"},a.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"font-variations-grid-view":"font-variation-list"},a.prototype.getDesignersForSelectedVariation=function(){if(this.designerInfo){var t=this;return i.compact(i.map(t.selectedVariation.designers,(function(e){return t.designerInfo[e.slug]})))}},a.prototype.getFontDisplayData=function(t){var e=this._fontByWebFvd(t,"n4");e=(e=(e=(e=(e=e||this._fontByWebFvd(t,"n5"))||this._fontByWebFvd(t,"n3"))||this._fontByWebFvd(t,"n2"))||this._fontByWebFvd(t,"n1"))||t[Math.floor(t.length/2)];var n=this.textSampleData.textSamples[e.default_language].unicode_range,i=this.textSampleData.textSamples[e.default_language].feature_settings,o=this.textSampleData.textSamples[e.default_language].kana_only;return o||(o=!1),{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!0,opaqueId:e.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:o}},a.prototype.handleAddToWebProjectButton=function(){this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.family.slug)},a.prototype.handleVariationDetailsClick=function(t){this.setSelectedVariation(t),this._scrollToAnchor("details","#details-section+"+this.selectedVariation.slug)},a.prototype.setSelectedVariation=function(t){this.selectedVariation=t,this.getSelectedVariationSimilarities(),this.getSelectedVariationPairings()},a.prototype.handleRecommendedVariationDetailsClick=function(t){var e=i.findIndex(this.variationMenuItems,(function(e){return e.value.id===t.id}));this.handleVariationDetailsClick(this.variationMenuItems[e].value)},a.prototype.incrementActivatedFontCount=function(){this.activatedFontCount++},a.prototype.isAllSynced=function(t){var e=this.syncedFonts(t).length;return e>0&&e===t.length},a.prototype.isAddToWebProjectButtonVisible=function(){return this._availableForWeb()&&!this._allFontsRequireWebAction()},a.prototype.isDefaultJapaneseLanguageSelected=function(){return"ja"==this.selectedVariation.default_language},a.prototype.isDefaultEnglishLanguageSelected=function(){return"en"==this.selectedVariation.default_language},a.prototype.isStickyNavDisabled=function(){return this.$window.innerWidth<768},a.prototype.getCarouselListClass=function(t){return t>2?"adobe-fonts-family__carousel-list":""},a.prototype.isQuickMultiSyncAvailable=function(){return this.syncableFonts.length>0&&!this.isSubfamilyActivateAvailable()},a.prototype.isQuickMultiSyncVisible=function(){return!this.isAllSynced(this.syncableFonts)},a.prototype.isQuickMultiUnsyncVisible=function(){return this.isAllSynced(this.syncableFonts)},a.prototype.isSubfamilyActivateAvailable=function(){return this.syncableFonts.length>=8&&i.keys(this.syncableSubFamilies).length>1&&!this.isAllSynced(this.syncableFonts)},a.prototype.requiresUpgradeForWeb=function(){var t=this,e=!1;return t.family.fonts.forEach((function(n){!e&&t._fontRequiresUpgradeForWeb(n.font)&&(e=!0)})),e&&!t._availableForWeb()},a.prototype.selectedVariationHasDesigners=function(){return!i.isEmpty(this.getDesignersForSelectedVariation())},a.prototype.selectedVariationHasManyDesigners=function(){return this.getDesignersForSelectedVariation().length>=3},a.prototype.selectedVariationDisplayData=function(){var t=this.selectedVariation;return{cssName:t.family.web_id+"-"+t.font.web.fvd,fvd:t.font.web.fvd,isDynamic:!0,opaqueId:t.family.web_id,unicodeRange:this.unicodeRange,featureSettings:this.featureSettings}},a.prototype.selectedVariationHasFilters=function(){return i.size(this.selectedVariation.filters)>0},a.prototype.sync=function(t,e){var n=this;n.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:n.family.slug}).then((function(){n._sync(e)}))},a.prototype.syncedFonts=function(t){return i.filter(t,(function(t){return"sync"in t.font&&(t.font.sync.is_selected||i.contains(t.font.sync.install_state.split(","),"cc"))}))},a.prototype.toggleSync=function(t,e){this.isAllSynced(e)?this.unsync(this.syncedFonts(e)):this.sync(t,this.unsyncedFonts(e))},a.prototype.toggleFavorite=function(){var t=this;t.family.favorite?t.FavoritesService.delete(t.family.slug).then((function(){t.family.favorite=!1}),(function(e){t.NotificationService.error(e.data.error)})):t.FavoritesService.post(t.family.slug).then((function(){t.family.favorite=!0}),(function(e){t.NotificationService.error(e.data.error)}))},a.prototype.unsync=function(t){var e=this;e._keepSubfamilyDropdownOpen(),e.NewrelicService.addPageAction("typekit.click.unsync-all-button",{family:e.family.name}),t.forEach((function(t){t.isSyncing=!0})),e.SyncService.removeSyncedVariations(i.pluck(t,"id")).then((function(n){var i;t.forEach((function(t){t.isSyncing=!1,"data"in n&&n.data.removed_font_ids.indexOf(t.id)>-1?(t.font.sync.is_selected=!1,t.font.sync.install_state=""):i=!0})),i?e.NotificationService.error(e.I18nService.getMessage(e._i18n,"neue.browse.family_card.error_occurred_deactivating_some_fonts")):(e.activatedFontCount-=n.data.removed_font_ids.length,t.length>1?e.NotificationService.success(e.I18nService.getMessage(e._i18n,"neue.families.multi_sync.loading_dialog.unsync_family_multiple_fonts_html",{family:e.family.name,num:t.length})):e.NotificationService.success(e.I18nService.getMessage(e._i18n,"neue.families.multi_sync.loading_dialog.unsync_family_one_font_html",{family:e.family.name})))}),(function(){e.NotificationService.error(e.I18nService.getMessage(e._i18n,"neue.browse.family_card.error_occurred_deactivating_fonts"))}))},a.prototype.unsyncedFonts=function(t){return i.reject(t,(function(t){return"sync"in t.font&&t.font.sync.is_selected}))},a.prototype._allFontsRequireWebAction=function(){var t=this;return i.every(t.family.fonts,(function(e){return t._fontRequiresWebAction(e.font)}))},a.prototype._availableForWeb=function(){var t=this;return i.some(t.family.fonts,(function(e){return t.fontAvailableForWeb(e.font)}))},a.prototype.fontAvailableForWeb=function(t){return(this.userPlan||{}).library?"web"in t&&!this._fontIsWebPreviewOnly(t)&&!this._fontRequiresWebAction(t):"web"in t&&!this._fontIsWebPreviewOnly(t)&&(t.web.library_availability.trial||t.web.library_availability.full)},a.prototype.isNonPreviewWebFont=function(t){return t.web&&!this._fontIsWebPreviewOnly(t)},a.prototype._filterTabs=function(){var t=this;return i.reject(t.navigationTabs,(function(e){return"recommendations"===e.id&&!t.shouldShowFontRecommendations}))},a.prototype._fontAvailableForSync=function(t){return t.sync&&0==t.sync.required_action.length},a.prototype._fontByWebFvd=function(t,e){return i.find(t,(function(t){return t.font.web.fvd===e}))},a.prototype._fontRequiresWebAction=function(t){return t.web&&t.web.required_action.length>0},a.prototype._fontIsWebPreviewOnly=function(t){return!!t.web&&-1!==t.web.required_action.indexOf("preview_only")},a.prototype._fontRequiresUpgradeForWeb=function(t){return!!t.web&&-1!==t.web.required_action.indexOf("upgrade")},a.prototype._keepSubfamilyDropdownOpen=function(){var t=this;t.isSubfamilyDropdownOpen=!0,t.timer&&t.$timeout.cancel(t.timer),t.timer=t.$timeout((function(){t.isSubfamilyDropdownOpen=!1}),3e3)},a.prototype._handleContext=function(){return this.RedirectContextService.handleContext()},a.prototype.showPaidFontsSelected=function(){return this.showPaidFonts},a.prototype.updateDesignerName=function(){this.designerInfo&&i.each(this.designerInfo,(function(t){var e=t.name;t.originalName||(t.originalName=e),e.length>=45&&(t.name=e.substring(0,22)+"..."+e.substring(e.length-10,e.length))}))},a.prototype._preloadData=function(){var t=this;return t.$q.all([t.DataService.get("families-show-i18n").then((function(e){t._i18n=e})),t.UserPrefsService.getUserPrefs().then((function(e){return t.browseMode=e.browseMode||"default",t.showPaidFonts=!!e.showPaidFonts,t.viewType=e.selectedViewType||"list",t.DataService.get("/neue/preloaded_family_data")})).then((function(e){t.family=e.family,t.availability=e.availability,t.designerInfo=e.designer_info,t.selectedVariationSlug=e.selectedVariationSlug,t.userPlan=e.userPlan,t.UserService.incrementSyncUsage(t.userPlan.usage.synced_desktop_fonts||0),t.UserService.setSyncLimit(t.userPlan.limits.synced_desktop_fonts||0),t.UserService.setPlan(t.userPlan.name),t.updateDesignerName(),t.shouldShowFontRecommendations=t._shouldShowFontRecommendations(t.family.fonts),t.getFamilyFontSimilarities(),t.getFamilyFontPairings(),t.getSelectedVariationSimilarities(),t.getSelectedVariationPairings(),t.family.fonts.length>0&&(t.syncableFonts=i.filter(t.family.fonts,(function(e){return(t.userPlan||{}).library?"sync"in e.font&&0===e.font.sync.required_action.length:"sync"in e.font&&(e.font.sync.library_availability.trial||e.font.sync.library_availability.full)})),t.syncableSubFamilies=i.groupBy(t.syncableFonts,(function(t){return t.family.web_name})),t.availabilitySummary=e.availabilitySummary),t.activatedFontCount=(t.family.card_state||{}).activated_font_count||0,t.languagesDictionary=e.languagesDictionary,t.filterLabelDictionary=e.filterLabelDictionary,t.textSampleData=e.textSampleData,t.kanaOnly=e.kana_only,t.navigationTabs=e.navigationTabs,t.currentTab=t.navigationTabs[0],t.isSubfamilyDropdownOpen=!1,t.variationMenuItems=i.map(t.family.fonts,(function(t){return{label:t.name,value:t}})),t.showUpgradeActionToggle=!t.UserService.hasPaidCreativeCloud()&&t.FilterVariationsService.hasUpgradeFilterOption(t.family.fonts);var n={upgrade:t.showUpgradeActionToggle&&t.showPaidFonts};t.filterFontsByRequiredActions(n);var o=t.getVariationFromSlug(this.selectedVariationSlug)||t.filteredFonts[0];t.setSelectedVariation(o),t._setExampleText(),e.shouldShowExpiredFontsModal&&t.FirstMileService.showExpiredFontsDialog()}))])},a.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},a.prototype._selectTabFromAnchor=function(t){var e=this;for(var n in e.filteredNavigationTabs)if(e.filteredNavigationTabs[n].id===t){e.currentTab=e.filteredNavigationTabs[n];break}},a.prototype._setExampleText=function(){var t=this,e=i.first(i.uniq(i.pluck(t.family.fonts||[],"default_language")))||"en",n=t.textSampleData.textSamples[e];t.exampleText={value:t.kanaOnly?n.list_kana:n.list,size:36},t.featureSettings=n.feature_settings,t.unicodeRange=n.unicode_range,t.defaultExampleTextValue=t.exampleText.value,t.similarityCardText={value:"Champagne Sorbet",size:36}},a.prototype._scrollToAnchor=function(t,e){var n=this,i=-1*this._getNavBarHeight(),o=n.$document[0].getElementById(this._getSectionId(t));n.windowIsScrolling=!0,this.ScrollService.scrollTo(o,500,i).then((function(){n.windowIsScrolling=!1,e&&(location.href=e)}))},a.prototype._sync=function(t){var e=this;t.forEach((function(t){t.isSyncing=!0})),e.SyncService.addSyncedVariations(i.pluck(t,"id")).then((function(n){var i;t.forEach((function(t){t.isSyncing=!1,"data"in n&&n.data.added_font_ids.indexOf(t.id)>-1?t.font.sync.is_selected=!0:i=!0})),i?e.NotificationService.error(e.I18nService.getMessage(e._i18n,"neue.browse.family_card.error_occurred_activating_some_fonts")):(e.activatedFontCount+=n.data.added_font_ids.length,e._handleFontSyncSuccess(t))}),(function(){e.NotificationService.error(e.I18nService.getMessage(e._i18n,"neue.browse.family_card.error_occurred_activating_fonts"))}))},a.prototype._updateAnchor=function(){var t=this._getCurrentSection();if(0!==t.length&&this.currentTab.id!==t){var e="#"+t+"-section";"details"===t&&(e=e+"+"+this.selectedVariation.slug),this.$window.history.replaceState({navigationTabClicked:!1},null,e),this._selectTabFromAnchor(t)}},a.prototype._getCurrentSection=function(){var t="";for(var e in this.filteredNavigationTabs)this._isSectionInOrAboveViewport(this.filteredNavigationTabs[e].id)&&(t=this.filteredNavigationTabs[e].id);return t},a.prototype._isSectionInOrAboveViewport=function(t){if(!this.$document[0])return!1;var e=this.$document[0].getElementById(this._getSectionId(t)).getBoundingClientRect(),n=Math.min(this.$document[0].body.scrollTop,this.$document[0].documentElement.scrollTop);return e.top<=n+2*this._getNavBarHeight()},a.prototype._getNavBarHeight=function(){return this.$document[0].querySelector(".sticky-header").getBoundingClientRect().height},a.prototype._getSectionId=function(t){return t+r},a.prototype._handleFontSyncSuccess=function(t){var e=this;e.FirstMileService.shouldShowFontActivationDialog().then((function(n){if(n)return e.FirstMileService.showFontActivationDialog();t.length>1?e.NotificationService.success(e.I18nService.getMessage(e._i18n,"neue.families.multi_sync.loaded_dialog.heading_multiple",{fonts:t.length,family:e.family.name})):e.NotificationService.success(e.I18nService.getMessage(e._i18n,"neue.families.multi_sync.loaded_dialog.heading_single",{font:t[0].name}))}))},a.prototype.getFamilyFontSimilarities=function(){var t=this;t.shouldShowFontRecommendations&&t.RecommendationsService.familyFontSimilarities(t.family.slug,24,1).then((function(e){t.familyFontSimilarities=e.data}))},a.prototype.getFamilyFontPairings=function(){var t=this;t.shouldShowFontRecommendations&&t.RecommendationsService.familyFontPairings(t.family.slug,12,1).then((function(e){t.familyFontPairings=e.data}))},a.prototype.handleSelectedVariationChange=function(){location.href="#details-section+"+this.selectedVariation.slug,this.getSelectedVariationSimilarities(),this.getSelectedVariationPairings()},a.prototype.getSelectedVariationSimilarities=function(){var t=this;t.shouldShowFontRecommendations&&t.selectedVariation&&t.selectedVariation.id&&t.RecommendationsService.similarFonts(t.selectedVariation.id,24,1).then((function(e){t.selectedVariationSimilarities=e.data}))},a.prototype.getSelectedVariationPairings=function(){var t=this;t.shouldShowFontRecommendations&&t.selectedVariation&&t.selectedVariation.id&&t.RecommendationsService.pairedFonts(t.selectedVariation.id,12,1).then((function(e){t.selectedVariationPairings=e.data}))},a.prototype.shouldShowFontSimilarities=function(){return void 0!==this.familyFontSimilarities&&this.familyFontSimilarities.length>0},a.prototype.shouldShowFontPairings=function(){return void 0!==this.familyFontPairings&&this.familyFontPairings.length>0},a.prototype.shouldShowSelectedFontSimilarities=function(){return void 0!==this.selectedVariationSimilarities&&this.selectedVariationSimilarities.length>0},a.prototype.shouldShowSelectedFontPairings=function(){return void 0!==this.selectedVariationPairings&&this.selectedVariationPairings.length>0},a.prototype._shouldShowFontRecommendations=function(t){var e=!1,n=!0;return t.forEach((function(t){t.has_similar_fonts_or_pairings&&(e=!0),"en"!==t.default_language&&(n=!1)})),e&&n},t.exports=a},1250:function(t,e,n){o.$inject=["$document","$scope","$timeout","$window","DataService"];var i=n(1);function o(t,e,n,i,o){this.$document=t,this.$timeout=n,this.$window=i,this.DataService=o,this.featuredFoundries={},this.foundries=[],this.isLoaded=!1,this.isBiographyCollapsed=!0,this.isBiographyCollapsible=!1,this.selectedFoundry=null,this.selectedSortOption=null,this.sortOptions=[],this.specimenImages={},this._preloadData();var r=this;i.addEventListener("load",(function(){r.isLoaded=!0,e.$apply(),r.updateIsBiographyCollapsible()})),i.addEventListener("resize",(function(){r.updateIsBiographyCollapsible()}))}o.prototype.getCarouselListClass=function(){return this.getFeaturedFamilyImages().length>2?"adobe-fonts-family__carousel-list":""},o.prototype.getFeaturedFamilies=function(){return(this.featuredFoundries[this.selectedFoundry]||{}).featuredFamilies||[]},o.prototype.getFeaturedFamilyImages=function(){if(this.specimenImages[this.selectedFoundry])return this.specimenImages[this.selectedFoundry];var t=this.getFeaturedFamilies();return this.specimenImages[this.selectedFoundry]=t.map((function(t){return t.specimenImage})),this.specimenImages[this.selectedFoundry]},o.prototype.getSmallScreenClass=function(){return this.$window.innerWidth<500?"spectrum-grid-col-xs-12":this.$window.innerWidth<768?"spectrum-grid-col-xs-6":this.$window.innerWidth<900?"spectrum-grid-col-sm-4":this.$window.innerWidth<1280?"spectrum-grid-col-sm-3":""},o.prototype.selectFoundry=function(t){var e=this;e.selectedFoundry=t,e.isBiographyCollapsible=!0,e.isBiographyCollapsed=!0,e.$timeout((function(){e.updateIsBiographyCollapsible()}),1)},o.prototype.sortFoundries=function(){var t=this;t.foundries=i.sortBy(t.foundries,(function(e){return e[t.selectedSortOption]})),"desc"===i.find(t.sortOptions,(function(e){return e.value===t.selectedSortOption})).order&&t.foundries.reverse()},o.prototype.updateIsBiographyCollapsible=function(){var t=this.$document[0].getElementById("featured-foundries--left-column"),e=this.$document[0].getElementById("featured-foundries--right-column");this.isBiographyCollapsible=t&&e&&t.clientHeight<e.clientHeight,this.isBiographyCollapsible=this.isBiographyCollapsible&&this.$window.innerWidth>=768},o.prototype._preloadData=function(){var t=this;t.DataService.get("/spectrum/foundries").then((function(e){t.featuredFoundries=e.featuredFoundries||{},t.selectedFoundry=Object.keys(t.featuredFoundries)[0],t.foundries=e.foundries,t.sortOptions=e.sortOptions,t.sortOptions&&(t.selectedSortOption=t.sortOptions[0].value)}))},t.exports=o},1251:function(t,e,n){a.$inject=["$document","$q","DataService","FilterDataService","FilteredFamilyListStateService","FoundriesService","NewrelicClickTrackerService","UserPrefsService","YouTubeService"];var i=n(9),o="video-playing",r={adobe:{en_US:"YGUe-EQWxF4",de_DE:"H1HqLVNagO8",fr_FR:"JpacO3Ol1nE",ja_JP:"tv_IucBF_5E"},morisawa:{de_DE:"o2B449k5kC4",en_US:"o2B449k5kC4",fr_FR:"o2B449k5kC4",ja_JP:"mZsFgZH8yp4"}};function a(t,e,n,o,r,a,s,c,l){var u=this;u.$q=e,u.DataService=n,u.FilterDataService=o,u.FilteredFamilyListStateService=r,u.FoundriesService=a,u.UserPrefsService=c,u.YouTubeService=l,u._bodyElement=i.element(t.find("body")),s.init({page:"foundry detail"}),u._preloadData().then((function(){u._initVideo()}))}a.prototype.handleUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},a.prototype.updateFilteredFamilyList=function(){var t=this;t.filtersModel.setCurrentPage(t.filteredFamilyList.currentPage),t.FoundriesService.getFamilies(t.foundrySlug,t.filtersModel.toSearchParams()).then((function(e){t.filteredFamilyList.families=e.data.families_data.families,t.filteredFamilyList.totalFamilies=e.data.families_data.totalFamilies,t.filteredFamilyList.totalPages=e.data.families_data.totalPages,t.textSampleData.textSamplePrimers=e.data.text_sample_primers})),t.FilteredFamilyListStateService.updateState(t.filteredFamilyList)},a.prototype._preloadData=function(){var t=this;return t.$q.all([t.UserPrefsService.getUserPrefs().then((function(e){t.DataService.get("/neue/preloaded_foundry_data").then((function(n){t.filteredFamilyList=t.FilteredFamilyListStateService.getState(null,e),t.filteredFamilyList.families=n.familiesData.families,t.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,t.filteredFamilyList.totalPages=n.familiesData.totalPages,t.foundrySlug=n.foundrySlug,t.locale=n.locale,t.textSampleData=n.textSampleData,t.filtersModel=t.FilterDataService.getFilterModel()}))}))])},a.prototype.handleVideoCloseButtonClick=function(){this.player.pauseVideo(),this._bodyElement.removeClass(o)},a.prototype._handlePlayerStateChange=function(t){0===t.data&&this._bodyElement.removeClass(o)},a.prototype._initVideo=function(){var t=this;if(r[t.foundrySlug]){var e=r[t.foundrySlug][t.locale]||r[t.foundrySlug].en_US;t.YouTubeService.init().then((function(){t.YouTubeService.load("player",e,{height:"100%",width:"100%",onPlayerStateChangeCallback:function(e){t._handlePlayerStateChange(e)}}).then((function(e){t.player=e}))}))}},t.exports=a},1252:function(t,e){function n(t,e,n,i){var o=this;this.NewrelicService=i,n.init({page:"homepage"}),e.get("/home/example_families_data").then((function(t){o.textSampleData=t.featured_families.textSampleData,o.featuredfamilies=t.featured_families.families.slice(NaN)}))}n.$inject=["$document","DataService","NewrelicClickTrackerService","NewrelicService"],n.prototype.getExampleText=function(t){var e="list";return null!=t.filters&&t.filters.indexOf("ka:ko")>=0&&(e+="_kana"),{size:50,value:this.textSampleData.textSamples[t.display_font.default_language][e]}},t.exports=n},1253:function(t,e,n){c.$inject=["$document","$scope","$window","DataService","DialogService","FilterDataService","FilteredFamilyListStateService","FirstMileService","FontCountService","I18nService","MyFontsService","NewrelicService","NotificationService","TkWebProjectEditorService","UserPrefsService"];var i=n(9),o=n(1),r="all",a="under_30_days",s="updated_at_desc";function c(t,e,n,r,a,s,c,l,u,d,f,p,h,g,m){var v=this;v.DataService=r,v.DialogService=a,v.FilterDataService=s,v.FilteredFamilyListStateService=c,v.FirstMileService=l,v.FontCountService=u,v.I18nService=d,v.MyFontsService=f,v.NewrelicService=p,v.NotificationService=h,v.UserPrefsService=m,v.$document=t,v.$scope=e,v.$window=n,v.TkWebProjectEditorService=g,v._loadSortModes(),v._preloadData(),v._initWindowSizeWatcher(),v.TkWebProjectEditorService.populateCompleteWebProjectsData(1),v.handleFiltersChange=o.debounce(i.bind(v,v.updateFilteredFamilyList),100)}c.prototype.handleBrowseModeButton=function(t){this.filtersModel.setBrowseMode(t.id),this.UserPrefsService.updatePrefs({browseMode:t.id}),this.filteredFamilyList.exampleText=null,this.handleFiltersChange()},c.prototype.handleFilteredFamilyListUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},c.prototype.isActiveFontsView=function(){return this.currentTab&&"active_fonts"===this.currentTab.id},c.prototype.isBrowseModeSelected=function(t){return this.filtersModel&&this.filtersModel.getBrowseMode()==t.id},c.prototype.isEmptyState=function(){return this.isWebProjectsView()?!this.kitsData||0===this.kitsData.length:this.isEmpty||0===this.filteredFamilyList.families.length},c.prototype.isFavoritesView=function(){return this.currentTab&&"favorites"===this.currentTab.id},c.prototype.isFilterListHidden=function(){return!(!this._isFilterListHiddenByUser&&!this._isFilterListHiddenForSmallScreen)},c.prototype.isPreviouslyActiveView=function(){return this.currentTab&&"previously_active"===this.currentTab.id},c.prototype.isPurchasedTab=function(){return this.currentTab&&"purchased"===this.currentTab.id},c.prototype.isWebProjectsView=function(){return this.currentTab&&"web_projects"===this.currentTab.id},c.prototype.manageFontsDeactivationButtonText=function(){return this.selectedManageFontsFilterValue===r?this._i18n["my_fonts.active_fonts.manage_fonts.deactivate_all_button"]:this._i18n["my_fonts.active_fonts.manage_fonts.deactivate_selected_button"]},c.prototype.onTabChanged=function(){this.filteredFamilyList.currentPage=1,this.selectedSort=s,this.filtersModel.setSortOrder(s),this._updateFamilySortModes(),this.isWebProjectsView()||this.isFirstPageLoad||this.updateFilteredFamilyList(),this.isFirstPageLoad=!1},c.prototype.shouldShowTooManyFontsNotice=function(){return this.isActiveFontsView()&&this.filteredFamilyList.families.length>0&&this.FontCountService.getAllActivatedFontsCount()>100&&this.FontCountService.getAllActivatedFontsCount()<=500},c.prototype.shouldShowTooManyFontsWarning=function(){return this.isActiveFontsView()&&this.filteredFamilyList.families.length>0&&this.FontCountService.getAllActivatedFontsCount()>500},c.prototype.showManageFontsConfirmationDialog=function(){var t=this;t.DialogService.show("/angular_templates/dialogs/manage_fonts_confirmation.html").then((function(e){e.handleCancelButtonClick=function(){e.close()},e.handleConfirmButtonClick=function(){var n=o.omit(o.extend(t.filtersModel.toSearchParams(),t._myFontsParams(),{manage_fonts_filter:t.selectedManageFontsFilterValue}),o.isNull);t.MyFontsService.deactivateFonts(n).then((function(){e.close(),t.NewrelicService.addPageAction("typekit.click.bulk_deactivate_button",{activatedFontsCount:t.FontCountService.getAllActivatedFontsCount(),filter:t.selectedManageFontsFilterValue,fontsDeactivated:t._getActivatedFontsCountForSelectedFilter()}),t.NotificationService.success(t._getManageFontsDeactivationSuccessMessage()),t._clearFilters(),t.updateFilteredFamilyList()}),(function(){e.close(),t.NotificationService.error(t._i18n["my_fonts.active_fonts.manage_fonts.deactivation_error_message"])}))},e.heading=t._manageFontsConfirmationDialogHeading()}))},c.prototype.toggleFilters=function(){this._isFilterListHiddenByUser=!this.isFilterListHidden(),this._isFilterListHiddenForSmallScreen=!1},c.prototype.handleSortModeChange=function(){this.filtersModel.setSortOrder(this.selectedSort),this.filteredFamilyList.currentPage=1,this.handleFiltersChange()},c.prototype.handleManageFontsFilterChange=function(){this.filteredFamilyList.currentPage=1,this.handleFiltersChange()},c.prototype.getTotalFontsText=function(){var t=this.FontCountService.getAllFamiliesCount();return this.isActiveFontsView()?this._getTotalActiveFontsText(this.FontCountService.getAllActivatedFontsCount(),t):this._getTotalPreviousActiveFontsText(this.FontCountService.getAllPreviouslyActivatedFontsCount(),t)},c.prototype.updateFilteredFamilyList=function(){var t=this,e=o.omit(o.extend(t.filtersModel.toSearchParams(),t._myFontsParams()),o.isNull);t.filtersModel.setCurrentPage(t.filteredFamilyList.currentPage),t.isLoading=!0,t.MyFontsService.get(e).then((function(n){n.data.collection===t.currentTab.id&&(t.filteredFamilyList.families=n.data.familiesData.families,1===e.page?t.fontFamilyAccordion.families=n.data.familiesData.families:t.fontFamilyAccordion.families=t.fontFamilyAccordion.families.concat(n.data.familiesData.families),t.filteredFamilyList.totalFamilies=n.data.familiesData.totalFamilies,t.filteredFamilyList.totalPages=n.data.familiesData.totalPages,t.purchasedFonts=n.data.familiesData.purchasedFonts,t.textSampleData=n.data.textSampleData,t.FilteredFamilyListStateService.updateState(t.filteredFamilyList),t.manageFontsFiltersData=n.data.manageFontsFilters,t.manageFontsFilters=t._getManageFontsFilters(t.manageFontsFiltersData),t.FontCountService.setAllFamiliesCount(n.data.familiesData.totalFamilies),t.FontCountService.setAllPreviouslyActivatedFontsCount(n.data.allPreviouslyActivatedFontsCount),t.FontCountService.setAllActivatedFontsCount(n.data.allActivatedFontsCount),t.FontCountService.setFilteredActivatedFontsCount(t._getFilterWithValue(r).activatedFontsCount),t.FontCountService.setThirtyDayActivatedFontsCount(t._getFilterWithValue(a).activatedFontsCount),t.isEmpty=n.data.isEmpty),t.filteredFamilyList.browseMode=t.filtersModel.getBrowseMode(),t.filteredFamilyList.currentPage=t.filtersModel.getCurrentPage(),t.isLoading=!1,t.FilteredFamilyListStateService.updateUrl(e),n.data.shouldShowExpiredFontsModal&&t.FirstMileService.showExpiredFontsDialog()}))},c.prototype.loadMoreFamilies=function(){this.filteredFamilyList.currentPage>=this.filteredFamilyList.totalPages||(this.filteredFamilyList.currentPage+=1,this.updateFilteredFamilyList())},c.prototype.updateFilterListVisibilityForWindowSize=function(){var t=this;t._getWindowWidth()!=t._previousWindowWidth&&(t._previousWindowWidth=t._getWindowWidth(),t.$scope.$apply((function(){t._isFilterListHiddenForSmallScreen=t._getWindowWidth()<=880})))},c.prototype._getTotalActiveFontsText=function(t,e){return t>1&&e>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.font_count.plural_fonts_plural_families",{num_fonts:t,num_families:e}):t>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.font_count.plural_fonts_singular_family",{num_fonts:t}):this._i18n["my_fonts.active_fonts.font_count.singular_font_singular_family"]},c.prototype._getTotalPreviousActiveFontsText=function(t,e){return t>1&&e>1?this.I18nService.getMessage(this._i18n,"my_fonts.previously_active_fonts.font_count.plural_fonts_plural_families",{num_fonts:t,num_families:e}):t>1?this.I18nService.getMessage(this._i18n,"my_fonts.previously_active_fonts.font_count.plural_fonts_singular_family",{num_fonts:t}):this._i18n["my_fonts.previously_active_fonts.font_count.singular_font_singular_family"]},c.prototype._changeFamilySortLabel=function(t,e){o.find(this.familySortModes,(function(e){return e.value===t})).label=this._i18n[e]},c.prototype._clearFilters=function(){this.filtersModel.clearAll(),this.selectedManageFontsFilterValue=r},c.prototype._getActivatedFontsCount=function(t){return t.value===r?this.FontCountService.getFilteredActivatedFontsCount():t.value===a?this.FontCountService.getThirtyDayActivatedFontsCount():t.activatedFontsCount||0===t.activatedFontsCount?t.activatedFontsCount:void 0},c.prototype._getActivatedFontsCountForSelectedFilter=function(){return this._getActivatedFontsCount(this._getFilterWithValue(this.selectedManageFontsFilterValue))},c.prototype._getFilterWithValue=function(t){return o.find(this.manageFontsFiltersData,(function(e){return e.value===t}))},c.prototype._getManageFontsDeactivationSuccessMessage=function(){var t=this._getActivatedFontsCountForSelectedFilter();return t>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.manage_fonts.deactivation_success_message_plural",{num_fonts:t}):this._i18n["my_fonts.active_fonts.manage_fonts.deactivation_success_message_singular"]},c.prototype._getManageFontsFilters=function(t){var e=this;return t=o.filter(t,(function(t){return e._getActivatedFontsCount(t)>0})),o.map(t,(function(t){return{activatedFontsCount:t.activatedFontsCount,i18nName:t.i18nName,label:e._i18n["my_fonts.active_fonts.manage_fonts.filters."+t.i18nName].replace("%{num_fonts}",e._getActivatedFontsCount(t)),value:t.value}}))},c.prototype._getWindowWidth=function(){return this.$document[0].documentElement.clientWidth},c.prototype._initActivatedFontsCountWatcher=function(){var t=this;t.$scope.$watch((function(){return t.FontCountService.getFilteredActivatedFontsCount()}),(function(){t.manageFontsFilters=t._getManageFontsFilters(t.manageFontsFiltersData)}))},c.prototype._initWindowSizeWatcher=function(){var t=this;t.$window.addEventListener("resize",(function(){t.isFilterListHiddenByUser||t.updateFilterListVisibilityForWindowSize()}))},c.prototype._loadSortModes=function(){var t=this;t.DataService.get("web-project-sort-modes").then((function(e){t.sortModes=e}))},c.prototype._manageFontsConfirmationDialogHeading=function(){var t=this._getActivatedFontsCountForSelectedFilter();return t>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.manage_fonts.confirmation_dialog.heading_plural",{num_fonts:t}):this._i18n["my_fonts.active_fonts.manage_fonts.confirmation_dialog.heading_singular"]},c.prototype._myFontsParams=function(){return{collection:this.currentTab.id,manage_fonts_filter:this.selectedManageFontsFilterValue,page:this.filteredFamilyList.currentPage}},c.prototype._setLanguageFilters=function(t){var e=this;e.filteredFamilyList.selectedLanguages.length>0?e.filteredFamilyList.selectedLanguages.forEach((function(t){e.filtersModel.selectLanguageMode(t)})):"default"===t?e.filtersModel.setBrowseMode(t):"japanese"===t?e.filtersModel.selectLanguageMode("ja"):e.filtersModel.selectLanguageMode(t)},c.prototype._preloadData=function(){var t=this;t.UserPrefsService.getUserPrefs().then((function(e){t.DataService.get("/spectrum/preloaded_family_data").then((function(n){t.filteredFamilyList=t.FilteredFamilyListStateService.getState(n.user,e),t.filteredFamilyList.families=n.familiesData.families,t.fontFamilyAccordion={families:n.familiesData.families},t.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,t.filteredFamilyList.totalPages=n.familiesData.totalPages,t.filtersModel=t.FilterDataService.getFilterModel({allFilters:n.familyFilters,collection:t.filteredFamilyList.collection,filterData:n.familyFilterData,hideLibraryOption:!0,hideMarketplaceOption:!0,languages:n.languageFilters,sortOrder:s,locale:n.locale}),t.allBrowseModes=n.browseModes,t._setLanguageFilters(e.browseMode||t.allBrowseModes[0].id),t.filtersModel.setSelectedFilters(t.filteredFamilyList.selectedFilters),t.filtersModel.setShowPaidFonts(t.filteredFamilyList.showPaidFonts||e.showPaidFonts,!1),t.manageFontsFiltersData=n.manageFontsFilters,t.FontCountService.setAllFamiliesCount(n.familiesData.totalFamilies),t.FontCountService.setAllPreviouslyActivatedFontsCount(n.allPreviouslyActivatedFontsCount),t.FontCountService.setAllActivatedFontsCount(n.allActivatedFontsCount),t.FontCountService.setFilteredActivatedFontsCount(t._getFilterWithValue(r).activatedFontsCount),t.FontCountService.setThirtyDayActivatedFontsCount(t._getFilterWithValue(a).activatedFontsCount),t.isEmpty=n.isEmpty,t.purchasedFonts=n.familiesData.purchasedFonts,t.textSampleData=n.textSampleData,t.navigationTabs=n.navigationTabs,t._setCurrentTab(),t._setExampleText(),t.DataService.get("/my_fonts/i18n").then((function(e){t._i18n=e,t.manageFontsFilters=t._getManageFontsFilters(t.manageFontsFiltersData),t.selectedManageFontsFilterValue=n.manageFontsFilters[0].value,t._initActivatedFontsCountWatcher()})),t.DataService.get("family-sort-modes").then((function(e){t.familySortModes=e})),t.DataService.get("family-accordion-sort-modes").then((function(e){t.familyAccordionSortModes=e})),t.selectedSort=t.filtersModel.getSortOrder(),n.shouldShowExpiredFontsModal&&t.FirstMileService.showExpiredFontsDialog()}))})),t.DataService.get("/spectrum/kits_data").then((function(e){var n;if(e&&e.kitsData)for(t.TkWebProjectEditorService.initTkWebProjectListModel(e),t.kitsData=e.kitsData,n=0;n<t.kitsData.length;n++){var i=t.kitsData[n];t.TkWebProjectEditorService.initTkWebProjectCardModel(i.kit.kit.token,i),t.TkWebProjectEditorService.initEmbedCodeModel(i.kit.kit.token,i.is_dynamic,i.project_embed_details);var o=0;for(o=0;o<i.tkff_list.length;o++){var r=i.tkff_list[o],a=i.kit.kit.token+r.tkff.typekit_font_family.id;t.TkWebProjectEditorService.initTkWebProjectDisplayFamilyModel(a,r.display_variation,r.text_samples,r.tktf_slug)}}}))},c.prototype._setCurrentTab=function(){var t=this,e=t.$window.location.hash,n="-section".length+1,i=e.substr(1,e.length-n);0!==i.length&&t.navigationTabs.forEach((function(e){e.id===i&&(t.currentTab=e)})),void 0===t.currentTab&&(t.isFirstPageLoad=!0,t.currentTab=t.navigationTabs[0])},c.prototype._setExampleText=function(){var t=this,e=o.first(o.uniq(o.pluck(t.purchasedFonts||[],"default_language")))||"en",n=t.textSampleData.textSamples[e];t.exampleText={value:t.kanaOnly?n.list_kana:n.list,size:36},t.featureSettings=n.feature_settings,t.unicodeRange=n.unicode_range,t.defaultExampleTextValue=t.exampleText.value},c.prototype._updateFamilySortModes=function(){this.isActiveFontsView()?(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_activated_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_activated_newest_to_oldest")):this.isPreviouslyActiveView()?(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_deactivated_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_deactivated_newest_to_oldest")):this.isFavoritesView()&&(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_favorited_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_favorited_newest_to_oldest"))},t.exports=c},1254:function(t,e){n.$inject=["DataService","NotificationService","RecommendationsService"];function n(t,e,n){this.DataService=t,this.NotificationService=e,this.RecommendationsService=n,this.selectedRecommendationType=null,this._preloadData()}n.prototype.getExampleText=function(t,e){var n="list";return t.filters&&t.filters.indexOf("ka:ko")>=0&&(n+="_kana"),{size:50,value:e.textSamples[t.display_font.default_language][n]}},n.prototype.handleCommunityPageNumberChange=function(){var t=this;t.RecommendationsService.get("community",t.currentCommunityPage).then((function(e){t._loadCommunityData(e.data)}))},n.prototype.handleForYouPageNumberChange=function(){var t=this;t.RecommendationsService.get("for_you",t.currentForYouPage).then((function(e){t._loadForYouData(e.data)}))},n.prototype.selectRecommendationType=function(t){this.selectedRecommendationType=t},n.prototype._loadCommunityData=function(t){this.communityFamilies=t.community.families,this.communityTextSampleData=t.community.textSampleData},n.prototype._loadForYouData=function(t){this.forYouFamilies=t.forYou.families,this.forYouTextSampleData=t.forYou.textSampleData},n.prototype._preloadData=function(){var t=this;return t.DataService.get("/preloaded_recommendations_data").then((function(e){t.adobeProfileId=e.adobeProfileId,t._loadCommunityData(e),t._loadForYouData(e),t.NotificationService.addFeedbackNotification("Are the results in these recommendations what you expected?",{category:"recommendation",skipTimeout:!0,tooltipText:"Do these families belong in these recommendations?"}),t.communityFamiliesPreview=t.communityFamilies.slice(0,4),t.forYouFamiliesPreview=t.forYouFamilies.slice(0,4),t.currentCommunityPage=1,t.currentForYouPage=1,t.totalCommunityPages=e.community.pageCount,t.totalForYouPages=e.forYou.pageCount}))},t.exports=n},1255:function(t,e){function n(t,e){this.DataService=t,this.FavoritesService=e,this._preloadData()}n.$inject=["DataService","FavoritesService"],n.prototype.getExampleText=function(t){var e="list";return null!=t.filters&&t.filters.indexOf("ka:ko")>=0&&(e+="_kana"),{size:40,value:this.textSamples[t.display_font.default_language][e]}},n.prototype._preloadData=function(){var t=this;t.DataService.get("/neue/preloaded_family_data").then((function(e){t.families=e.familiesData.families,t.textSamplePrimers=e.textSampleData.textSamplePrimers,t.textSamples=e.textSampleData.textSamples})),t.DataService.get("/spectrum/search_navigation_tabs").then((function(e){for(var n in t.navigationTabs=e.navigationTabs,e.navigationTabs)if(e.navigationTabs[n].id===e.currentTabId){t.currentTab=e.navigationTabs[n];break}}))},t.exports=n},1256:function(t,e){function n(t,e){var n=this;t.get("filters_sidebar_data").then((function(t){n.filtersModel=e.getFilterModel(t.allFamilyFilters,t.familyFilterData,t.languageFilters)}))}n.$inject=["DataService","FilterDataService"],t.exports=n},1257:function(t,e,n){u.$inject=["$document","$http","$q","$scope","$window","DataService","DialogService","FilterVariationsService","I18nService","NewrelicService","ScrollService","UrlService","UserPrefsService","VisualSearchService"];var i=n(9),o=n(1258),r=n(1),a="visual-searches--loading",s=/(fonts\/vs\/[^\/]*)(\/)*(.*)*/,c="text",l=["select","confirm","results"];function u(t,e,n,i,o,r,a,s,c,l,u,d,f,p){var h=this;h.$document=t,h.$http=e,h.$q=n,h.$scope=i,h.$window=o,h.DataService=r,h.DialogService=a,h.FilterVariationsService=s,h.I18nService=c,h.NewrelicService=l,h.ScrollService=u,h.UrlService=d,h.VisualSearchService=p,h.UserPrefsService=f,h.filterValues=[],h._init()}u.prototype.filterFontsByRequiredActions=function(t){var e=this.FilterVariationsService.filterRequiredActionsByToggles(this.fonts,t);this.preferredAction=e.preferred,this.filteredFonts=this.FilterVariationsService.filterFontsByRequiredActions(this.fonts,e.filters)},u.prototype.showPaidFontsSelected=function(){return this.showPaidFonts},u.prototype.showTipsModal=function(){var t=this;t.DialogService.show("/angular_templates/dialogs/visual_search_tips.html",{closeOnDrag:!0}).then((function(){t.NewrelicService.addPageAction("typekit.render.visual-search.search-tips-modal")}))},u.prototype.handleExampleTextKeyup=function(t){"Enter"===t.key||13===t.keyCode?this.handleNextButtonClick():(this._userEnteredText=t.target.value,this._updateExampleText(t.target.value))},u.prototype.handleNextButtonClick=function(){this.loadStep(this._getNextStep())},u.prototype.handleStartOverClick=function(){this._setCurrentStep(l[0],!0)},u.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"spectrum-grid-row font-variations-grid-view":""},u.prototype.getExampleTextValue=function(){return this._userEnteredText||this.extractedText},u.prototype.loadStep=function(t){var e=this;e._currentStep!=t&&(e._currentStep==l[0]?e._updateResultsForCoordinates().then((function(){e._setCurrentStep(t,!0),e._updateExampleText(e._userEnteredText||e.extractedText),e._scrollToTop()})):(e._setCurrentStep(t,!0),e._scrollToTop()))},u.prototype.isCurrentStep=function(t){return this._currentStep==t},u.prototype.isConfirmationImageVisible=function(){return this._currentStep!=l[0]},u.prototype.isFontListEmpty=function(){return 0===this.fonts.length},u.prototype.isFilteredFontListEmpty=function(){return 0===this.filteredFonts.length},u.prototype.getSimilarFontCountForDisplay=function(){return this.filteredFonts.length>1?this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_fonts_plural",{num_fonts:this.filteredFonts.length}):1===this.filteredFonts.length?this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_font_singular",{num_fonts:1}):this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_fonts_plural",{num_fonts:0})},u.prototype._getCropperCoordinates=function(){var t=this.cropper.getData();return{x_min:t.x,y_min:t.y,x_max:t.x+t.width,y_max:t.y+t.height}},u.prototype._getCropperData=function(t){if(t.coordinates&&0!=Object.keys(t.coordinates).length)return{x:t.coordinates.x_min,y:t.coordinates.y_min,width:t.coordinates.x_max-t.coordinates.x_min,height:t.coordinates.y_max-t.coordinates.y_min};if(t.detectedRegion&&0!=Object.keys(t.detectedRegion).length){var e=t.detectedRegion;return{x:e.x_min,y:e.y_min,width:e.x_max-e.x_min,height:e.y_max-e.y_min}}return{}},u.prototype._getNextStep=function(){var t=l.indexOf(this._currentStep);return t+1<l.length?l[t+1]:l[0]},u.prototype._getPlaceholderConfirmationCanvas=function(){return this.$document[0].querySelector(".visual-searches__confirm-image .visual-searches__confirmation-canvas-placeholder")},u.prototype._getStepFromUrl=function(){var t=s.exec(this.$window.location.pathname);return t[t.length-1]?t[t.length-1]:l[0]},u.prototype._getUrlForStep=function(t){return"/"+s.exec(this.$window.location.pathname)[1]+"/"+t},u.prototype._init=function(){var t=this;t.viewType="list",t._preloadData().then((function(e){var n=e[1];t._preloadImage().then((function(){return t._initCropper(t._getCropperData(n))})).then((function(){t._confirmationCanvas=t._getPlaceholderConfirmationCanvas(),t._showCroppedImage()}))})),t.$window.onpopstate=function(){t.$scope.$apply((function(){t._setCurrentStep(t._getStepFromUrl())}))}},u.prototype._initCropper=function(t){var e=this;return e.$q((function(n){e._setMaxContainerDimensions(),e.cropper=new o(e.image,{background:!1,data:t,minCropBoxHeight:10,minCropBoxWidth:10,minContainerHeight:10,minContainerWidth:10,dragMode:"none",responsive:!0,zoomable:!1,checkCrossOrigin:!1,viewMode:1,ready:n})}))},u.prototype._preloadImage=function(){var t=this;return t.$q((function(e){t.image=t.$document[0].getElementById("visual-searches__image-cropper-image"),t.$http({method:"GET",url:t.image.getAttribute("data-src"),responseType:"blob"}).then((function(n){t.image.onload=e,t.image.src=t.$window.URL.createObjectURL(n.data)}))}))},u.prototype._scrollToTop=function(){var t=this.$document[0].querySelector("#visual-search-heading");this.ScrollService.scrollUpTo(t,1e3)},u.prototype._setMaxContainerDimensions=function(){var t=this,e=t.$document[0].getElementById("visual-searches__image-cropper");e.style.maxWidth=t.image.naturalWidth+"px",e.style.maxHeight=t.image.naturalHeight+"px"},u.prototype._preloadData=function(){var t=this;return t.$q.all([t.UserPrefsService.getUserPrefs().then((function(e){t.showPaidFonts=!!e.showPaidFonts})),t.$q((function(e){t.DataService.get("/neue/preloaded_variation_data").then((function(n){t._currentStep=n.step,t.fonts=n.fonts,t.extractedText=n.detectedText,t.visualSearchOpaqueId=n.visualSearchOpaqueId,t.textSamples=n.textSampleData.textSamples,t.textSamplePrimers=n.textSampleData.textSamplePrimers,t.textSampleData=n.textSampleData,t.showUpgradeActionToggle=t.FilterVariationsService.hasUpgradeFilterOption(t.fonts),t.filterFontsByRequiredActions(),t.UrlService.getSearchParam(c)&&(t._userEnteredText=decodeURIComponent(t.UrlService.getSearchParam(c))),t._updateExampleText(t._userEnteredText||t.extractedText),e(n)})),t.DataService.get("/visual_search/i18n").then((function(e){t._i18n=e}))}))])},u.prototype._setCurrentStep=function(t,e){this._currentStep=t,this.NewrelicService.addPageAction("typekit.render.visual-search.step",{step:t}),e&&this.UrlService.pushState(null,null,this._getUrlForStep(t)),t!=l[0]&&this._storeDataInUrl()},u.prototype._setLoadingState=function(){i.element(this.$document[0].body).addClass(a)},u.prototype._showCroppedImage=function(){var t=this.cropper.getCroppedCanvas();this._confirmationCanvas.parentNode.replaceChild(t,this._confirmationCanvas),this._confirmationCanvas=t},u.prototype._storeDataInUrl=function(){var t=this._getCropperCoordinates();this._userEnteredText&&(t.text=encodeURIComponent(this._userEnteredText)),this.UrlService.setSearchParams(t)},u.prototype._unsetLoadingState=function(){i.element(this.$document[0].body).removeClass(a)},u.prototype._updateExampleText=function(t){this.exampleText={size:50,value:t||"The quick brown fox jumps over the lazy dog"}},u.prototype._updateResultsForCoordinates=function(){var t=this;return t.$q((function(e){t._setLoadingState(),t.VisualSearchService.put(t.visualSearchOpaqueId,t._getCropperCoordinates()).then((function(n){t._showCroppedImage(),t.extractedText=n.data.text,t.fonts=n.data.fonts;var i={upgrade:t.showPaidFonts},o=t.FilterVariationsService.filterRequiredActionsByToggles(t.fonts,i);t.filteredFonts=t.FilterVariationsService.filterFontsByRequiredActions(t.fonts,o.filters);var a={fontCount:t.fonts.length};t.fonts.length>0&&(a.topResult=r.first(r.pluck(t.fonts,"name"))),t.NewrelicService.addPageAction("typekit.render.visual-search",a),e(),t._unsetLoadingState()}))}))},t.exports=u},1258:function(t,e,n){t.exports=function(){"use strict";var t={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},e='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},a=/^data:([^;]+);base64,/,s=/([a-z\d])([A-Z])/g,c=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,l=/\s+/,u=/^(width|height|left|top|marginLeft|marginTop)$/,d=/^\s+(.*)\s+$/,f=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,p="undefined"!==typeof window?window.navigator:null,h=p&&f.test(p.userAgent),g=Object.prototype,m=g.toString,v=g.hasOwnProperty,y=(Array.prototype.slice,String.fromCharCode);function S(t){return m.call(t).slice(8,-1).toLowerCase()}function _(t){return"number"===typeof t&&!isNaN(t)}function b(t){return"undefined"===typeof t}function $(t){return"object"===("undefined"===typeof t?"undefined":n(t))&&null!==t}function w(t){if(!$(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&v.call(n,"isPrototypeOf")}catch(i){return!1}}function x(t){return"function"===S(t)}function C(t){return Array.isArray?Array.isArray(t):"array"===S(t)}function F(t){return"string"===typeof t&&(t=t.trim?t.trim():t.replace(d,"$1")),t}function k(t,e){if(t&&x(e)){var n=void 0;if(C(t)||_(t.length)){var i=t.length;for(n=0;n<i&&!1!==e.call(t,t[n],n,t);n++);}else $(t)&&Object.keys(t).forEach((function(n){e.call(t,t[n],n,t)}))}return t}function M(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=!0===e[0],o=i?e[1]:e[0];return $(o)&&e.length>1&&(e.shift(),e.forEach((function(t){$(t)&&Object.keys(t).forEach((function(e){i&&$(o[e])?M(!0,o[e],t[e]):o[e]=t[e]}))}))),o}function P(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.apply(e,i.concat(o))}}function E(t,e){var n=t.style;k(e,(function(t,e){u.test(e)&&_(t)&&(t+="px"),n[e]=t}))}function T(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function D(t,e){if(_(t.length))k(t,(function(t){D(t,e)}));else if(t.classList)t.classList.add(e);else{var n=F(t.className);n?n.indexOf(e)<0&&(t.className=n+" "+e):t.className=e}}function A(t,e){_(t.length)?k(t,(function(t){A(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}function j(t,e,n){_(t.length)?k(t,(function(t){j(t,e,n)})):n?D(t,e):A(t,e)}function L(t){return t.replace(s,"$1-$2").toLowerCase()}function V(t,e){return $(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-"+L(e))}function N(t,e,n){$(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-"+L(e),n)}function I(t,e){if($(t[e]))delete t[e];else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=null}else t.removeAttribute("data-"+L(e))}function O(t,e,n){var i=F(e).split(l);i.length>1?k(i,(function(e){O(t,e,n)})):t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}function R(t,e,n,i){var o=F(e).split(l),r=n;o.length>1?k(o,(function(e){R(t,e,n)})):(i&&(n=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return O(t,e,n),r.apply(t,o)}),t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n))}function B(t,e,n){if(t.dispatchEvent){var i=void 0;return x(Event)&&x(CustomEvent)?i=b(n)?new Event(e,{bubbles:!0,cancelable:!0}):new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):b(n)?(i=document.createEvent("Event")).initEvent(e,!0,!0):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)}return!t.fireEvent||t.fireEvent("on"+e)}function W(t){var e=t||window.event;if(e.target||(e.target=e.srcElement||document),!_(e.pageX)&&_(e.clientX)){var n=t.target.ownerDocument||document,i=n.documentElement,o=n.body;e.pageX=e.clientX+((i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0)),e.pageY=e.clientY+((i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0))}return e}function U(t){var e=document.documentElement,n=t.getBoundingClientRect();return{left:n.left+((window.scrollX||e&&e.scrollLeft||0)-(e&&e.clientLeft||0)),top:n.top+((window.scrollY||e&&e.scrollTop||0)-(e&&e.clientTop||0))}}function q(t,e){return t.getElementsByTagName(e)}function z(t,e){return t.getElementsByClassName?t.getElementsByClassName(e):t.querySelectorAll("."+e)}function H(t){return document.createElement(t)}function Z(t,e){t.appendChild(e)}function Y(t){t.parentNode&&t.parentNode.removeChild(t)}function G(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function X(t){var e=t.match(c);return e&&(e[1]!==location.protocol||e[2]!==location.hostname||e[3]!==location.port)}function J(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function K(t,e){if(!t.naturalWidth||h){var n=H("img");n.onload=function(){e(this.width,this.height)},n.src=t.src}else e(t.naturalWidth,t.naturalHeight)}function Q(t){var e=[],n=t.translateX,i=t.translateY,o=t.rotate,r=t.scaleX,a=t.scaleY;_(n)&&0!==n&&e.push("translateX("+n+"px)"),_(i)&&0!==i&&e.push("translateY("+i+"px)"),_(o)&&0!==o&&e.push("rotate("+o+"deg)"),_(r)&&1!==r&&e.push("scaleX("+r+")"),_(a)&&1!==a&&e.push("scaleY("+a+")");var s=e.length?e.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function tt(t,e){var n=Math.abs(t.degree)%180,i=(n>90?180-n:n)*Math.PI/180,o=Math.sin(i),r=Math.cos(i),a=t.width,s=t.height,c=t.aspectRatio,l=void 0,u=void 0;return e?u=(l=a/(r+o/c))/c:(l=a*r+s*o,u=a*o+s*r),{width:l,height:u}}function et(t,e){var n=H("canvas"),i=n.getContext("2d"),o=0,r=0,a=e.naturalWidth,s=e.naturalHeight,c=e.rotate,l=e.scaleX,u=e.scaleY,d=_(l)&&_(u)&&(1!==l||1!==u),f=_(c)&&0!==c,p=f||d,h=a*Math.abs(l||1),g=s*Math.abs(u||1),m=void 0,v=void 0,y=void 0;return d&&(m=h/2,v=g/2),f&&(m=(h=(y=tt({width:h,height:g,degree:c})).width)/2,v=(g=y.height)/2),n.width=h,n.height=g,p&&(o=-a/2,r=-s/2,i.save(),i.translate(m,v)),f&&i.rotate(c*Math.PI/180),d&&i.scale(l,u),i.drawImage(t,Math.floor(o),Math.floor(r),Math.floor(a),Math.floor(s)),p&&i.restore(),n}function nt(t,e,n){var i="",o=e;for(n+=e;o<n;o++)i+=y(t.getUint8(o));return i}function it(t){var e=new DataView(t),n=e.byteLength,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(u=2;u<n;){if(255===e.getUint8(u)&&225===e.getUint8(u+1)){c=u;break}u++}if(c&&(o=c+10,"Exif"===nt(e,c+4,4)&&((a=18761===(s=e.getUint16(o)))||19789===s)&&42===e.getUint16(o+2,a)&&(r=e.getUint32(o+4,a))>=8&&(l=o+r)),l)for(n=e.getUint16(l,a),d=0;d<n;d++)if(u=l+12*d+2,274===e.getUint16(u,a)){u+=8,i=e.getUint16(u,a),h&&e.setUint16(u,1,a);break}return i}function ot(t){var e=t.replace(a,""),n=atob(e),i=n.length,o=new ArrayBuffer(i),r=new Uint8Array(o),s=void 0;for(s=0;s<i;s++)r[s]=n.charCodeAt(s);return o}function rt(t){var e=new Uint8Array(t),n=e.length,i="",o=void 0;for(o=0;o<n;o++)i+=y(e[o]);return"data:image/jpeg;base64,"+btoa(i)}var at={render:function(){var t=this;t.initContainer(),t.initCanvas(),t.initCropBox(),t.renderCanvas(),t.cropped&&t.renderCropBox()},initContainer:function(){var t=this,e=t.options,n=t.element,i=t.container,o=t.cropper,r="cropper-hidden",a=void 0;D(o,r),A(n,r),t.containerData=a={width:Math.max(i.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(e.minContainerHeight)||100)},E(o,{width:a.width,height:a.height}),D(n,r),A(o,r)},initCanvas:function(){var t=this,e=t.options.viewMode,n=t.containerData,i=t.imageData,o=90===Math.abs(i.rotate),r=o?i.naturalHeight:i.naturalWidth,a=o?i.naturalWidth:i.naturalHeight,s=r/a,c=n.width,l=n.height;n.height*s>n.width?3===e?c=n.height*s:l=n.width/s:3===e?l=n.width/s:c=n.height*s;var u={naturalWidth:r,naturalHeight:a,aspectRatio:s,width:c,height:l};u.oldLeft=u.left=(n.width-c)/2,u.oldTop=u.top=(n.height-l)/2,t.canvasData=u,t.limited=1===e||2===e,t.limitCanvas(!0,!0),t.initialImageData=M({},i),t.initialCanvasData=M({},u)},limitCanvas:function(t,e){var n=this,i=n.options,o=i.viewMode,r=n.containerData,a=n.canvasData,s=a.aspectRatio,c=n.cropBoxData,l=n.cropped&&c;if(t){var u=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;o>1?(u=Math.max(u,r.width),d=Math.max(d,r.height),3===o&&(d*s>u?u=d*s:d=u/s)):o>0&&(u?u=Math.max(u,l?c.width:0):d?d=Math.max(d,l?c.height:0):l&&(u=c.width,(d=c.height)*s>u?u=d*s:d=u/s)),u&&d?d*s>u?d=u/s:u=d*s:u?d=u/s:d&&(u=d*s),a.minWidth=u,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(e)if(o){var f=r.width-a.width,p=r.height-a.height;a.minLeft=Math.min(0,f),a.minTop=Math.min(0,p),a.maxLeft=Math.max(0,f),a.maxTop=Math.max(0,p),l&&n.limited&&(a.minLeft=Math.min(c.left,c.left+(c.width-a.width)),a.minTop=Math.min(c.top,c.top+(c.height-a.height)),a.maxLeft=c.left,a.maxTop=c.top,2===o&&(a.width>=r.width&&(a.minLeft=Math.min(0,f),a.maxLeft=Math.max(0,f)),a.height>=r.height&&(a.minTop=Math.min(0,p),a.maxTop=Math.max(0,p))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=r.width,a.maxTop=r.height},renderCanvas:function(t){var e=this,n=e.canvasData,i=e.imageData,o=i.rotate,r=void 0,a=void 0;e.rotated&&(e.rotated=!1,(r=(a=tt({width:i.width,height:i.height,degree:o})).width/a.height)!==n.aspectRatio&&(n.left-=(a.width-n.width)/2,n.top-=(a.height-n.height)/2,n.width=a.width,n.height=a.height,n.aspectRatio=r,n.naturalWidth=i.naturalWidth,n.naturalHeight=i.naturalHeight,o%180&&(a=tt({width:i.naturalWidth,height:i.naturalHeight,degree:o}),n.naturalWidth=a.width,n.naturalHeight=a.height),e.limitCanvas(!0,!1))),(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),e.limitCanvas(!1,!0),n.oldLeft=n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),E(e.canvas,M({width:n.width,height:n.height},Q({translateX:n.left,translateY:n.top}))),e.renderImage(),e.cropped&&e.limited&&e.limitCropBox(!0,!0),t&&e.output()},renderImage:function(t){var e=this,n=e.canvasData,i=e.imageData,o=void 0,r=void 0,a=void 0,s=void 0;i.rotate&&(o={width:a=(r=tt({width:n.width,height:n.height,degree:i.rotate,aspectRatio:i.aspectRatio},!0)).width,height:s=r.height,left:(n.width-a)/2,top:(n.height-s)/2}),M(i,o||{width:n.width,height:n.height,left:0,top:0}),E(e.image,M({width:i.width,height:i.height},Q(M({translateX:i.left,translateY:i.top},i)))),t&&e.output()},initCropBox:function(){var t=this,e=t.options,n=e.aspectRatio,i=Number(e.autoCropArea)||.8,o=t.canvasData,r={width:o.width,height:o.height};n&&(o.height*n>o.width?r.height=r.width/n:r.width=r.height*n),t.cropBoxData=r,t.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.oldLeft=r.left=o.left+(o.width-r.width)/2,r.oldTop=r.top=o.top+(o.height-r.height)/2,t.initialCropBoxData=M({},r)},limitCropBox:function(t,e){var n=this,i=n.options,o=i.aspectRatio,r=n.containerData,a=n.canvasData,s=n.cropBoxData,c=n.limited;if(t){var l=Number(i.minCropBoxWidth)||0,u=Number(i.minCropBoxHeight)||0,d=Math.min(r.width,c?a.width:r.width),f=Math.min(r.height,c?a.height:r.height);l=Math.min(l,r.width),u=Math.min(u,r.height),o&&(l&&u?u*o>l?u=l/o:l=u*o:l?u=l/o:u&&(l=u*o),f*o>d?f=d/o:d=f*o),s.minWidth=Math.min(l,d),s.minHeight=Math.min(u,f),s.maxWidth=d,s.maxHeight=f}e&&(c?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(r.width,a.left+a.width)-s.width,s.maxTop=Math.min(r.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=r.width-s.width,s.maxTop=r.height-s.height))},renderCropBox:function(){var t=this,e=t.options,n=t.containerData,i=t.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),t.limitCropBox(!1,!0),i.oldLeft=i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),e.movable&&e.cropBoxMovable&&N(t.face,"action",i.width===n.width&&i.height===n.height?"move":"all"),E(t.cropBox,M({width:i.width,height:i.height},Q({translateX:i.left,translateY:i.top}))),t.cropped&&t.limited&&t.limitCanvas(!0,!0),t.disabled||t.output()},output:function(){var t=this;t.preview(),t.complete&&B(t.element,"crop",t.getData())}},st="preview",ct={initPreview:function(){var t=this,e=t.options.preview,n=H("img"),i=t.crossOrigin,o=i?t.crossOriginUrl:t.url;if(i&&(n.crossOrigin=i),n.src=o,Z(t.viewBox,n),t.image2=n,e){var r=e.querySelector?[e]:document.querySelectorAll(e);t.previews=r,k(r,(function(t){var e=H("img");N(t,st,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),i&&(e.crossOrigin=i),e.src=o,e.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',G(t),Z(t,e)}))}},resetPreview:function(){k(this.previews,(function(t){var e=V(t,st);E(t,{width:e.width,height:e.height}),t.innerHTML=e.html,I(t,st)}))},preview:function(){var t=this,e=t.imageData,n=t.canvasData,i=t.cropBoxData,o=i.width,r=i.height,a=e.width,s=e.height,c=i.left-n.left-e.left,l=i.top-n.top-e.top;t.cropped&&!t.disabled&&(E(t.image2,M({width:a,height:s},Q(M({translateX:-c,translateY:-l},e)))),k(t.previews,(function(t){var n=V(t,st),i=n.width,u=n.height,d=i,f=u,p=1;o&&(f=r*(p=i/o)),r&&f>u&&(d=o*(p=u/r),f=u),E(t,{width:d,height:f}),E(q(t,"img")[0],M({width:a*p,height:s*p},Q(M({translateX:-c*p,translateY:-l*p},e))))})))}},lt="undefined"!==typeof window?window.PointerEvent:null,ut=lt?"pointerdown":"touchstart mousedown",dt=lt?"pointermove":"touchmove mousemove",ft=lt?" pointerup pointercancel":"touchend touchcancel mouseup",pt="wheel mousewheel DOMMouseScroll",ht="dblclick",gt="resize",mt="cropstart",vt="cropmove",yt="cropend",St="crop",_t="zoom",bt={bind:function(){var t=this,e=t.options,n=t.element,i=t.cropper;x(e.cropstart)&&R(n,mt,e.cropstart),x(e.cropmove)&&R(n,vt,e.cropmove),x(e.cropend)&&R(n,yt,e.cropend),x(e.crop)&&R(n,St,e.crop),x(e.zoom)&&R(n,_t,e.zoom),R(i,ut,t.onCropStart=P(t.cropStart,t)),e.zoomable&&e.zoomOnWheel&&R(i,pt,t.onWheel=P(t.wheel,t)),e.toggleDragModeOnDblclick&&R(i,ht,t.onDblclick=P(t.dblclick,t)),R(document,dt,t.onCropMove=P(t.cropMove,t)),R(document,ft,t.onCropEnd=P(t.cropEnd,t)),e.responsive&&R(window,gt,t.onResize=P(t.resize,t))},unbind:function(){var t=this,e=t.options,n=t.element,i=t.cropper;x(e.cropstart)&&O(n,mt,e.cropstart),x(e.cropmove)&&O(n,vt,e.cropmove),x(e.cropend)&&O(n,yt,e.cropend),x(e.crop)&&O(n,St,e.crop),x(e.zoom)&&O(n,_t,e.zoom),O(i,ut,t.onCropStart),e.zoomable&&e.zoomOnWheel&&O(i,pt,t.onWheel),e.toggleDragModeOnDblclick&&O(i,ht,t.onDblclick),O(document,dt,t.onCropMove),O(document,ft,t.onCropEnd),e.responsive&&O(window,gt,t.onResize)}},$t=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;function wt(t,e){var n=t.pageX,i=t.pageY,o={endX:n,endY:i};return e?o:M({startX:n,startY:i},o)}var xt={resize:function(){var t=this,e=t.options.restore,n=t.container,i=t.containerData;if(!t.disabled&&i){var o=n.offsetWidth/i.width,r=void 0,a=void 0;1===o&&n.offsetHeight===i.height||(e&&(r=t.getCanvasData(),a=t.getCropBoxData()),t.render(),e&&(t.setCanvasData(k(r,(function(t,e){r[e]=t*o}))),t.setCropBoxData(k(a,(function(t,e){a[e]=t*o})))))}},dblclick:function(){var t=this;t.disabled||t.setDragMode(T(t.dragBox,"cropper-crop")?"move":"crop")},wheel:function(t){var e=this,n=W(t),i=Number(e.options.wheelZoomRatio)||.1,o=1;e.disabled||(n.preventDefault(),e.wheeling||(e.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),e.zoom(-o*i,n)))},cropStart:function(t){var e=this;if(!e.disabled){var n=e.options,i=e.pointers,o=W(t),r=void 0;if(o.changedTouches?k(o.changedTouches,(function(t){i[t.identifier]=wt(t)})):i[o.pointerId||0]=wt(o),r=Object.keys(i).length>1&&n.zoomable&&n.zoomOnTouch?"zoom":V(o.target,"action"),$t.test(r)){if(!1===B(e.element,"cropstart",{originalEvent:o,action:r}))return;o.preventDefault(),e.action=r,e.cropping=!1,"crop"===r&&(e.cropping=!0,D(e.dragBox,"cropper-modal"))}}},cropMove:function(t){var e=this,n=e.action;if(!e.disabled&&n){var i=e.pointers,o=W(t);o.preventDefault(),!1!==B(e.element,"cropmove",{originalEvent:o,action:n})&&(o.changedTouches?k(o.changedTouches,(function(t){M(i[t.identifier],wt(t,!0))})):M(i[o.pointerId||0],wt(o,!0)),e.change(o))}},cropEnd:function(t){var e=this,n=e.action;if(!e.disabled&&n){var i=e.pointers,o=W(t);o.preventDefault(),o.changedTouches?k(o.changedTouches,(function(t){delete i[t.identifier]})):delete i[o.pointerId||0],Object.keys(i).length||(e.action=""),e.cropping&&(e.cropping=!1,j(e.dragBox,"cropper-modal",e.cropped&&this.options.modal)),B(e.element,"cropend",{originalEvent:o,action:n})}}},Ct="e",Ft="w",kt="s",Mt="n",Pt="se",Et="sw",Tt="ne",Dt="nw";function At(t){var e=M({},t),n=[];return k(t,(function(t,i){delete e[i],k(e,(function(e){var i=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),r=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(i*i+o*o),c=(Math.sqrt(r*r+a*a)-s)/s;n.push(c)}))})),n.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),n[0]}var jt={change:function(t){var e=this,n=e.options,i=e.containerData,o=e.canvasData,r=e.cropBoxData,a=n.aspectRatio,s=e.action,c=r.width,l=r.height,u=r.left,d=r.top,f=u+c,p=d+l,h=0,g=0,m=i.width,v=i.height,y=!0,S=void 0;!a&&t.shiftKey&&(a=c&&l?c/l:1),e.limited&&(h=r.minLeft,g=r.minTop,m=h+Math.min(i.width,o.width,o.left+o.width),v=g+Math.min(i.height,o.height,o.top+o.height));var _=e.pointers,b=_[Object.keys(_)[0]],$={x:b.endX-b.startX,y:b.endY-b.startY};switch(a&&($.X=$.y*a,$.Y=$.x/a),s){case"all":u+=$.x,d+=$.y;break;case Ct:if($.x>=0&&(f>=m||a&&(d<=g||p>=v))){y=!1;break}c+=$.x,a&&(l=c/a,d-=$.Y/2),c<0&&(s=Ft,c=0);break;case Mt:if($.y<=0&&(d<=g||a&&(u<=h||f>=m))){y=!1;break}l-=$.y,d+=$.y,a&&(c=l*a,u+=$.X/2),l<0&&(s=kt,l=0);break;case Ft:if($.x<=0&&(u<=h||a&&(d<=g||p>=v))){y=!1;break}c-=$.x,u+=$.x,a&&(l=c/a,d+=$.Y/2),c<0&&(s=Ct,c=0);break;case kt:if($.y>=0&&(p>=v||a&&(u<=h||f>=m))){y=!1;break}l+=$.y,a&&(c=l*a,u-=$.X/2),l<0&&(s=Mt,l=0);break;case Tt:if(a){if($.y<=0&&(d<=g||f>=m)){y=!1;break}l-=$.y,d+=$.y,c=l*a}else $.x>=0?f<m?c+=$.x:$.y<=0&&d<=g&&(y=!1):c+=$.x,$.y<=0?d>g&&(l-=$.y,d+=$.y):(l-=$.y,d+=$.y);c<0&&l<0?(s=Et,l=0,c=0):c<0?(s=Dt,c=0):l<0&&(s=Pt,l=0);break;case Dt:if(a){if($.y<=0&&(d<=g||u<=h)){y=!1;break}l-=$.y,d+=$.y,c=l*a,u+=$.X}else $.x<=0?u>h?(c-=$.x,u+=$.x):$.y<=0&&d<=g&&(y=!1):(c-=$.x,u+=$.x),$.y<=0?d>g&&(l-=$.y,d+=$.y):(l-=$.y,d+=$.y);c<0&&l<0?(s=Pt,l=0,c=0):c<0?(s=Tt,c=0):l<0&&(s=Et,l=0);break;case Et:if(a){if($.x<=0&&(u<=h||p>=v)){y=!1;break}c-=$.x,u+=$.x,l=c/a}else $.x<=0?u>h?(c-=$.x,u+=$.x):$.y>=0&&p>=v&&(y=!1):(c-=$.x,u+=$.x),$.y>=0?p<v&&(l+=$.y):l+=$.y;c<0&&l<0?(s=Tt,l=0,c=0):c<0?(s=Pt,c=0):l<0&&(s=Dt,l=0);break;case Pt:if(a){if($.x>=0&&(f>=m||p>=v)){y=!1;break}l=(c+=$.x)/a}else $.x>=0?f<m?c+=$.x:$.y>=0&&p>=v&&(y=!1):c+=$.x,$.y>=0?p<v&&(l+=$.y):l+=$.y;c<0&&l<0?(s=Dt,l=0,c=0):c<0?(s=Et,c=0):l<0&&(s=Tt,l=0);break;case"move":e.move($.x,$.y),y=!1;break;case"zoom":e.zoom(At(_),t),y=!1;break;case"crop":if(!$.x||!$.y){y=!1;break}S=U(e.cropper),u=b.startX-S.left,d=b.startY-S.top,c=r.minWidth,l=r.minHeight,$.x>0?s=$.y>0?Pt:Tt:$.x<0&&(u-=c,s=$.y>0?Et:Dt),$.y<0&&(d-=l),e.cropped||(A(e.cropBox,"cropper-hidden"),e.cropped=!0,e.limited&&e.limitCropBox(!0,!0))}y&&(r.width=c,r.height=l,r.left=u,r.top=d,e.action=s,e.renderCropBox()),k(_,(function(t){t.startX=t.endX,t.startY=t.endY}))}};function Lt(t){var e=0,n=0,i=0;return k(t,(function(t){var o=t.startX,r=t.startY;e+=o,n+=r,i+=1})),{pageX:e/=i,pageY:n/=i}}var Vt={crop:function(){var t=this;return t.ready&&!t.disabled&&(t.cropped||(t.cropped=!0,t.limitCropBox(!0,!0),t.options.modal&&D(t.dragBox,"cropper-modal"),A(t.cropBox,"cropper-hidden")),t.setCropBoxData(t.initialCropBoxData)),t},reset:function(){var t=this;return t.ready&&!t.disabled&&(t.imageData=M({},t.initialImageData),t.canvasData=M({},t.initialCanvasData),t.cropBoxData=M({},t.initialCropBoxData),t.renderCanvas(),t.cropped&&t.renderCropBox()),t},clear:function(){var t=this;return t.cropped&&!t.disabled&&(M(t.cropBoxData,{left:0,top:0,width:0,height:0}),t.cropped=!1,t.renderCropBox(),t.limitCanvas(),t.renderCanvas(),A(t.dragBox,"cropper-modal"),D(t.cropBox,"cropper-hidden")),t},replace:function(t,e){var n=this;return!n.disabled&&t&&(n.isImg&&(n.element.src=t),e?(n.url=t,n.image.src=t,n.ready&&(n.image2.src=t,k(n.previews,(function(e){q(e,"img")[0].src=t})))):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(t))),n},enable:function(){var t=this;return t.ready&&(t.disabled=!1,A(t.cropper,"cropper-disabled")),t},disable:function(){var t=this;return t.ready&&(t.disabled=!0,D(t.cropper,"cropper-disabled")),t},destroy:function(){var t=this,e=t.element,n=t.image;return t.loaded?(t.isImg&&t.replaced&&(e.src=t.originalUrl),t.unbuild(),A(e,"cropper-hidden")):t.isImg?O(e,"load",t.start):n&&Y(n),I(e,"cropper"),t},move:function(t,e){var n=this,i=n.canvasData;return n.moveTo(b(t)?t:i.left+Number(t),b(e)?e:i.top+Number(e))},moveTo:function(t,e){var n=this,i=n.canvasData,o=!1;return b(e)&&(e=t),t=Number(t),e=Number(e),n.ready&&!n.disabled&&n.options.movable&&(_(t)&&(i.left=t,o=!0),_(e)&&(i.top=e,o=!0),o&&n.renderCanvas(!0)),n},zoom:function(t,e){var n=this,i=n.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,n.zoomTo(i.width*t/i.naturalWidth,e)},zoomTo:function(t,e){var n=this,i=n.options,o=n.canvasData,r=o.width,a=o.height,s=o.naturalWidth,c=o.naturalHeight;if((t=Number(t))>=0&&n.ready&&!n.disabled&&i.zoomable){var l=s*t,u=c*t;if(!1===B(n.element,"zoom",{originalEvent:e,oldRatio:r/s,ratio:l/s}))return n;if(e){var d=n.pointers,f=U(n.cropper),p=d&&Object.keys(d).length?Lt(d):{pageX:e.pageX,pageY:e.pageY};o.left-=(l-r)*((p.pageX-f.left-o.left)/r),o.top-=(u-a)*((p.pageY-f.top-o.top)/a)}else o.left-=(l-r)/2,o.top-=(u-a)/2;o.width=l,o.height=u,n.renderCanvas(!0)}return n},rotate:function(t){var e=this;return e.rotateTo((e.imageData.rotate||0)+Number(t))},rotateTo:function(t){var e=this;return _(t=Number(t))&&e.ready&&!e.disabled&&e.options.rotatable&&(e.imageData.rotate=t%360,e.rotated=!0,e.renderCanvas(!0)),e},scale:function(t,e){var n=this,i=n.imageData,o=!1;return b(e)&&(e=t),t=Number(t),e=Number(e),n.ready&&!n.disabled&&n.options.scalable&&(_(t)&&(i.scaleX=t,o=!0),_(e)&&(i.scaleY=e,o=!0),o&&n.renderImage(!0)),n},scaleX:function(t){var e=this,n=e.imageData.scaleY;return e.scale(t,_(n)?n:1)},scaleY:function(t){var e=this,n=e.imageData.scaleX;return e.scale(_(n)?n:1,t)},getData:function(t){var e=this,n=e.options,i=e.imageData,o=e.canvasData,r=e.cropBoxData,a=void 0,s=void 0;return e.ready&&e.cropped?(s={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height},a=i.width/i.naturalWidth,k(s,(function(e,n){e/=a,s[n]=t?Math.round(e):e}))):s={x:0,y:0,width:0,height:0},n.rotatable&&(s.rotate=i.rotate||0),n.scalable&&(s.scaleX=i.scaleX||1,s.scaleY=i.scaleY||1),s},setData:function(t){var e=this,n=e.options,i=e.imageData,o=e.canvasData,r={},a=void 0,s=void 0,c=void 0;return x(t)&&(t=t.call(e.element)),e.ready&&!e.disabled&&w(t)&&(n.rotatable&&_(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,e.rotated=a=!0),n.scalable&&(_(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,s=!0),_(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,s=!0)),a?e.renderCanvas():s&&e.renderImage(),c=i.width/i.naturalWidth,_(t.x)&&(r.left=t.x*c+o.left),_(t.y)&&(r.top=t.y*c+o.top),_(t.width)&&(r.width=t.width*c),_(t.height)&&(r.height=t.height*c),e.setCropBoxData(r)),e},getContainerData:function(){var t=this;return t.ready?t.containerData:{}},getImageData:function(){var t=this;return t.loaded?t.imageData:{}},getCanvasData:function(){var t=this,e=t.canvasData,n={};return t.ready&&k(["left","top","width","height","naturalWidth","naturalHeight"],(function(t){n[t]=e[t]})),n},setCanvasData:function(t){var e=this,n=e.canvasData,i=n.aspectRatio;return x(t)&&(t=t.call(e.element)),e.ready&&!e.disabled&&w(t)&&(_(t.left)&&(n.left=t.left),_(t.top)&&(n.top=t.top),_(t.width)?(n.width=t.width,n.height=t.width/i):_(t.height)&&(n.height=t.height,n.width=t.height*i),e.renderCanvas(!0)),e},getCropBoxData:function(){var t=this,e=t.cropBoxData,n=void 0;return t.ready&&t.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(t){var e=this,n=e.cropBoxData,i=e.options.aspectRatio,o=void 0,r=void 0;return x(t)&&(t=t.call(e.element)),e.ready&&e.cropped&&!e.disabled&&w(t)&&(_(t.left)&&(n.left=t.left),_(t.top)&&(n.top=t.top),_(t.width)&&t.width!==n.width&&(o=!0,n.width=t.width),_(t.height)&&t.height!==n.height&&(r=!0,n.height=t.height),i&&(o?n.height=n.width/i:r&&(n.width=n.height*i)),e.renderCropBox()),e},getCroppedCanvas:function(t){var e=this;if(!e.ready||!window.HTMLCanvasElement)return null;if(!e.cropped)return et(e.image,e.imageData);w(t)||(t={});var n=e.getData(),i=n.width,o=n.height,a=i/o,s=void 0,c=void 0,l=void 0;w(t)&&(s=t.width,c=t.height,s?(c=s/a,l=s/i):c&&(s=c*a,l=c/o));var u=Math.floor(s||i),d=Math.floor(c||o),f=H("canvas"),p=f.getContext("2d");f.width=u,f.height=d,t.fillColor&&(p.fillStyle=t.fillColor,p.fillRect(0,0,u,d));var h,g,m,v,y,S,_,b,$,x,C,F,k,M=(h=et(e.image,e.imageData),g=h.width,m=h.height,v=e.canvasData,y=[h],S=n.x+v.naturalWidth*(Math.abs(n.scaleX||1)-1)/2,_=n.y+v.naturalHeight*(Math.abs(n.scaleY||1)-1)/2,b=void 0,$=void 0,x=void 0,C=void 0,F=void 0,k=void 0,S<=-i||S>g?S=b=x=F=0:S<=0?(x=-S,S=0,b=F=Math.min(g,i+S)):S<=g&&(x=0,b=F=Math.min(i,g-S)),b<=0||_<=-o||_>m?_=$=C=k=0:_<=0?(C=-_,_=0,$=k=Math.min(m,o+_)):_<=m&&(C=0,$=k=Math.min(o,m-_)),y.push(Math.floor(S),Math.floor(_),Math.floor(b),Math.floor($)),l&&(x*=l,C*=l,F*=l,k*=l),F>0&&k>0&&y.push(Math.floor(x),Math.floor(C),Math.floor(F),Math.floor(k)),y);return p.drawImage.apply(p,r(M)),f},setAspectRatio:function(t){var e=this,n=e.options;return e.disabled||b(t)||(n.aspectRatio=Math.max(0,t)||NaN,e.ready&&(e.initCropBox(),e.cropped&&e.renderCropBox())),e},setDragMode:function(t){var e=this,n=e.options,i=e.dragBox,o=e.face,r=void 0,a=void 0;return e.loaded&&!e.disabled&&(r="crop"===t,a=n.movable&&"move"===t,N(i,"action",t=r||a?t:"none"),j(i,"cropper-crop",r),j(i,"cropper-move",a),n.cropBoxMovable||(N(o,"action",t),j(o,"cropper-crop",r),j(o,"cropper-move",a))),e}},Nt="cropper",It=Nt+"-hidden",Ot="error",Rt="load",Bt="ready",Wt="crop",Ut=/^data:/,qt=/^data:image\/jpeg.*;base64,/,zt=void 0,Ht=function(){function n(e,o){i(this,n);var r=this;r.element=e,r.options=M({},t,w(o)&&o),r.loaded=!1,r.ready=!1,r.complete=!1,r.rotated=!1,r.cropped=!1,r.disabled=!1,r.replaced=!1,r.limited=!1,r.wheeling=!1,r.isImg=!1,r.originalUrl="",r.canvasData=null,r.cropBoxData=null,r.previews=null,r.pointers={},r.init()}return o(n,[{key:"init",value:function(){var t=this,e=t.element,n=e.tagName.toLowerCase(),i=void 0;if(!V(e,Nt)){if(N(e,Nt,t),"img"===n){if(t.isImg=!0,t.originalUrl=i=e.getAttribute("src"),!i)return;i=e.src}else"canvas"===n&&window.HTMLCanvasElement&&(i=e.toDataURL());t.load(i)}}},{key:"load",value:function(t){var e=this,n=e.options,i=e.element;if(t)if(e.url=t,e.imageData={},n.checkOrientation&&window.ArrayBuffer)if(Ut.test(t))qt?e.read(ot(t)):e.clone();else{var o=new XMLHttpRequest;o.onerror=o.onabort=function(){e.clone()},o.onload=function(){e.read(o.response)},n.checkCrossOrigin&&X(t)&&i.crossOrigin&&(t=J(t)),o.open("get",t),o.responseType="arraybuffer",o.withCredentials="use-credentials"===i.crossOrigin,o.send()}else e.clone()}},{key:"read",value:function(t){var e=this,n=e.options,i=it(t),o=e.imageData,r=0,a=1,s=1;if(i>1)switch(e.url=rt(t),i){case 2:a=-1;break;case 3:r=-180;break;case 4:s=-1;break;case 5:r=90,s=-1;break;case 6:r=90;break;case 7:r=90,a=-1;break;case 8:r=-90}n.rotatable&&(o.rotate=r),n.scalable&&(o.scaleX=a,o.scaleY=s),e.clone()}},{key:"clone",value:function(){var t=this,e=t.element,n=t.url,i=void 0,o=void 0,r=void 0,a=void 0;t.options.checkCrossOrigin&&X(n)&&((i=e.crossOrigin)?o=n:(i="anonymous",o=J(n))),t.crossOrigin=i,t.crossOriginUrl=o;var s=H("img");i&&(s.crossOrigin=i),s.src=o||n,t.image=s,t.onStart=r=P(t.start,t),t.onStop=a=P(t.stop,t),t.isImg?e.complete?t.start():R(e,Rt,r):(R(s,Rt,r),R(s,Ot,a),D(s,"cropper-hide"),e.parentNode.insertBefore(s,e.nextSibling))}},{key:"start",value:function(t){var e=this,n=e.isImg?e.element:e.image;t&&(O(n,Rt,e.onStart),O(n,Ot,e.onStop)),K(n,(function(t,n){M(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.loaded=!0,e.build()}))}},{key:"stop",value:function(){var t=this,e=t.image;O(e,Rt,t.onStart),O(e,Ot,t.onStop),Y(e),t.image=null}},{key:"build",value:function(){var t=this,n=t.options,i=t.element,o=t.image,r=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0;if(t.loaded){t.ready&&t.unbuild();var d=H("div");d.innerHTML=e,t.container=r=i.parentNode,t.cropper=a=z(d,"cropper-container")[0],t.canvas=s=z(a,"cropper-canvas")[0],t.dragBox=c=z(a,"cropper-drag-box")[0],t.cropBox=l=z(a,"cropper-crop-box")[0],t.viewBox=z(a,"cropper-view-box")[0],t.face=u=z(l,"cropper-face")[0],Z(s,o),D(i,It),r.insertBefore(a,i.nextSibling),t.isImg||A(o,"cropper-hide"),t.initPreview(),t.bind(),n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,t.cropped=n.autoCrop,n.autoCrop?n.modal&&D(c,"cropper-modal"):D(l,It),n.guides||D(z(l,"cropper-dashed"),It),n.center||D(z(l,"cropper-center"),It),n.background&&D(a,"cropper-bg"),n.highlight||D(u,"cropper-invisible"),n.cropBoxMovable&&(D(u,"cropper-move"),N(u,"action","all")),n.cropBoxResizable||(D(z(l,"cropper-line"),It),D(z(l,"cropper-point"),It)),t.setDragMode(n.dragMode),t.render(),t.ready=!0,t.setData(n.data),t.completing=setTimeout((function(){x(n.ready)&&R(i,Bt,n.ready,!0),B(i,Bt),B(i,Wt,t.getData()),t.complete=!0}),0)}}},{key:"unbuild",value:function(){var t=this;t.ready&&(t.complete||clearTimeout(t.completing),t.ready=!1,t.complete=!1,t.initialImageData=null,t.initialCanvasData=null,t.initialCropBoxData=null,t.containerData=null,t.canvasData=null,t.cropBoxData=null,t.unbind(),t.resetPreview(),t.previews=null,t.viewBox=null,t.cropBox=null,t.dragBox=null,t.canvas=null,t.container=null,Y(t.cropper),t.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=zt,n}},{key:"setDefaults",value:function(e){M(t,w(e)&&e)}}]),n}();return M(Ht.prototype,at),M(Ht.prototype,ct),M(Ht.prototype,bt),M(Ht.prototype,xt),M(Ht.prototype,jt),M(Ht.prototype,Vt),"undefined"!==typeof window&&(zt=window.Cropper,window.Cropper=Ht),Ht}()},1259:function(t,e){n.$inject=["AddFontsToWebProjectService","$scope","$timeout"];function n(t,e,n){this.projectSelectorModel=t.getProjectSelectorModel(),this.addFontsToWebProjectModel=t.getAddFontsToWebProjectModel(),this.AddFontsToWebProjectService=t,this.timeout=n,this.projectSelectorModel.getProjectSelectorModelPromise().then((function(){n((function(){e.$apply()}))}))}n.prototype.getSearchResults=function(){return this.projectSelectorModel.getSearchResults()},n.prototype.getterSetterSearchInput=function(t){if(!(arguments.length>0))return this.projectSelectorModel.getProjectName();this.projectSelectorModel.onProjectNameChange(t)},n.prototype.onSelectorButtonClick=function(){this.projectSelectorModel.onSelectorButtonClick()},n.prototype.onSelectProjectClick=function(t){this.AddFontsToWebProjectService.updateProjectDetails(t),this.projectSelectorModel.onSelectProjectClick(t)},n.prototype.isResultListAvailable=function(){return this.projectSelectorModel.isResultListAvailable()},n.prototype.isProjectInvalid=function(t){return!this.projectSelectorModel.isProjectValid(t)},n.prototype.isSelectorDisabled=function(){return this.projectSelectorModel.isSelectorDisabled()},n.prototype.isInputDisabled=function(){return this.projectSelectorModel.isInputDisabled()},n.prototype.getPlaceholder=function(t,e){return this.projectSelectorModel.getPlaceholder(t,e)},n.prototype.isProjectSelected=function(){return this.projectSelectorModel.isProjectSelected()},n.prototype.onCreateProjectClick=function(){var t=document.querySelector("#webfont-project-selector-search-box");this.getterSetterSearchInput(""),this.projectSelectorModel.resetProjectSelection(),this.projectSelectorModel.enableInputBox(),this.timeout((function(){t.focus()}),500)},n.prototype.isDropdownVisible=function(){return this.projectSelectorModel.isDropdownVisible()},n.prototype.isInvalid=function(){return this.projectSelectorModel.isInvalid()},n.prototype.saveProject=function(t){if("Enter"==t.key){var e=document.querySelector("#create-save-web-project");this.timeout((function(){e.click()}))}},n.prototype.onScroll=function(){this.projectSelectorModel.onNextScroll()},t.exports=n},1260:function(t,e){function n(t){this.styleSelectorModel=t.getStyleSelectorModel()}n.$inject=["AddFontsToWebProjectService"],n.prototype.handleShowMoreClicked=function(t){this.styleSelectorModel.setDisplayVariations(t.web_id,t.variations)},n.prototype.handleCheckboxToggled=function(t){this.styleSelectorModel.toggleCheckbox(t)},n.prototype.getShowMoreCount=function(t){return this.styleSelectorModel.getShowMoreCount(t)},n.prototype.getSelectedVariationCount=function(t){return this.styleSelectorModel.getSelectedVariationCount(t)},n.prototype.getTotalVariationCount=function(t){return this.styleSelectorModel.getTotalVariationCount(t)},n.prototype.getExampleText=function(){return this.styleSelectorModel.getExampleText()},n.prototype.getTextDirectionClass=function(t){return t.rtl?"webfont-project-style-selector__font-preview--rtl":""},n.prototype.getSortedFamilies=function(){return this.styleSelectorModel.getSortedFamilies()},n.prototype.getDisplayVariations=function(t){return this.styleSelectorModel.getDisplayVariations(t)},n.prototype.isVariationSelected=function(t){return this.styleSelectorModel.isVariationSelected(t)},t.exports=n},1261:function(t,e){function n(t){var e=this;e.WebfontProjectService=t;var n=e.WebfontProjectService.getWebfontProjectStylesModel();e.fontVariationsDetails=n.getFontVariations()||[]}n.$inject=["AddFontsToWebProjectService"],t.exports=n},1262:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{category:"&",familySlug:"&",subcategory:"&",tooltipText:"&",user:"&",variationOne:"&",variationTwo:"&",selectedFeedback:"="},controller:n(1263),controllerAs:"feedbackIcons",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/feedback_icons.html"}}},1263:function(t,e,n){o.$inject=["$scope","FeedbackService","NewrelicService"];var i=n(1);function o(t,e,n){var i=this;i.FeedbackService=e,i.NewrelicService=n,t.$watch((function(){return i.FeedbackService.getSubmittedFeedback(i._getID(),i.familySlug())}),(function(t){i.selectedFeedback=t}))}o.prototype.areThumbsUpDownVisible=function(){return!this.isSimilarityAndPairingVariant()},o.prototype.isCancelButtonVisible=function(){return this.isSimilarityAndPairingVariant()},o.prototype.isSimilarityAndPairingVariant=function(){return this._isFontSimilarityVariant()||this._isFontPairingVariant()},o.prototype.initSelectedFeedback=function(){return i.isEmpty(this.selectedFeedback)?"positive":"negative"},o.prototype.toggleSelectedFeedback=function(){return"negative"===this.selectedFeedback?"positive":"negative"},o.prototype.getClass=function(t,e){return this.selectedFeedback===t?[e,"on"].join(" "):e},o.prototype.getTooltipClass=function(){return this.isCancelButtonVisible()?"negative"===this.selectedFeedback?"spectrum-Tooltip--bottom flag-icon-tooltip on":"spectrum-Tooltip--bottom flag-icon-tooltip":"spectrum-Tooltip--top"},o.prototype.handleClick=function(t,e){t&&(t.preventDefault(),t.stopPropagation()),this.selectedFeedback=e,this.isSimilarityAndPairingVariant()?(this.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",this._getNewRelicAttributes(e)),this.FeedbackService.post(this.category(),this.subcategory(),this._getID(),e,this.familySlug(),this.variationOne().id,this.variationTwo().id)):(this.NewrelicService.addPageAction("typekit.browse.click",this._getNewRelicAttributes(e)),this.FeedbackService.post(this.category(),this.subcategory(),this._getID(),e,this.familySlug()))},o.prototype._getID=function(){if(this._isTagVariant())return this.FeedbackService.filtersModel.getSelectedTag();if(this._isRecommendationVariant())return this.user();if(this.isSimilarityAndPairingVariant())return this.variationOne().id+"-"+this.variationTwo().id;throw new Error("Unrecognized feedback icon category: "+this.category())},o.prototype._isFontPairingVariant=function(){return"pairing"===this.category()},o.prototype._isFontSimilarityVariant=function(){return"similarity"===this.category()},o.prototype._isRecommendationVariant=function(){return"recommendation"===this.category()},o.prototype._isTagVariant=function(){return"tag"===this.category()},o.prototype._getNewRelicAttributes=function(t){if(this._isTagVariant())return{tagName:this.FeedbackService.filtersModel.getSelectedTag(),familySlug:this.familySlug(),feedback:t};if(this._isRecommendationVariant())return{familySlug:this.familySlug(),feedback:t,subcategory:this.subcategory(),user:this.user()};if(this.isSimilarityAndPairingVariant())return{category:this.category(),subcategory:this.subcategory(),feedback:t,variation_one:this.variationOne().name,variation_two:this.variationTwo().name};throw new Error("Unrecognized feedback icon category: "+this.category())},t.exports=o},1264:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/large_web_project_notice.html",bindToController:{},controller:n(1265),controllerAs:"largeWebProjectNoticeCtrl"}}},1265:function(t,e){t.exports=function(){}},1266:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{allowOverlap:"&",endValue:"&",startValue:"&",label:"@",onChange:"&",max:"&",min:"&",step:"&",value:"&",valueLabel:"&",variant:"@"},controller:n(1267),controllerAs:"spectrumSlider",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/slider.html",link:function(t,e,n,i){t.$watch((function(){return{startValue:i.startValue(),endValue:i.endValue()}}),i.updateValues.bind(i),!0)}}}},1267:function(t,e,n){a.$inject=["$element","$scope","$window"];var i=n(1),o="end-handle",r="start-handle";function a(t,e,n){this.$element=t,this.$scope=e,this.$window=n,this.minValue=parseInt(this.min(),10),this.maxValue=parseInt(this.max(),10),this.handleValues={},this.initEvents()}a.prototype.updateValues=function(t){this.isRange()&&(this.handleValues["start-handle"]=t.startValue||1),this.handleValues["end-handle"]=this.isRange()?t.endValue||1:this.value()},a.prototype.calculateHandleValue=function(t){var e=this.$element[0].getBoundingClientRect(),n=(t-e.left)/e.width;return this.minValue+(this.maxValue-this.minValue)*n},a.prototype.findClosestHandle=function(t,e){var n=this,o=n.getHandles(),r=o[0],a=1/0;return i.forEach(o,(function(i){var o=i.getBoundingClientRect(),s=o.top+n.$window.pageYOffset,c=o.left+n.$window.pageXOffset,l=Math.floor(Math.sqrt(Math.pow(t-(c+o.width/2),2)+Math.pow(e-(s+o.height/2),2)));l<a&&(a=l,r=i)})),r},a.prototype.getCenterTrackStyle=function(){return{left:100*this.getRelativePercent(this.getStartHandleValue())+"%",right:100*(1-this.getRelativePercent(this.getEndHandleValue()))+"%"}},a.prototype.getData=function(){return this.isRange()?{end:this.getEndHandleValue(),start:this.getStartHandleValue()}:this.getEndHandleValue()},a.prototype.getEndHandleValue=function(){return this.handleValues["end-handle"]},a.prototype.getEndTrackStyle=function(){var t=100*this.getRelativePercent(this.getEndHandleValue());return{left:t+"%",width:100-t+"%"}},a.prototype.getHandles=function(){return this.$element[0].querySelectorAll(".spectrum-Slider-handle")},a.prototype.getHandleStyle=function(t){return{left:100*this.getRelativePercent(this.handleValues[t])+"%"}},a.prototype.getRelativePercent=function(t){return(t-this.minValue)/(this.maxValue-this.minValue)},a.prototype.getStartHandleValue=function(){return this.handleValues["start-handle"]},a.prototype.getStartTrackStyle=function(){return this.isRange()?{width:100*this.getRelativePercent(this.getStartHandleValue())+"%"}:{left:0,right:0}},a.prototype.getStep=function(){return this.step()||1},a.prototype.getValueLabel=function(){var t=this.valueLabel({$data:this.getData()});return t||(this.isRange()?this.getStartHandleValue()+"\u2013"+this.getEndHandleValue():this.getEndHandleValue())},a.prototype.handleMouseDown=function(t){var e=this,n=function(n){e.handleMouseMove(t,n)};e.$window.addEventListener("mousemove",n),e.$window.addEventListener("mouseup",(function(){e.$window.removeEventListener("mousemove",n)}))},a.prototype.handleMouseMove=function(t,e){var n=this;e.preventDefault();var i=t.dataset.handleId,a=n.calculateHandleValue(e.clientX);i===r&&a>n.getEndHandleValue()&&(a=n.getEndHandleValue(),this.allowOverlap()||(a-=n.getStep())),i===o&&a<n.getStartHandleValue()&&(a=n.getStartHandleValue(),this.allowOverlap()||(a+=n.getStep())),a<n.minValue&&(a=n.minValue),a>n.maxValue&&(a=n.maxValue),n.$scope.$apply((function(){n.handleValues[t.dataset.handleId]=n.snapToStep(a),n.onChange({$data:n.getData()})}))},a.prototype.handlesAreOverlapping=function(){return this.handleValues["start-handle"]===this.handleValues["end-handle"]},a.prototype.initEvents=function(){var t=this;t.$element[0].addEventListener("mousedown",(function(e){e.stopPropagation();var n=t.findClosestHandle(e.pageX,e.pageY);n&&(t.handleMouseMove(n,e),t.handleMouseDown(n))}))},a.prototype.isRange=function(){return"range"===this.variant},a.prototype.isStartHandleVisible=function(){return this.isRange()},a.prototype.snapToStep=function(t){var e=this.getStep();return e?Math.round(t/e)*e:t},t.exports=a},1268:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_subsetting_options.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1269),controllerAs:"tkSubsettingOptionsCtrl"}}},1269:function(t,e,n){var i=n(9);function o(){this.tkffData=this.tkWebProjectFamilyCardModel.getTkffData(),this.typekitFontFamily=this.tkffData.tkff.typekit_font_family,this.isKitDynamic=this.tkWebProjectCardModel.isDynamic(),this.isCJK=this.tkffData.is_CJK,this.tkffUniqueIdentifier=this.typekitFontFamily.slug+this.tkWebProjectCardModel.getProjectId(),this.openTypeFeatureDisplayInfo=this.tkffData.open_type_feature_display_info,this.enabledLanguageTags=this.tkffData.enabled_language_tags,this.langCheckedStates=this.constructLangCheckedStates();var t=i.copy(this.tkffData.supported_languages_all);this.supportedLanguagesHalves=this._reconstructLanguagesForView(t),this.charSetOptionsEnum=this.tkWebProjectCardModel.getCharSetOptionsEnum(),this.subSettingOptions={all:this.charSetOptionsEnum.CHAR_SET_OPTION_ALL,custom:this.charSetOptionsEnum.CHAR_SET_OPTION_CUSTOM,default:this.charSetOptionsEnum.CHAR_SET_OPTION_DEFAULT,dynamic:this.charSetOptionsEnum.CHAR_SET_OPTION_DYNAMIC},this.selectedSubsetting=this.subSettingOptions[this.tkffData.subsetting]}o.prototype.constructLangCheckedStates=function(){var t,e={};for(t=0;t<this.tkffData.supported_languages_all.length;t++)e[this.tkffData.supported_languages_all[t].language.iana_language_tag]=!1;for(t=0;t<this.enabledLanguageTags.length;t++)e[this.enabledLanguageTags[t]]=!0;return e},o.prototype.getTkffUniqueIdentifier=function(){return this.tkffUniqueIdentifier},o.prototype.isVerticalFeaturesOptionShown=function(){return this.isCJK},o.prototype.toggleVerticalFeaturesSelection=function(){this.tkWebProjectCardModel.setIsModified(!0),this.tkffData.is_vertical_features_enabled=!this.tkffData.is_vertical_features_enabled},o.prototype.toggleOpenTypeFeaturesSelection=function(){this.tkWebProjectCardModel.setIsModified(!0),this.tkffData.is_ot_features_enabled=!this.tkffData.is_ot_features_enabled},o.prototype.isDynamicSubsettingOptionShown=function(){return this.isKitDynamic},o.prototype.isAllChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_ALL},o.prototype.isLanguageSubsettingChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_CUSTOM},o.prototype.isDefaultChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_DEFAULT},o.prototype.isDynamicChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_DYNAMIC},o.prototype.handleSubsettingClick=function(t){this.tkWebProjectCardModel.setIsModified(!0),this.selectedSubsetting=t,this.tkffData.subsetting=t,this.tkWebProjectCardModel.updateIsValid()},o.prototype.isOnlyDynamicSubsettingAllowed=function(){return this.isKitDynamic&&this.isCJK},o.prototype.updateEnabledLanguages=function(t){var e;for(this.tkWebProjectCardModel.setIsModified(!0),this.langCheckedStates[t.language.iana_language_tag]=!this.langCheckedStates[t.language.iana_language_tag],this.enabledLanguageTags.splice(0,this.enabledLanguageTags.length),e=0;e<this.tkffData.supported_languages_all.length;e++)this.langCheckedStates[this.tkffData.supported_languages_all[e].language.iana_language_tag]&&this.enabledLanguageTags.push(this.tkffData.supported_languages_all[e].language.iana_language_tag);this.tkWebProjectCardModel.updateIsValid()},o.prototype._reconstructLanguagesForView=function(t){var e=[];return e.push(t.slice(0,Math.ceil(t.length/2))),e.push(t.slice(Math.ceil(t.length/2),t.length)),e},t.exports=o},1270:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_card.html",bindToController:{embedCodeModel:"=",tkWebProjectCardModel:"="},controller:n(1271),controllerAs:"tkWebProjectCardCtrl"}}},1271:function(t,e){o.$inject=["$element","$window","DialogService","TkWebProjectEditorService","NotificationService","DataService"];var n="tk-web-project-card__footer--unstuck",i="tk-web-project-card__footer--stuck";function o(t,e,n,i,o,r){var a=this;a.$element=t,a.$window=e,a.tkWebProjectEditorService=i,a.dialogService=n,a.DataService=r,a.NotificationService=o,a.tkffList=a.tkWebProjectCardModel.getTkffList(),a.projectInfo={id:this.tkWebProjectCardModel.getProjectId(),isDynamic:this.tkWebProjectCardModel.isDynamic()},a.DataService.get("/neue/i18n").then((function(t){a.i18n=t})),a.$window.addEventListener("scroll",(function(){a._handleWindowScroll()})),a.$window.addEventListener("resize",(function(){a._adjustFooterWidth()})),a.tkWebProjectCardModel.isExpanded()&&(a.tkWebProjectCardModel.toggleExpanded(),a.tkWebProjectEditorService.populateCompleteTkffData(this.tkWebProjectCardModel.getProjectDetails().kitToken)),a.busyCursor=!1}o.prototype.toggleExpanded=function(){0==this.tkWebProjectCardModel.getIsDataFetched()?(this.toggleBusyCursor(),this.tkWebProjectEditorService.populateCompleteTkffData(this.tkWebProjectCardModel.getProjectDetails().kitToken,this.toggleBusyCursor)):this.tkWebProjectCardModel.toggleExpanded()},o.prototype.toggleBusyCursor=function(){this.busyCursor=!this.busyCursor},o.prototype.openDeleteConfirmationDialog=function(){this.tkWebProjectEditorService.openDeleteConfirmationDialog(this.tkWebProjectCardModel)},o.prototype.handleSaveClicked=function(){var t=this;t.tkWebProjectEditorService.updateKit(t.tkWebProjectCardModel.getTkffList(),t.tkWebProjectCardModel.getDeletedTkffs(),t.tkWebProjectCardModel.getProjectDetails().kitToken).then((function(e){t.tkWebProjectCardModel.setLastModified(e.last_updated),t.NotificationService.success(t.i18n["kit_editor.kits.publish.update.project_eta_message"].replace("%{web_project_name}",t.tkWebProjectCardModel.getProjectName())),t.tkWebProjectCardModel.updateTkffListBackup()})),t.tkWebProjectCardModel.handleSave()},o.prototype.handleCancelClicked=function(){var t;for(this.tkWebProjectCardModel.handleCancel(),this.tkffList=this.tkWebProjectCardModel.getTkffList(),t=0;t<this.tkffList.length;t++){var e=this.tkWebProjectCardModel.getProjectDetails().kitToken+this.tkffList[t].tkff.typekit_font_family.id;this.tkWebProjectEditorService.getTkWebProjectFamilyCardModel(e).setTkffData(this.tkffList[t]),this.tkWebProjectEditorService.getTkWebProjectEditorStyleSelectorModel(e).setEnabledFontVariationIds(this.tkffList[t].enabled_font_variation_ids)}},o.prototype.getFamilyCardModel=function(t){var e=this.tkWebProjectCardModel.getProjectDetails().kitToken+t;return this.tkWebProjectEditorService.getTkWebProjectFamilyCardModel(e)},o.prototype.getFamilyDisplayModel=function(t){var e=this.tkWebProjectCardModel.getProjectDetails().kitToken+t;return this.tkWebProjectEditorService.getTkWebProjectDisplayFamilyModel(e)},o.prototype.getFooterStickyClass=function(){return this._isFooterActive()&&this._isFooterOutOfView()?(this._adjustFooterWidth(),i):n},o.prototype._getFamiliesEl=function(){return this.$element[0].querySelector(".tk-web-project-card__families")},o.prototype._getFooterEl=function(){return this.$element[0].querySelector(".tk-web-project-card__footer")},o.prototype._adjustFooterWidth=function(){this._isFooterActive()&&(this._getFooterEl().style.width=this.$window.getComputedStyle(this._getFamiliesEl()).width)},o.prototype._handleWindowScroll=function(){this._isFooterActive()&&!this._getFooterEl().classList.contains(this.getFooterStickyClass())&&(this._resetStickyClasses(),this._getFooterEl().classList.add(this.getFooterStickyClass()))},o.prototype._isEntireProjectBelowDisplay=function(){return this._getFamiliesEl().getBoundingClientRect().top>this.$window.innerHeight},o.prototype._isProjectBottomBelowDisplay=function(){return this._getFamiliesEl().getBoundingClientRect().bottom+this._getFooterEl().getBoundingClientRect().height>=this.$window.innerHeight},o.prototype._isFooterOutOfView=function(){return!this._isEntireProjectBelowDisplay()&&this._isProjectBottomBelowDisplay()},o.prototype._isFooterActive=function(){return this.tkWebProjectCardModel.isModified()&&this.tkWebProjectCardModel.isExpanded()&&!!this._getFooterEl()},o.prototype._resetStickyClasses=function(){var t=this._getFooterEl();t.classList.remove(i),t.classList.remove(n)},t.exports=o},1272:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_details.html",bindToController:{webProjectDetails:"&"},controller:n(1273),controllerAs:"tkWebProjectDetailsCtrl"}}},1273:function(t,e){function n(){}n.prototype.getDateString=function(){return Date.parse(this.webProjectDetails().dateModified)},t.exports=n},1274:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_display_family.html",scope:{},bindToController:{tkWebProjectDisplayFamilyModel:"="},controller:n(1275),controllerAs:"tkWebProjectDisplayFamilyCtrl"}}},1275:function(t,e){function n(){}n.prototype.getVariationDisplayData=function(){return this.tkWebProjectDisplayFamilyModel.getVariationDisplayData()},n.prototype.getVariationFamilyName=function(){return this.tkWebProjectDisplayFamilyModel.getVariationFamilyName()},n.prototype.getTypographicFamilySlug=function(){return this.tkWebProjectDisplayFamilyModel.getTypographicFamilySlug()},t.exports=n},1276:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_editor_style_selector.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectEditorStyleSelectorModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1277),controllerAs:"tkWebProjectEditorStyleSelectorCtrl"}}},1277:function(t,e){function n(){}n.prototype.getRatioOfSelectedToAvailableFonts=function(){return this.tkWebProjectEditorStyleSelectorModel.getEnabledFontVariationIds().length+"/"+this.tkWebProjectEditorStyleSelectorModel.getAvailableFontVariations().length},n.prototype.getAvailableFontVariations=function(){return this.tkWebProjectEditorStyleSelectorModel.getAvailableFontVariations()},n.prototype.getCompleteFontVariationStyle=function(t){var e=this.tkWebProjectFamilyCardModel.getFormattedCssFontStack();return this.tkWebProjectEditorStyleSelectorModel.getCompleteFontVariationStyle(t,e)},n.prototype.isVariationSelected=function(t){return this.tkWebProjectEditorStyleSelectorModel.isVariationSelected(t)},n.prototype.handleCheckboxToggled=function(t){this.tkWebProjectEditorStyleSelectorModel.isVariationSelected(t)?this.tkWebProjectFamilyCardModel.updateVariationsDisabled(t.id):this.tkWebProjectFamilyCardModel.updateVariationsEnabled(t.id),this.tkWebProjectEditorStyleSelectorModel.toggleCheckbox(t),this.tkWebProjectCardModel.setIsModified(!0),this.tkWebProjectCardModel.computeTotalVariations()},n.prototype.isVariationRtl=function(t){return t.rtl},n.prototype.getVariationDisplayData=function(t){return this.tkWebProjectEditorStyleSelectorModel.getVariationDisplayData(t)},n.prototype.getExampleText=function(t){return this.tkWebProjectEditorStyleSelectorModel.getExampleText(t)},t.exports=n},1278:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_embed_code_options.html",scope:{},bindToController:{embedCodeModel:"="},controller:n(1279),controllerAs:"tkWebProjectEmbedCodeOptionsCtrl"}}},1279:function(t,e){function n(){this.isDefaultVisible=!0}n.prototype.isDefaultSnippetVisible=function(){return!this.embedCodeModel.getIsDynamic()&&this.isDefaultVisible},n.prototype.isCssImportSnippetVisible=function(){return!this.embedCodeModel.getIsDynamic()&&!this.isDefaultVisible},n.prototype.isAsyncSnippetVisible=function(){return this.embedCodeModel.getIsDynamic()},n.prototype.getDefaultSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().css_code},n.prototype.getCssImportSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().css_import_code},n.prototype.getAsyncSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().async_javascript_code},n.prototype.showDefaultCssCode=function(){this.isDefaultVisible=!0},n.prototype.showCssImportCode=function(){this.isDefaultVisible=!1},t.exports=n},1280:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_family_card.html",bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1281),controllerAs:"tkWebProjectFamilyCardCtrl"}}},1281:function(t,e){function n(t){this.tkWebProjectEditorService=t}n.$inject=["TkWebProjectEditorService"],n.prototype.deleteTkff=function(){this.tkWebProjectFamilyCardModel.isAnyFontRetired?this.tkWebProjectEditorService.openRetiredFontsRemovalConfirmationDialog(this.tkWebProjectCardModel,this.tkWebProjectFamilyCardModel):this.tkWebProjectCardModel.deleteTkff(this.tkWebProjectFamilyCardModel.getTkffData())},n.prototype.getStyleSelectorModel=function(){var t=this.tkWebProjectCardModel.getProjectDetails().kitToken+this.tkWebProjectFamilyCardModel.getTkffData().tkff.typekit_font_family.id;return this.tkWebProjectEditorService.getTkWebProjectEditorStyleSelectorModel(t)},t.exports=n},1282:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_list.html",bindToController:{tkWebProjectListModel:"=",sortModes:"="},controller:n(1283),controllerAs:"tkWebProjectListCtrl"}}},1283:function(t,e){n.$inject=["TkWebProjectEditorService"];function n(t){this.tkWebProjectEditorService=t,this.searchString="",this.selectedSort=this.tkWebProjectEditorService.getTkWebProjectListModel().getSortOrder()}n.prototype.handlePageNumberChange=function(){this.tkWebProjectEditorService.updateWebProjects(this.searchString,this.getCurrentPage(),!0)},n.prototype.getCurrentPage=function(){return this.tkWebProjectEditorService.getTkWebProjectListModel().currentPage},n.prototype.clearAndGetSearchResults=function(){this.searchString="",this.getSearchResults()},n.prototype.getSearchResults=function(){this.tkWebProjectEditorService.getTkWebProjectListModel().setCurrentPage(1),this.tkWebProjectEditorService.updateWebProjects(this.searchString,1,!0)},n.prototype.isSearchBoxShown=function(){return 0!=this.tkWebProjectEditorService.getTkWebProjectListModel().getWebProjectList().length||this.isEmptyResultsState()},n.prototype.isEmptyResultsState=function(){return 0==this.tkWebProjectEditorService.getTkWebProjectListModel().getWebProjectList().length&&""!=this.searchString},n.prototype.handleSortChange=function(){this.tkWebProjectEditorService.getTkWebProjectListModel().setSortOrder(this.selectedSort),this.tkWebProjectEditorService.updateWebProjects(this.searchString,this.getCurrentPage(),!0)},t.exports=n},1284:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{autocompleteService:"=",inputPlaceholder:"@",resultDivClasses:"@",resultTitle:"@",resultSeeAllLabel:"@"},controller:n(1285),controllerAs:"adobeFontsAutoCompleteCtrl",restrict:"E",transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_auto_complete.html",link:function(t,e,n,i){i.element=e[0]}}}},1285:function(t,e,n){a.$inject=["$document","$scope","$timeout"];var i=n(9),o=n(1),r=[40,38,27];function a(t,e,n){this.$document=t,this.$scope=e,this.$timeout=n,this.handleInputKeyup=o.debounce(o.bind(this._handleInputKeyup,this),300),this.isResultListVisible=!1,this.results=[],this._selectedIndex=-1,this._initBodyEvents()}a.prototype.handleElementKeyDown=function(t){this._isNavigationKeyEvent(t)&&this._hasResults()&&this._handleNavigationEvent(t)},a.prototype.handleResultFocus=function(t){this._selectedIndex=t},a.prototype.getSearchResultItemLink=function(t){return this.autocompleteService.getItemHyperlink(t)},a.prototype._getCurrentResultElements=function(){return this.element.querySelectorAll(".adobe-fonts-auto-complete__item a")},a.prototype._getInput=function(){return this.element.getElementsByClassName("adobe-fonts-auto-complete__search-field")[0]},a.prototype._handleNavigationEvent=function(t){if(27==t.keyCode)return this.isResultListVisible=!1,this.results=[],this._selectedIndex=-1,void this._getInput().focus();t.preventDefault(),40==t.keyCode?this._selectedIndex=this._selectedIndex+1<this.results.length?this._selectedIndex+1:0:38==t.keyCode&&(this._selectedIndex=this._selectedIndex>0?this._selectedIndex-1:this.results.length-1),this._getCurrentResultElements()[this._selectedIndex].focus()},a.prototype._handleInputKeyup=function(t){var e=this;e._isNavigationKeyEvent(t)||(e._selectedIndex=-1,e.autocompleteService.get(e.searchTerm).then((function(t){e.$timeout((function(){e.results=t.data,e.isResultListVisible=e.results.length>0}))})))},a.prototype._hasResults=function(){return this.results.length>0},a.prototype._initBodyEvents=function(){var t=this;i.element(t.$document[0].body).on("click focus keyup",(function(e){t._isChildOfDirective(e.target)||t.$scope.$apply((function(){t.isResultListVisible=!1}))}))},a.prototype._isChildOfDirective=function(t){return t==this.element||t.parentNode==this.element||t.parentNode&&this._isChildOfDirective(t.parentNode)},a.prototype._isNavigationKeyEvent=function(t){return o.contains(r,t.keyCode)},t.exports=a},1286:function(t,e,n){t.exports=function(){return{bindToController:{alwaysHasCarousel:"@",hidePreviousAndNextButtons:"=?",isFamilyImageCarousel:"@",isRecommendedFontCarousel:"@",layout:"@",links:"@",itemSize:"@"},controller:n(1287),controllerAs:"carouselCtrl",scope:{},restrict:"E",transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_carousel.html"}}},1287:function(t,e,n){a.$inject=["$element","$scope","$timeout","$window"];var i=n(1288).lory,o=n(1),r="adobe-fonts-carousel--active";function a(t,e,n,i){var o=this;o.$element=t,o.$timeout=n,o.$window=i,o.previousSlide=0,o.currentDot=0,o.hidePreviousAndNextButtons=o.hidePreviousAndNextButtons||!1,o.hidePreviousAndNextButtonsInitialSetting=o.hidePreviousAndNextButtons,o._loadAttempts=0,o.areSlidesLoaded=!1,o._currentNumSlidesInViewport=0,i.requestAnimationFrame((function(){o._loadCarousel()})),this.isFamilyImageCarousel&&e.$watch((function(){return o.layout}),(function(){n((function(){o.isCarouselRequired()&&o._activateCarousel()}),1)})),e.$watch((function(){return o._getSlidesHtml()}),(function(t,e){t!==e&&(o.isRecommendedFontCarousel?o._activateCarouselWithSamePosition():(o._activateCarousel(),o.selectDot(0)))})),i.addEventListener("resize",(function(){o.alwaysHasCarousel||(o.isCarouselRequired()?o._activateCarousel():o.carousel&&o._destroyCarousel()),o.isRecommendedFontCarousel&&o._currentNumSlidesInViewport!==o._numSlidesInViewport()&&o._activateCarouselWithSamePosition(),e.$apply((function(){o.isCarouselRequired()})),o._currentNumSlidesInViewport=o._numSlidesInViewport()}))}a.prototype.dotNumbers=function(){return o.range(0,this._numSlides())},a.prototype.getLinkHref=function(){return!this.links||!this.currentDot&&0!==this.currentDot?"":(JSON.parse(this.links)[this.currentDot]||{}).href||""},a.prototype.getLinkName=function(){return!this.links||!this.currentDot&&0!==this.currentDot?"":(JSON.parse(this.links)[this.currentDot]||{}).name||""},a.prototype.shouldShowDotControl=function(){return this.isFamilyImageCarousel?this.itemSize>1&&1===this._numSlidesInViewport()||this.itemSize>3||"grid"===this.layout:!this.isRecommendedFontCarousel&&this.isCarouselRequired()},a.prototype.isCarouselRequired=function(){var t=this._getFrameEl();if(this.isFamilyImageCarousel){if("grid"===this.layout)return this._isContentLoaded()&&(this.areSlidesLoaded=!0),this.areSlidesLoaded;return t.clientWidth<t.scrollWidth-40}return t.clientWidth<t.scrollWidth},a.prototype.isDotActive=function(t){return this.currentDot===t},a.prototype.selectDot=function(t){this.carousel.slideTo(t),this.currentDot=t},a.prototype.shouldShowDot=function(t){return t<this._numDotsVisible()},a.prototype._updatePreviousAndNextButtonsVisibility=function(){this.hidePreviousAndNextButtonsInitialSetting||(this.hidePreviousAndNextButtons=this._numSlidesInViewport()>=this._numSlides())},a.prototype._activateCarousel=function(){var t=this.$element[0].querySelector(".adobe-fonts-carousel");this.isRecommendedFontCarousel?this.carousel=i(t,{slidesToScroll:this._numSlidesInViewport(),rewindOnResize:this.isRecommendedFontCarousel,forceIndexUpdate:!0}):this.carousel=i(t,{rewind:!this.isFamilyImageCarousel,rewindOnResize:!this.alwaysHasCarousel}),this.$element.addClass(r),this.$element[0].addEventListener("before.lory.slide",this._handleSlideEvent.bind(this)),this.isFamilyImageCarousel&&this.selectDot(0),(this.isFamilyImageCarousel||this.isRecommendedFontCarousel)&&this.$element[0].addEventListener("after.lory.slide",this._handleAfterSlideEvent.bind(this)),this._updatePreviousAndNextButtonsVisibility(),this._currentNumSlidesInViewport=this._numSlidesInViewport()},a.prototype._activateCarouselWithSamePosition=function(){var t=0;this.carousel&&(t=this.carousel.returnIndex()),this._activateCarousel(),this.selectDot(t)},a.prototype._destroyCarousel=function(){this.carousel.destroy(),this.carousel=null,this.$element.removeClass(r)},a.prototype._getFrameEl=function(){return this.$element[0].querySelector(".adobe-fonts-carousel__frame")},a.prototype._getSlidesHtml=function(){return[].slice.call(this.$element[0].getElementsByTagName("li")).map((function(t){return t.innerHTML})).join("")},a.prototype._handleSlideEvent=function(t){var e=t.detail.nextSlide;if(this.isFamilyImageCarousel){if(e===this.previousSlide||e===this._numDotsVisible())return;this.previousSlide=e}this.currentDot=this.currentDot===e||e<0?0:e},a.prototype._handleAfterSlideEvent=function(t){var e=t.detail.currentSlide+1,n=this.$element[0].getElementsByClassName("adobe-fonts-carousel__next-button")[0],i=this.$element[0].getElementsByClassName("adobe-fonts-carousel__previous-button")[0];this.isRecommendedFontCarousel?e>=this._numDotsVisible()?(n.classList.add("disabled"),i.classList.remove("disabled")):e<=1?(i.classList.add("disabled"),n.classList.remove("disabled")):(n.classList.remove("disabled"),i.classList.remove("disabled")):"grid"!==this.layout&&e===this._numDotsVisible()&&n.classList.add("disabled")},a.prototype._isContentLoaded=function(){var t=this._getFrameEl();return t.scrollWidth>0&&t.scrollWidth!==t.clientWidth},a.prototype._loadCarousel=function(){var t=this;return!t._isContentLoaded()&&t._loadAttempts<10?(t._loadAttempts++,t.$timeout((function(){t._loadCarousel()}),400)):t.isCarouselRequired()?t._activateCarousel():void t._updatePreviousAndNextButtonsVisibility()},a.prototype._numDotsVisible=function(){return this._numSlides()-this._numSlidesInViewport()+1},a.prototype._numSlides=function(){return this.isRecommendedFontCarousel?this.$element[0].getElementsByClassName("adobe-fonts-carousel-item").length:this.$element[0].getElementsByTagName("li").length},a.prototype._numSlidesInViewport=function(){if(this.$element[0].querySelector(".adobe-fonts-carousel")&&this.$element[0].getElementsByTagName("li")&&this.$element[0].getElementsByTagName("li")[0]){var t=this.$element[0].querySelector(".adobe-fonts-carousel").clientWidth,e=this.$element[0].getElementsByTagName("li")[0].clientWidth;return this.isRecommendedFontCarousel&&(e=this.$element[0].getElementsByClassName("adobe-fonts-carousel-item")[0].clientWidth),this.isFamilyImageCarousel||this.isRecommendedFontCarousel?Math.round(t/e):Math.floor(t/e)}},t.exports=a},1288:function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.lory=function(t,e){var n=void 0,s=void 0,u=void 0,d=void 0,f=void 0,p=void 0,h=void 0,g=void 0,m=void 0,v=void 0,y=0,S={};function _(t,e){var n=S.classNameActiveSlide;t.forEach((function(t,e){t.classList.contains(n)&&t.classList.remove(n)})),t[e].classList.add(n)}function b(e,n,i){(0,r.default)(t,e+".lory."+n,i)}function $(t,e,n){var i=p&&p.style;i&&(i[m.transition+"TimingFunction"]=n,i[m.transition+"Duration"]=e+"ms",m.hasTranslate3d?i[m.transform]="translate3d("+t+"px, 0, 0)":i[m.transform]="translate("+t+"px, 0)")}function w(t,e){var i=S,o=i.slideSpeed,r=i.slidesToScroll,a=i.infinite,l=i.rewind,f=i.rewindSpeed,p=i.ease,h=i.classNameActiveSlide,g=i.forceIndexUpdate,m=o,w=e?y+1:y-1,x=Math.round(s-u);b("before","slide",{index:y,nextSlide:w}),"number"!==typeof t&&(t=e?y+r:y-r),t=Math.min(Math.max(t,0),d.length-1),a&&void 0===e&&(t+=a);var C=Math.min(Math.max(-1*d[t].offsetLeft,-1*x),0);l&&Math.abs(n.x)===x&&e&&(C=0,t=0,m=f),$(C,m,p),n.x=C,(g||d[t].offsetLeft<=x)&&(y=t),!a||t!==d.length-a&&0!==t||(e&&(y=a),e||(y=d.length-2*a),n.x=-1*d[y].offsetLeft,v=function(){$(-1*d[y].offsetLeft,0,void 0)}),h&&_(c.call(d),y),b("after","slide",{currentSlide:y})}function x(){b("before","init"),m=(0,o.default)();var r,s,u,v,$=S=i({},a.default,e),w=$.classNameFrame,x=$.classNameSlideContainer,M=$.classNamePrevCtrl,P=$.classNameNextCtrl,E=$.enableMouseEvents,A=$.classNameActiveSlide;f=t.getElementsByClassName(w)[0],p=f.getElementsByClassName(x)[0],h=t.getElementsByClassName(M)[0],g=t.getElementsByClassName(P)[0],n={x:p.offsetLeft,y:p.offsetTop},S.infinite?(r=c.call(p.children),s=S.infinite,u=r.slice(0,s),v=r.slice(r.length-s,r.length),u.forEach((function(t){var e=t.cloneNode(!0);p.appendChild(e)})),v.reverse().forEach((function(t){var e=t.cloneNode(!0);p.insertBefore(e,p.firstChild)})),p.addEventListener(m.transitionEnd,T),d=c.call(p.children)):d=c.call(p.children),C(),A&&_(d,y),h&&g&&(h.addEventListener("click",F),g.addEventListener("click",k)),f.addEventListener("touchstart",D,!!l&&{passive:!0}),E&&(f.addEventListener("mousedown",D),f.addEventListener("click",L)),S.window.addEventListener("resize",V),b("after","init")}function C(){var t=S,e=t.infinite,i=t.ease,o=t.rewindSpeed,r=t.rewindOnResize,a=t.classNameActiveSlide;s=p.getBoundingClientRect().width||p.offsetWidth,(u=f.getBoundingClientRect().width||f.offsetWidth)===s&&(s=d.reduce((function(t,e){return t+e.getBoundingClientRect().width||e.offsetWidth}),0)),r?y=0:(i=null,o=0),e?($(-1*d[y+e].offsetLeft,0,null),y+=e,n.x=-1*d[y].offsetLeft):($(-1*d[y].offsetLeft,o,i),n.x=-1*d[y].offsetLeft),a&&_(c.call(d),y)}function F(){w(!1,!1)}function k(){w(!1,!0)}"undefined"!==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var M=void 0,P=void 0,E=void 0;function T(){v&&(v(),v=void 0)}function D(t){var e=S.enableMouseEvents,n=t.touches?t.touches[0]:t;e&&(f.addEventListener("mousemove",A),f.addEventListener("mouseup",j),f.addEventListener("mouseleave",j)),f.addEventListener("touchmove",A),f.addEventListener("touchend",j,!!l&&{passive:!0});var i=n.pageX,o=n.pageY;M={x:i,y:o,time:Date.now()},E=void 0,P={},b("on","touchstart",{event:t})}function A(t){var e=t.touches?t.touches[0]:t,i=e.pageX,o=e.pageY;P={x:i-M.x,y:o-M.y},"undefined"===typeof E&&(E=!!(E||Math.abs(P.x)<Math.abs(P.y))),!E&&M&&(t.preventDefault(),$(n.x+P.x,0,null)),b("on","touchmove",{event:t})}function j(t){var e=M?Date.now()-M.time:void 0,i=Number(e)<300&&Math.abs(P.x)>25||Math.abs(P.x)>u/3,o=!y&&P.x>0||y===d.length-1&&P.x<0,r=P.x<0;E||(i&&!o?w(!1,r):$(n.x,S.snapBackSpeed)),M=void 0,f.removeEventListener("touchmove",A),f.removeEventListener("touchend",j),f.removeEventListener("mousemove",A),f.removeEventListener("mouseup",j),f.removeEventListener("mouseleave",j),b("on","touchend",{event:t})}function L(t){P.x&&t.preventDefault()}function V(t){C(),b("on","resize",{event:t})}return x(),{setup:x,reset:C,slideTo:function(t){w(t)},returnIndex:function(){return y-S.infinite||0},prev:F,next:k,destroy:function(){b("before","destroy"),f.removeEventListener(m.transitionEnd,T),f.removeEventListener("touchstart",D),f.removeEventListener("touchmove",A),f.removeEventListener("touchend",j),f.removeEventListener("mousemove",A),f.removeEventListener("mousedown",D),f.removeEventListener("mouseup",j),f.removeEventListener("mouseleave",j),f.removeEventListener("click",L),S.window.removeEventListener("resize",V),h&&h.removeEventListener("click",F),g&&g.removeEventListener("click",k),S.infinite&&Array.apply(null,Array(S.infinite)).forEach((function(){p.removeChild(p.firstChild),p.removeChild(p.lastChild)})),b("after","destroy")}}};var o=s(n(2)),r=s(n(3)),a=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}var c=Array.prototype.slice,l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch(d){}},function(t,e){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e,n,i,o=void 0,r=void 0,a=void 0,s=void 0;return e=document.createElement("_"),n=e.style,i=void 0,""===n[i="webkitTransition"]&&(a="webkitTransitionEnd",r=i),""===n[i="transition"]&&(a="transitionend",r=i),""===n[i="webkitTransform"]&&(o=i),""===n[i="msTransform"]&&(o=i),""===n[i="transform"]&&(o=i),document.body.insertBefore(e,null),n[o]="translate3d(0, 0, 0)",s=!!t.getComputedStyle(e).getPropertyValue(o),document.body.removeChild(e),{transform:o,transition:r,transitionEnd:a,hasTranslate3d:s}}}).call(e,function(){return this}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=new r.default(e,{bubbles:!0,cancelable:!0,detail:n});t.dispatchEvent(i)};var i,o=n(4),r=(i=o)&&i.__esModule?i:{default:i}},function(t,e){(function(e){var n=e.CustomEvent;t.exports=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(e){}return!1}()?n:"undefined"!==typeof document&&"function"===typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(e,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={slidesToScroll:1,slideSpeed:300,rewindSpeed:600,snapBackSpeed:200,ease:"ease",rewind:!1,infinite:!1,classNameFrame:"js_frame",classNameSlideContainer:"js_slides",classNamePrevCtrl:"js_prev",classNameNextCtrl:"js_next",classNameActiveSlide:"active",enableMouseEvents:!1,window:window,rewindOnResize:!0,forceIndexUpdate:!1}}])},t.exports=i()},1289:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{filtersModel:"&",onFiltersChange:"&"},controller:n(1290),controllerAs:"filtersSidebarCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/adobe_fonts_filters_sidebar.html"}}},1290:function(t,e,n){o.$inject=["DataService","NewrelicService"];var i=n(1);function o(t,e){var n=this;t.get("/font_filters_sidebar/i18n").then((function(t){n.i18n=t})),n.NewrelicService=e,n._filterSectionOpenStates={library:!0,classification:!0,"recommended-for":!0,properties:!0,tags:!0,languages:n.isSelectedLanguagesOpen()},n._displayTagsCount=n.getTags()?n.getTags().length:0,n._displayShowMore=!1,this.selectedLanguage=this.getSelectedLanguage()||"all",this.prioritizedLanguage=this.getPrioritizedLanguage()}o.prototype.clearFilters=function(){this.filtersModel().selectLanguageMode("all"),this.filtersModel().clearAll(),this.selectedLanguage="all",this.filtersModel().setShowPaidFonts(!1,!0),this.onFiltersChange()},o.prototype.getPrioritizedLanguage=function(){var t,e=this.filtersModel().getLocale();if(!e)return null;switch(e){case"zh_CN":t="zh-Hans";break;case"zh_TW":t="zh-Hant";break;default:t=e.split(/[-_]+/)[0]}return i.find(this.getLanguages(),(function(e){return e.value===t}))},o.prototype.getCurrentFilters=function(){return this.filtersModel()&&this.filtersModel().getFiltersForCurrentBrowseMode()},o.prototype.getDisplayMoreCount=function(){return this.getTags().length-this.getDisplayTagsCount()},o.prototype.getDisplayTagsCount=function(){return this._displayTagsCount},o.prototype.getFontDisplayData=function(t){return this.filtersModel()&&this.filtersModel().getFontDisplayData(t)},o.prototype.getIconUrlForFilter=function(t){return"#filter-icon-sprite-"+t.slug},o.prototype.getLanguages=function(){return this.filtersModel()&&this.filtersModel().getLanguages()},o.prototype.getSelectedLanguage=function(){if(this.filtersModel())return this.filtersModel().getSelectedLanguages().length>0?this.filtersModel().getSelectedLanguages()[0]:void 0},o.prototype.getStylesSliderLabel=function(t){return t.start===t.end?this.i18n["shared.adobe_fonts_filters_sidebar.number_of_styles_all"]:t.end>25?t.start+"\u201325+":t.start+"\u2013"+t.end},o.prototype.getTags=function(){return this.filtersModel()&&this.filtersModel().getTags()},o.prototype.handleAllClickForSection=function(t){this.filtersModel().clearSelectedFiltersForSection(t),this.onFiltersChange()},o.prototype.handleFilterClick=function(t){this.filtersModel().toggleFilter(t),this.onFiltersChange(),this.NewrelicService.addPageAction("typekit.browse.click",{filterName:t})},o.prototype.handleFilterRadioClick=function(t){this.filtersModel().selectFilter(t),this.onFiltersChange()},o.prototype.handleLanguageClick=function(t){this.filtersModel().toggleLanguage(t),this.onFiltersChange()},o.prototype.handleSectionToggleClick=function(t){this._filterSectionOpenStates[t]=!this._filterSectionOpenStates[t]},o.prototype.handleSelectedLanguageChange=function(){this.filtersModel().setSelectedLanguage(this.selectedLanguage),this.onFiltersChange(),this.onFiltersChange()},o.prototype.handleSelectedLanguageModeChange=function(){this.filtersModel().setSelectedLanguageMode(this.selectedLanguage),this.onFiltersChange()},o.prototype.handleShowPaidFontsChange=function(){this.filtersModel().setShowPaidFonts(!this.filtersModel().getShowPaidFonts(),!0),this.onFiltersChange()},o.prototype.handleStylesSliderChange=function(t){this.filtersModel().setMinStyles(t.start),this.filtersModel().setMaxStyles(t.end),this.onFiltersChange()},o.prototype.getMinStyles=function(){return this.filtersModel()&&this.filtersModel().getMinStyles()},o.prototype.getMaxStyles=function(){return this.filtersModel()&&this.filtersModel().getMaxStyles()},o.prototype.handleTagClick=function(t){this.filtersModel().toggleTag(t),this.onFiltersChange(),this.NewrelicService.addPageAction("typekit.browse.click",{tagName:t})},o.prototype.isAllSelectedForSection=function(t){return!this.filtersModel().isAnyFilterSelectedForSection(t)},o.prototype.isClearFiltersEnabled=function(){return this.filtersModel()&&this.filtersModel().isAnythingSelected()},o.prototype.isFilterSelected=function(t){return this.filtersModel().isFilterSelected(t)},o.prototype.isSectionOpen=function(t){return!!this._filterSectionOpenStates[t]},o.prototype.isSelectedLanguagesOpen=function(){return this.filtersModel()&&this.filtersModel().getSelectedLanguages().length>0},o.prototype.isShowPaidFontsSelected=function(){return this.filtersModel()&&this.filtersModel().getShowPaidFonts()},o.prototype.isLanguageSelected=function(t){return this.filtersModel().isLanguageSelected(t)},o.prototype.isLanguagesSectionVisible=function(){return this.filtersModel()&&"default"==this.filtersModel().getBrowseMode()},o.prototype.isLibrarySectionVisible=function(){return this.filtersModel()&&this.filtersModel().getShowLibraryOption()},o.prototype.isGrouped=function(t){return"group"==t.type},o.prototype.isTagSelected=function(t){return this.filtersModel().isTagSelected(t)},o.prototype.isTagsSectionVisible=function(){return this.filtersModel()&&this.filtersModel().isTagsModuleVisible()},o.prototype.shouldDisplayShowLess=function(){return!this._displayShowMore},o.prototype.shouldDisplayShowMore=function(){return this._displayShowMore&&this.getDisplayMoreCount()>0},o.prototype.shouldDisplayStylesSlider=function(t){return"properties"===t.name},o.prototype.shouldShowDisplayFont=function(t){return Boolean(t.font)&&this.filtersModel()&&"ru_RU"!==this.filtersModel().getLocale()},o.prototype.toggleShowMore=function(){6===this._displayTagsCount?(this._displayTagsCount=this.getTags().length,this._displayShowMore=!1):(this._displayTagsCount=6,this._displayShowMore=!0)},t.exports=o},1291:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{exampleText:"=",textSampleData:"&",fonts:"="},controller:n(1292),controllerAs:"fontVariationListCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/adobe_fonts_font_variation_list.html"}}},1292:function(t,e){function n(t,e,n){var i=this;i.viewType="list",i.FontLoaderService=n,i.currentPage=1,i.fontsPerPage=12,i.$scope=t,i.$timeout=e,t.$watch((function(){return i.fonts}),(function(t,e){t!==e&&(i.totalPages=Math.ceil(i.fonts.length/i.fontsPerPage),i.handlePageNumberChange())}))}n.$inject=["$scope","$timeout","FontLoaderService"],n.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"font-variations-grid-view":"font-variation-list"},n.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},n.prototype.familyLink=function(t){return"/fonts/"+t.family.slug},n.prototype.handlePageNumberChange=function(){var t=this,e=t.currentPage*t.fontsPerPage-t.fontsPerPage,n=t.currentPage*t.fontsPerPage;t.visibleFonts=t.fonts.slice(e,n),t.$timeout((function(){t.$scope.$apply()}),1)},t.exports=n},1293:function(t,e,n){t.exports=function(){return{restrict:"E",scope:{},bindToController:{locales:"&"},link:function(t,e,n,i){var o=i[0],r=i[1];o.ngModel=r},controller:n(1294),controllerAs:"adobeFontsLocaleSwitcherCtrl",require:["adobeFontsLocaleSwitcher","?ngModel"],templateUrl:"/angular_templates/directives/adobe_fonts_locale_switcher.html"}}},1294:function(t,e){function n(t,e){this.$scope=t,this.$window=e,this.isOpen=!1}n.$inject=["$scope","$window"],n.prototype.getLabel=function(){for(var t=this.locales(),e=0;e<t.length;e++)if(t[e].value===this.getValue())return t[e].label},n.prototype.getValue=function(){if(this.ngModel)return this.ngModel.$viewValue},n.prototype.handleToggle=function(t){t.stopPropagation();var e=this;this.isOpen||this.$window.addEventListener("click",(function(){e.$scope.$apply((function(){e.isOpen=!1}))}),{once:!0}),this.isOpen=!this.isOpen},n.prototype.isSelected=function(t){return t.value===this.getValue()},n.prototype.updateValue=function(t){this.ngModel&&this.ngModel.$setViewValue(t.value)},t.exports=n},1295:function(t,e,n){i.$inject=["$document"];function i(t){return{scope:{},bindToController:{sampleTextData:"=",warnNonDefaultCharacterSets:"=?"},controller:n(1296),controllerAs:"pangramMenu",require:["adobeFontsPangramMenu","ngModel"],link:function(n,i,o,r){var a=r[0];a.ngModel=r[1],a.userEnteredTextArea=i[0].querySelector(".adobe-fonts-pangram-menu__text"),a.ngModel.$render=function(){a.userEnteredText=a.ngModel.$viewValue},function(n,i,o){t.on("click",(function(t){e(i[0],t.target)||n.$apply((function(){o._closeMenu()}))})),t.on("keyup",(function(t){27==t.keyCode&&n.$apply((function(){o._closeMenu()}))}))}(n,i,a)},replace:!0,restrict:"E",templateUrl:"/angular_templates/directives/adobe_fonts_pangram_menu.html",transclude:!0};function e(t,n){return n==t||!!n.parentNode&&e(t,n.parentNode)}}t.exports=i},1296:function(t,e,n){o.$inject=["DataService","NewrelicService","NotificationService"];var i=n(171);function o(t,e,n){var o=this;o.DataService=t,o.NewrelicService=e,o.NotificationService=n,o.isOpen=!1,o.i18n={};var r=i.parseUnicodeRange(o.sampleTextData.textSamples.en.unicode_range).toRegExp();o.allowedCharset=new RegExp(r+"+"),o.DataService.get("/neue/i18n").then((function(t){o.i18n=t}))}o.prototype.handleEnterYourOwnClick=function(){this.userEnteredTextArea.focus(),this.userEnteredTextArea.select(),this._closeMenu()},o.prototype.handleItemClick=function(t){this.ngModel.$setViewValue(t),this.userEnteredText=t,this._closeMenu(),this.NewrelicService.addPageActionWithDelay("typekit.ui.sampleChanged",{text:t},3e3)},o.prototype.handleSampleChanged=function(){this.warnNonDefaultCharacterSets&&this.userEnteredText.replace(this.allowedCharset,"")&&this.NotificationService.error(this.i18n["frontend.browse_sample_text.characters_not_allowed"],{timeout:1e4}),this.ngModel.$setViewValue(this.userEnteredText),this.NewrelicService.addPageActionWithDelay("typekit.ui.sampleChanged",{text:this.ngModel.$viewValue},3e3)},o.prototype.handleMenuButton=function(){this.isOpen=!this.isOpen},o.prototype.isItemSelected=function(t){return t==this.ngModel.$viewValue},o.prototype._closeMenu=function(){this.isOpen=!1},t.exports=o},1297:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{newrelicActionSource:"@",displayView:"@"},controller:n(1298),controllerAs:"fontpackCardListController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_fontpack_card_list.html"}}},1298:function(t,e){n.$inject=["$q","$element","$http","DataService","FontpackService","ScrollService","UrlService"];function n(t,e,n,i,o,r,a){var s=this;s.$q=t,s.$element=e,s.$http=n,s.DataService=i,s.FontpackService=o,s.ScrollService=r,s.UrlService=a,s._preloadData()}n.prototype.fontpackItemClass=function(t){return"collection-item"+("draft"===t.status?" collection-item-draft":"")},n.prototype._preloadData=function(){var t=this;return t.$q.all([t.DataService.get("/neue/fontpack_items").then((function(e){t.fontpacks=e.fontpacks,t.FontpackService.addFontpacks(t.fontpacks),t.currentPage=e.currentPage,t.totalPages=e.totalPages}))])},n.prototype.handlePageNumberChange=function(){var t=this;t.$http.get("/collections.json",{params:{page:t.currentPage}}).then((function(e){t.fontpacks=e.data.fontpacks,t.FontpackService.clearFontpacks(),t.FontpackService.addFontpacks(t.fontpacks)})),t.UrlService.updateSearchParams({page:t.currentPage}),t.ScrollService.scrollUpTo(t.$element[0],500)},n.prototype.isEmpty=function(){return!this.fontpacks||this.fontpacks.length<1},t.exports=n},1299:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{newrelicActionSource:"=",fontpackItem:"="},controller:n(1300),controllerAs:"fontpackCardCtrl",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_fontpack_card.html"}}},1300:function(t,e){function n(t,e){var n=this;n.$q=t,n.DataService=e,n._preloadData()}n.$inject=["$q","DataService"],n.prototype.fontpackCardImageStyle=function(t){return{"background-image":'url("'+(t.thumbnail_url||"/thumbnails/original/missing.png")+'")'}},n.prototype._preloadData=function(){var t=this;return t.$q.all([t.DataService.get("/neue/fontpack_items").then((function(e){t.fontpacks=e.fontpacks})),t.DataService.get("/fontpack_items/i18n").then((function(e){t.i18n=e}))])},t.exports=n},1301:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{imageItems:"=",displayView:"@"},controller:n(1302),controllerAs:"fontImageCardListController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_family_image_card_list.html"}}},1302:function(t,e){function n(){}n.prototype._familyImageClass=function(){return 1===this.imageItems.length?"adobe-fonts-family-image-card-box-single-image":2===this.imageItems.length?"adobe-fonts-family-image-card-box-double-image":"adobe-fonts-family-image-card-box-multiple-image"},n.prototype.familyImageContainerClass=function(){return 1===this.imageItems.length?"adobe-font-family-image-card-list-layout":""},n.prototype.cardListMargin=function(){return"family-carousel"===this.displayView?"adobe-fonts-family-image-card-family-list-margin":"adobe-fonts-family-image-card-list-margin"},n.prototype.layoutClass=function(){return"family-carousel"===this.displayView?this._familyImageClass():"adobe-fonts-family-image-card-view"},t.exports=n},1303:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{imageItem:"=",displayView:"@",itemSize:"@"},controller:n(1304),controllerAs:"fontImageCardCtrl",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_family_image_card.html"}}},1304:function(t,e){function n(){}n.prototype.familyImageClass=function(){return"family-carousel"===this.displayView&&this.itemSize<=2?"adobe-fonts-family-image-card--image-family-view":"adobe-fonts-family-image-card--image"},n.prototype.familyImageContainerClass=function(){if("family-carousel"===this.displayView)return this.itemSize>2?"adobe-fonts-family-image-card--container-list":"adobe-fonts-family-image-card--container-list-fewer-images"},t.exports=n},1305:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/font_display_options.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1306),controllerAs:"fontDisplayOptionsCtrl"}}},1306:function(t,e){function n(){this.tkffData=this.tkWebProjectFamilyCardModel.getTkffData(),this.fontDisplayOptions=["auto","block","swap","fallback","optional"],-1===this.fontDisplayOptions.indexOf(this.tkffData.font_display)&&(this.tkffData.font_display="auto"),this.selectedFontDisplay=this.tkffData.font_display}n.prototype.handleFontDisplayClick=function(t){this.tkWebProjectCardModel.setIsModified(!0),this.selectedFontDisplay=t,this.tkffData.font_display=t},n.prototype.isButtonChecked=function(t){return this.selectedFontDisplay===t},t.exports=n},1307:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{families:"=",i18n:"&",textSampleData:"&",isActiveFontsView:"&",loadMoreFamilies:"&"},controller:n(1308),controllerAs:"fontFamilyAccordionCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_family_accordion.html"}}},1308:function(t,e,n){o.$inject=["$scope","AuthenticationService","I18nService","FontCountService","NewrelicService","NotificationService","SyncService"];var i=n(1);function o(t,e,n,i,o,r,a){var s=this;s.$scope=t,s.AuthenticationService=e,s.I18nService=n,s.FontCountService=i,s.NewrelicService=o,s.NotificationService=r,s.SyncService=a,s._init(),s.$scope.$watch((function(){return s.families}),(function(){s._init()}))}o.prototype.loadMoreFamilies=function(){this.loadMoreFamilies()},o.prototype.handleFontVariationSyncButtonClick=function(t){var e=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:t.id}).then((function(){e.isActiveFontsView()?e._removeSyncedVariation(t):e._addSyncedVariation(t)}))},o.prototype.handleFamilySyncButtonClick=function(t){var e=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:t.slug}).then((function(){e.isActiveFontsView()?e._removeSyncedFamily(t):e._addSyncedFamily(t)}))},o.prototype.familyLink=function(t){return"/fonts/"+t.slug},o.prototype.isSelectedVariation=function(t){return this.selectedFont&&this.selectedFont.id===t.id},o.prototype.isSelectedFamily=function(t){return this.selectedFamily&&this.selectedFamily.slug===t.slug},o.prototype.isCollapsed=function(t){return!!t.isCollapsed},o.prototype.toggleAccordion=function(t){t.isCollapsed=!t.isCollapsed},o.prototype.handleFamilyRowClick=function(t){this.selectedFont=t.fonts[0],this.selectedFamily=t},o.prototype.handleFontVariationRowClick=function(t,e){this.selectedFont=t,this.selectedFamily=e},o.prototype.handleNextButtonClick=function(){var t=this._selectedFontFamilyIndex(),e=this._selectedFontIndex(),n=this._selectedFontFamily();this._memoizeIndices(e,t),++e<n.fonts.length?(this.selectedFont=n.fonts[e],this._memoizeIndices(e,t)):++t<this.families.length&&(this.selectedFamily=this.families[t],this.selectedFont=this.selectedFamily.fonts[0],this._memoizeIndices(0,t))},o.prototype.handlePreviousButtonClick=function(){var t=this._selectedFontFamilyIndex(),e=this._selectedFontIndex();if(this._memoizeIndices(e,t),--e>=0)this.selectedFont=this._selectedFontFamily().fonts[e],this._memoizeIndices(e,t);else if(--t>=0){this.selectedFamily=this.families[t];var n=this.selectedFamily.fonts.length-1;this.selectedFont=this.selectedFamily.fonts[n],this._memoizeIndices(n,t)}},o.prototype.isExpired=function(t){var e=t.font;if(e&&e.sync)return!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc")},o.prototype.reactivate=function(t){var e=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:t.id}).then((function(){e._reactivateVariation(t)}))},o.prototype.getActionName=function(){return this.isActiveFontsView()?this.I18nService.getMessage(this.i18n(),"my_fonts.accordion_heading.deactivate"):this.I18nService.getMessage(this.i18n(),"my_fonts.accordion_heading.activate")},o.prototype.isMouseOverReinstallIcon=function(t){return t.isMouseOverReinstallIcon},o.prototype.handleReinstallIconMouseOver=function(t){t.isMouseOverReinstallIcon=!0},o.prototype.handleReinstallIconMouseLeave=function(t){t.isMouseOverReinstallIcon=!1},o.prototype._reactivateVariation=function(t){var e,n=this;n.NewrelicService.addPageAction("typekit.my-fonts-page.click.reinstall-button"),n.SyncService.addSyncedVariations([t.id]).then((function(o){if("data"in o&&o.data.added_font_ids.indexOf(t.id)>-1){var r=i.findWhere(n.families,{slug:t.family.slug});i.findWhere(r.fonts,{id:t.id}).font.sync.install_state="os"}else e=!0}),(function(){e=!0})),e&&n.NotificationService.error(n.I18nService.getMessage(n.i18n(),"neue.browse.family_card.error_occurred_activating_fonts"))},o.prototype._removeSyncedFamily=function(t){var e=this,n=t.fonts;e.NewrelicService.addPageAction("typekit.click.unsync-all-button",{family:t.name}),e.SyncService.removeSyncedVariations(i.pluck(n,"id")).then((function(o){var r,a=[];n.forEach((function(t){"data"in o&&o.data.removed_font_ids.indexOf(t.id)>-1?a.push(t.id):r=!0})),e.FontCountService.updateActivatedFontsCount(-a.length),r?(e.NotificationService.error(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.error_occurred_deactivating_some_fonts")),t.fonts=i.filter(n,(function(t){return!i.contains(a,t.id)}))):(a.length>1?e.NotificationService.success(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.fonts_deactivated_action.other",{count:a.length})):e.NotificationService.success(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.fonts_deactivated_action.one")),e._removeFamily(t),e.FontCountService.updateFamiliesCount(-1)),e.isSelectedFamily(t)&&e._removeSelections()}),(function(){e.NotificationService.error(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.error_occurred_deactivating_fonts"))}))},o.prototype._addSyncedFamily=function(t){var e=this,n=t.fonts;e.NewrelicService.addPageAction("typekit.click.sync-all-button",{family:t.name}),e.SyncService.addSyncedVariations(i.pluck(n,"id")).then((function(o){var r,a=[];n.forEach((function(t){"data"in o&&o.data.added_font_ids.indexOf(t.id)>-1?a.push(t.id):r=!0})),e.FontCountService.updatePreviouslyActivatedFontsCount(-a.length),r?(e.NotificationService.error(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.error_occurred_activating_some_fonts")),t.fonts=i.filter(n,(function(t){return!i.contains(a,t.id)}))):(a.length>1?e.NotificationService.success(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.fonts_activated_action.other",{count:a.length})):e.NotificationService.success(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.fonts_activated_action.one")),e._removeFamily(t),e.FontCountService.updateFamiliesCount(-1)),e.isSelectedFamily(t)&&e._removeSelections()}),(function(){e.NotificationService.error(e.I18nService.getMessage(e.i18n(),"neue.browse.family_card.error_occurred_activating_fonts"))}))},o.prototype._selectedFontFamilyIndex=function(){var t=this;return t.selectedFont.familyIndex||i.findIndex(t.families,{slug:t.selectedFont.family.slug})},o.prototype._selectedFontFamily=function(){return this.families[this._selectedFontFamilyIndex()]},o.prototype._selectedFontIndex=function(){var t=this;return t.selectedFont.variationIndex||i.findIndex(t._selectedFontFamily().fonts,{id:t.selectedFont.id})},o.prototype._memoizeIndices=function(t,e){this.selectedFont.familyIndex=e,this.selectedFont.variationIndex=t},o.prototype._removeSyncedVariation=function(t){var e=this;e.NewrelicService.addPageAction("typekit.click.unsync-button"),e.SyncService.removeSyncedVariations([t.id]).then((function(){e.FontCountService.updateActivatedFontsCount(-1),e._removeVariationFromFontFamilyList(t)}))},o.prototype._addSyncedVariation=function(t){var e=this;e.NewrelicService.addPageAction("typekit.click.sync-button"),e.SyncService.addSyncedVariations([t.id]).then((function(){e.FontCountService.updatePreviouslyActivatedFontsCount(-1),e._removeVariationFromFontFamilyList(t)}))},o.prototype._removeVariationFromFontFamilyList=function(t){var e=this,n=i.findIndex(e.families,{slug:t.family.slug}),o=e.families[n];o.fonts=i.without(o.fonts,t),0===o.fonts.length&&(e._removeFamily(o),e.FontCountService.updateFamiliesCount(-1)),e.isSelectedVariation(t)&&e._removeSelections()},o.prototype._removeSelections=function(){this.selectedFont=null,this.selectedFamily=null},o.prototype._removeFamily=function(t){this.families=i.without(this.families,t),this.isFamilyRemovedFromList=!0},o.prototype._init=function(){if(this.isFamilyRemovedFromList)this.isFamilyRemovedFromList=!1;else{this.selectedFamily=this.families[0];var t=this.selectedFamily.fonts[0];t.isFirst=!0,this.selectedFont=t;var e=this.families[this.families.length-1];e.fonts[e.fonts.length-1].isLast=!0}},t.exports=o},1309:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{textSamples:"&",onNext:"&",onPrevious:"&",font:"="},controller:n(1310),controllerAs:"fontPreviewCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_preview.html"}}},1310:function(t,e){function n(){this.exampleText={size:36}}n.prototype.getExampleTextStyle=function(){return{fontSize:this.exampleText.size+"px"}},n.prototype.getExampleText=function(){var t=this.textSamples()[this.font.default_language];return this.exampleText.value=t.kana_only?t.list_kana:t.list,this.exampleText},n.prototype.getFontDisplayData=function(){var t=this.textSamples(),e=t[this.font.default_language].unicode_range,n=t[this.font.default_language].feature_settings,i=t[this.font.default_language].kana_only||!1;return{cssName:this.font.family.web_id+"-"+this.font.font.web.fvd,fvd:this.font.font.web.fvd,isDynamic:!0,opaqueId:this.font.family.web_id,unicodeRange:e,featureSettings:n,kanaOnly:i}},n.prototype.getTextDirectionClass=function(){return this.font.rtl?"sample-right":""},n.prototype.handlePreviousButtonClick=function(){this.onPrevious()},n.prototype.handleNextButtonClick=function(){this.onNext()},t.exports=n},1311:function(t,e){t.exports=function(){return{scope:{showUpgradeToggle:"&",upgradeSelected:"&?",changeRequiredActionToggle:"&onChangeRequiredActionToggle"},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/required_action_toggle.html",link:function(t){var e=t.upgradeSelected();t.toggleUpgradeAction=function(){var n;n={upgrade:!!(e=!e)},t.changeRequiredActionToggle({filteredActions:n})},t.isUpgradeSelected=function(){return t.showUpgradeToggle()&&e}}}}},1312:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{cardType:"@",showCarousel:"@",exampleText:"&",family:"=",textSamplePrimers:"=",textSamples:"&",noBackground:"&",isPreviouslyActiveView:"&",recommendationIndex:"&",selectedTag:"&",viewType:"&"},controller:n(1313),controllerAs:"familyCard",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/family_card.html"}}},1313:function(t,e,n){o.$inject=["$timeout","AddFontsToWebProjectService","AuthenticationService","DataService","DialogService","FavoritesService","FirstMileService","FontCountService","FontLoaderService","NewrelicService","NotificationService","FamiliesService","RedirectContextService","SyncService"];var i=n(1);function o(t,e,n,i,o,r,a,s,c,l,u,d,f,p){var h=this;h.$timeout=t,h.AddFontsToWebProjectService=e,h.AuthenticationService=n,h.DataService=i,h.DialogService=o,h.FamiliesService=d,h.FavoritesService=r,h.FontCountService=s,h.FontLoaderService=c,h.FirstMileService=a,h.NewrelicService=l,h.NotificationService=u,h.RedirectContextService=f,h.SyncService=p,h.DataService.get("/neue/i18n").then((function(t){h.i18n=t})),h._handleContext()}o.prototype.isAvailableForWeb=function(){return i.some(this.family.fonts,(function(t){var e=((t.font||{}).web||{}).required_action;return!!e&&i.isEmpty(e)}))},o.prototype.getCardType=function(){return this.cardType||"responsive"},o.prototype.getDisplayFont=function(){var t=this.textSamples(),e=t[this.family.display_font.default_language].unicode_range,n=t[this.family.display_font.default_language].feature_settings;return{cssName:this.family.display_font.family.web_id+"-"+this.family.display_font.font.web.fvd,fvd:this.family.display_font.font.web.fvd,isDynamic:!0,opaqueId:this.family.display_font.family.web_id,unicodeRange:e,featureSettings:n}},o.prototype.getTextDirectionClass=function(){return this.family.display_font.rtl?"sample-right":""},o.prototype.getCarouselListClass=function(){return this.family.specimen_images.length>2?"adobe-fonts-family-card__carousel-list":""},o.prototype.getSlidesForGrid=function(){var t=[];return this.family.specimen_images&&this.family.specimen_images.length>0&&(t=this.family.specimen_images.slice(0)).push("TextSlide"),t},o.prototype.isTextSlide=function(t){return"TextSlide"===t},o.prototype.getSlideLengthForGrid=function(){return this.family.specimen_images&&this.family.specimen_images.length>0?this.family.specimen_images.length+1:0},o.prototype.getExampleText=function(){var t="list";null!=this.family.filters&&this.family.filters.indexOf("ka:ko")>=0&&(t+="_kana");var e=this.exampleText(),n=e&&e.value?e.value:this.textSamples()[this.family.display_font.default_language][t];return"en"!=this.family.display_font.default_language&&this.FontLoaderService.updateFonts(n),n},o.prototype.getCountMessages=function(){return this.family.card_state.count_messages.join(" \u2022 ")},o.prototype.getMessage=function(t,e){var n=1===e?"one":"other";return this.i18n["neue.browse.family_card"][t][n].replace("%{count}",e)},o.prototype.isCarouselVisible=function(){return this.family.specimen_images&&this.family.specimen_images.length>0&&this.showCarousel},o.prototype.getCardInfoClass=function(){if(this.showCarousel&&(!this.family.specimen_images||0===this.family.specimen_images.length))return"adobe-fonts-family-card__info_with_image"},o.prototype.getCardContainerClass=function(){return this.isCarouselVisible()?"adobe-fonts-family-card--grid-view-with-carousel":"adobe-fonts-family-card--grid-view"},o.prototype.handleFamilyCardClick=function(){this.NewrelicService.addPageAction("typekit.family_card.click",{selectedTag:this.selectedTag(),slug:this.family.slug})},o.prototype.hasUnsyncedFontpacks=function(){return!!this.family.unsynced_fontpacks&&this.family.unsynced_fontpacks.length>0},o.prototype.isToggleOn=function(){return this.family.card_state.toggle_control&&!0===this.family.card_state.toggle_control.value},o.prototype.showToggle=function(){return this.family.card_state.toggle_control&&null!==this.family.card_state.toggle_control.value},o.prototype.toggleMessage=function(){if(this.family.card_state.toggle_control)return this.family.card_state.toggle_control.message},o.prototype.getExampleTextStyle=function(){var t=this.exampleText();return{fontSize:(t&&t.size?t.size:36)+"px"}},o.prototype.getFontCount=function(){return this.family.total_font_count},o.prototype.favoriteToggleClass=function(){return this.family.favorite?"favorite-toggle-icon on":"favorite-toggle-icon"},o.prototype.favoriteToggle=function(t){t.preventDefault();var e=this;this.family.favorite?e.FavoritesService.delete(this.family.slug).then((function(){e.family.favorite=!1}),(function(t){e.NotificationService.error(t.data.error)})):e.FavoritesService.post(this.family.slug).then((function(){e.family.favorite=!0}),(function(t){e.NotificationService.error(t.data.error)}))},o.prototype.handleCodeButtonClick=function(t){t&&t.preventDefault(),this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.family.slug)},o.prototype.toggleFamilySync=function(t){t&&t.preventDefault(),this.showToggle()&&(this.isToggleOn()?this.unsyncFamily():this.syncFamily())},o.prototype.syncFamily=function(){var t=this;t.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:t.family.slug}).then((function(){t.NewrelicService.addPageAction("typekit.click.sync-family-button",{family:t.family.name});var e=i.pluck(t._deactivatedAvailableDesktopFonts(),"id");t.SyncService.addSyncedVariations(e).then((function(n){i.difference(e,n.data.added_font_ids).length>0?t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_some_fonts):t._handleFamilySyncSuccess(n)}),(function(){t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))}))},o.prototype.unsyncFamily=function(){var t=this;t.NewrelicService.addPageAction("typekit.click.unsync-family-button",{family:t.family.name});var e=i.pluck(t._activatedDesktopFonts(),"id");t.SyncService.removeSyncedVariations(e).then((function(n){i.difference(e,n.data.removed_font_ids).length>0?t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_deactivating_some_fonts):(t._markFontsAsDeactivated(),t._updateToggleControl(!1,t.i18n["neue.browse.family_card"].activate_fonts),t.FontCountService.updateActivatedFontsCount(-n.data.removed_font_ids.length),t.NotificationService.success(t.getMessage("fonts_deactivated_action",n.data.removed_font_ids.length)))}),(function(){t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_deactivating_fonts)}))},o.prototype._activatedDesktopFonts=function(){return i.filter(this.family.fonts,(function(t){var e=(t.font||{}).sync||{};return!!e&&(e.is_selected||!!e.install_state&&i.contains(e.install_state.split(","),"cc"))}))},o.prototype._deactivatedAvailableDesktopFonts=function(){return i.filter(this.family.fonts,(function(t){var e=(t.font||{}).sync||{};return!!e.required_action&&i.isEmpty(e.required_action)&&!e.is_selected}))},o.prototype._markFontsAsActivated=function(){i.each(this._deactivatedAvailableDesktopFonts(),(function(t){t.font.sync.is_selected=!0}))},o.prototype._markFontsAsDeactivated=function(){i.each(this._activatedDesktopFonts(),(function(t){t.font.sync.is_selected=!1,t.font.sync.install_state=""}))},o.prototype._handleContext=function(){return this.RedirectContextService.handleContext()},o.prototype._handleFamilySyncSuccess=function(t){var e=this;e._markFontsAsActivated(),e._updateToggleControl(!0,e.getMessage("fonts_active_count",t.data.added_font_ids.length)),e.FontCountService.updateActivatedFontsCount(t.data.added_font_ids.length),e.FirstMileService.shouldShowFontActivationDialog().then((function(n){if(n)return e.FirstMileService.showFontActivationDialog();e.NotificationService.success(e.getMessage("fonts_activated_action",t.data.added_font_ids.length))}))},o.prototype._updateToggleControl=function(t,e){this.family.card_state.toggle_control={value:t,message:e}},t.exports=o},1314:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{filtersModel:"&",onUserPrefsChange:"&",showNoAccessOnEmptyState:"&",textSampleData:"&",noBackground:"&",showCarousel:"@",disableSort:"&",isPreviouslyActiveView:"&",preloadedSortModes:"&"},controller:n(1315),controllerAs:"filteredFamilyList",require:["filteredFamilyList","ngModel"],link:function(t,e,n,i){var o=i[0],r=i[1];o.ngModel=r},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/filtered_family_list.html"}}},1315:function(t,e,n){a.$inject=["$scope","$element","DataService","ScrollService"];var i=n(1),o=n(9),r={grid:"filtered-family-list--grid-view",list:"filtered-family-list--wide-view"};function a(t,e,n,r){var a=this;a.$scope=t,a.$element=e,a.DataService=n,a.ScrollService=r,a.handleDataChange=i.debounce(o.bind(this,this._handleDataChange),0),a.selectedSort=this.filtersModel().getSortOrder(),a._loadSortModes(),a.DataService.get("/families/i18n").then((function(t){a.i18n=t})),a._initWebComponentPagination()}a.prototype.familyCount=function(){if(this.getViewValue().familyCountMessage){var t=this.getViewValue().familyCountMessage.message,e=this.getViewValue().familyCountMessage;return this.i18n["neue.browse.family_counts"][t].replace("%{total_families}",e.total_families).replace("%{more_families_in_cc}",e.more_families_in_cc)}},a.prototype.resetAllFilters=function(){this.filtersModel().clearAll(),this.handleDataChange()},a.prototype.getContainerClasses=function(){var t=[this.getViewTypeClass()];return this.isJapaneseOnlyFamily()&&t.push("filtered-family-list--japanese-only"),t},a.prototype.getSelectedTag=function(){return this.filtersModel().isLoading()?null:this.filtersModel().getSelectedTag()},a.prototype.getViewTypeClass=function(){return r[this.getViewValue().selectedViewType]},a.prototype.getViewValue=function(){return(this.ngModel||{}).$viewValue||{}},a.prototype.handleFontSizeChange=function(){this._handleUserPrefsChange()},a.prototype.handlePageNumberChange=function(){this.handleDataChange(),this.ScrollService.scrollUpTo(this.$element[0],500)},a.prototype.handlePangramMenuChange=function(){this._handleUserPrefsChange()},a.prototype.handleSortChange=function(){this.filtersModel().setSortOrder(this.selectedSort),this.handleDataChange()},a.prototype.handleViewTypeChange=function(){this._handleUserPrefsChange()},a.prototype.isEmpty=function(){return!this.getViewValue().families||this.getViewValue().families.length<1},a.prototype.isFavoritesEmptyStateVisible=function(){return this.isEmpty()&&!this.showNoAccessOnEmptyState()&&"favorites"==this.getViewValue().collection},a.prototype.isJapaneseOnlyFamily=function(){var t=i.uniq(i.map(this.getViewValue().families,(function(t){return t.display_font.default_language})));return 1==t.length&&"ja"==t[0]},a.prototype.isNextPageButtonVisible=function(){return this.getViewValue().currentPage<this.getViewValue().totalPages},a.prototype.isNoAccessEmptyStateVisible=function(){return this.isEmpty()&&this.showNoAccessOnEmptyState()},a.prototype.isPreviousPageButtonVisible=function(){return this.getViewValue().currentPage>1},a.prototype.isStandardEmptyStateVisible=function(){return this.isEmpty()&&!this.showNoAccessOnEmptyState()&&"favorites"!=this.getViewValue().collection},a.prototype._handleDataChange=function(){this.ngModel.$setViewValue(o.copy(this.getViewValue()))},a.prototype._handleUserPrefsChange=function(){this.onUserPrefsChange()&&this.$scope.$eval(this.onUserPrefsChange())},a.prototype._initWebComponentPagination=function(){var t=this;t.$element.on("pagination-change",(function(e){t.getViewValue().currentPage=e.detail.page,t.handleDataChange(),t.ScrollService.scrollUpTo(t.$element[0],500)}))},a.prototype._loadSortModes=function(){var t=this;t.sortModes=t.preloadedSortModes(),t.sortModes||t.DataService.get("filtered-family-list-sort-modes").then((function(e){t.sortModes=e}))},t.exports=a},1316:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{exampleText:"&",isEnterpriseUser:"&",linkToFamily:"&?",onActivate:"&",onCodeButtonClick:"&",onDeactivate:"&",onDetailsClick:"&?",onSimilarFontsAndPairingsClick:"&",isSimilarCard:"@",textSamplePrimers:"&",textSamples:"&",userLoggedIn:"&",showRequiredAction:"=",variation:"&",originalVariation:"&",selectedFeedback:"="},controller:n(1317),controllerAs:"fontVariation",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_variation_card.html"}}},1317:function(t,e,n){r.$inject=["$q","$scope","$window","AddFontsToWebProjectService","AnalyticsService","AuthenticationService","DataService","DialogService","FeedbackService","FirstMileService","NewrelicService","NotificationService","SyncService","UserService"];var i=n(1),o="similarity";function r(t,e,n,i,o,r,a,s,c,l,u,d,f,p){var h=this;h.$q=t,h.$scope=e,h.$window=n,h.AddFontsToWebProjectService=i,h.AnalyticsService=o,h.AuthenticationService=r,h.DataService=a,h.DialogService=s,h.FeedbackService=c,h.FirstMileService=l,h.NewrelicService=u,h.NotificationService=d,h.SyncService=f,h.UserService=p,h.DataService.get("/neue/i18n").then((function(t){h.i18n=t}))}r.prototype.getExampleText=function(){var t=this.exampleText();if(t&&t.value)return t.value;var e=this.variation(),n=this.textSamples()[e.default_language];return n.kana_only?n.list_kana:n.list},r.prototype.getExampleTextStyle=function(){var t=this.exampleText();return{fontSize:(t&&t.size&&!this.isSimilarCard?t.size:36)+"px"}},r.prototype.getFontDisplayData=function(){var t=this.variation(),e=this.textSamples(),n=e[t.default_language].unicode_range,i=e[t.default_language].feature_settings,o=e[t.default_language].kana_only;return o||(o=!1),{cssName:t.family.web_id+"-"+t.font.web.fvd,fvd:t.font.web.fvd,isDynamic:!0,opaqueId:t.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:o}},r.prototype.getTextDirectionClass=function(){return this.variation().rtl?"sample-right":""},r.prototype.handleCodeButtonClick=function(){this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.variation().family.slug,this.variation().slug)},r.prototype.getDefaultExampleText=function(){var t=this.textSamples()[this.variation().default_language||"en"];return t.kana_only?t.list_kana:t.list},r.prototype.shouldShowFamilyLink=function(){return void 0!==this.linkToFamily},r.prototype.handleSyncButtonClick=function(){this._handleFontSync()},r.prototype.isAvailableForSync=function(){return this.userLoggedIn()?"sync"in this.variation().font&&0===this.variation().font.sync.required_action.length:this.isUsableForSync()},r.prototype.isAvailableForWeb=function(){return this.userLoggedIn()?"web"in this.variation().font&&0===this.variation().font.web.required_action.length:this.isUsableForWeb()},r.prototype.cardActionClass=function(){return this.isAvailableForWeb()?"with-web-license":"without-web-license"},r.prototype.isPurchased=function(){return this.variation().marketplace&&this.variation().marketplace.is_purchased_by_user},r.prototype.isPurchasedAndSynced=function(){return this.isPurchased()&&this.isVariationSelectedForSync()},r.prototype.isSyncedViaSubscription=function(){return this.isVariationSelectedForSync()&&!this.isPurchased()},r.prototype.isUsableForWeb=function(){return"web"in this.variation().font&&(this.variation().font.web.library_availability.trial||this.variation().font.web.library_availability.full)},r.prototype.isUsableForSync=function(){return"sync"in this.variation().font&&(this.variation().font.sync.library_availability.trial||this.variation().font.sync.library_availability.full)},r.prototype.isVariationSelectedForSync=function(){var t=this.variation().font;return!(!t||!t.sync)&&(t.sync.is_selected||!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc"))},r.prototype.syncOnlyRequiresAction=function(t){var e=((this.variation().font||{}).sync||{}).required_action;return!!e&&i.contains(e,t)&&i.isEmpty(i.without(e,t))&&!this.isAvailableForWeb()},r.prototype.requiresPurchase=function(t){return t in this.variation().font&&this.variation().font[t].required_action.indexOf("purchase")>=0},r.prototype.requiresUpgrade=function(t){return t in this.variation().font&&this.variation().font[t].required_action.indexOf("upgrade")>=0},r.prototype.getFlaggedClass=function(){return this.hasNegativeFeedback()?"flagged":""},r.prototype.shouldShowWebProjectsButton=function(){return this.isAvailableForWeb()&&!this.isSimilarCard},r.prototype.shouldShowSyncButton=function(){return this.isAvailableForSync()&&!this.isVariationSelectedForSync()},r.prototype.shouldShowUnsyncButton=function(){return this.isSyncedViaSubscription()},r.prototype.shouldShowPurchaseButton=function(){return this.syncOnlyRequiresAction("purchase")||this.requiresPurchase("sync")&&"purchase"===this.showRequiredAction},r.prototype.shouldShowWebOnly=function(){return!this.shouldShowPurchaseButton()&&!this.shouldShowUpgradeButton()&&!this.isAvailableForSync()&&this.isAvailableForWeb()},r.prototype.shouldShowWebOnlyRequiresUpgrade=function(){return!this.shouldShowPurchaseButton()&&!this.shouldShowUpgradeButton()&&!this.isUsableForSync()&&!this.isAvailableForWeb()&&this.isUsableForWeb()},r.prototype.shouldShowAdminOnly=function(){return!this.isUsableForSync()&&!this.isUsableForWeb()},r.prototype.shouldShowNotAvailable=function(){return!this.shouldShowPurchaseButton()&&!this.isAvailableForWeb()&&!this.isAvailableForSync()&&!this.shouldShowUpgradeButton()},r.prototype.shouldShowUpgradeButton=function(){return!this.UserService.hasPaidCreativeCloud()&&(this.syncOnlyRequiresAction("upgrade")||this.requiresUpgrade("sync")&&"upgrade"===this.showRequiredAction)},r.prototype.shouldShowReinstallComponent=function(){var t=this.variation().font;return!(!t||!t.sync)&&(!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc"))},r.prototype.isMouseOverReinstallIcon=function(){return this.variation().isMouseOverReinstallIcon},r.prototype.handleReinstallIconMouseOver=function(){this.variation().isMouseOverReinstallIcon=!0},r.prototype.handleReinstallIconMouseLeave=function(){this.variation().isMouseOverReinstallIcon=!1},r.prototype.handleFontVariationCardMouseOver=function(){this.variation().isMouseOverFontVariationCard=!0},r.prototype.handleFontVariationCardMouseLeave=function(){this.variation().isMouseOverFontVariationCard=!1},r.prototype.shouldShowSimilarFontsAndPairingsLink=function(){return this.variation().isMouseOverFontVariationCard&&this._hasFontRecommendations()},r.prototype.shouldShowFlagResultIcon=function(){return(this.variation().isMouseOverFontVariationCard||"negative"===this.selectedFeedback)&&this.isSimilarCard&&this.userLoggedIn()},r.prototype.hasNegativeFeedback=function(){return this.isSimilarCard&&"negative"===this.selectedFeedback},r.prototype.handleFontVariationCardClick=function(){this._recordEvent("recommended_font_card_click","positive")},r.prototype._hasFontRecommendations=function(){return this.variation().has_similar_fonts_or_pairings&&"en"===this.variation().default_language},r.prototype._addSyncedVariation=function(){var t=this;t.variation().isSyncing=!0;var e=t.variation().font.sync.install_state;t.SyncService.addSyncedVariations([t.variation().id]).then((function(n){if(t.variation().isSyncing=!1,!t._isSyncSuccessResponse(n))return"data"in n?t.$q.reject(n.data):t.$q.reject();t._handleVariationSyncSuccess(e)})).catch((function(e){t.variation().isSyncing=!1,e&&e.message?t.NotificationService.error(e.message):t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))},r.prototype._handleFontSync=function(){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:this.variation().id}).then((function(){t.isVariationSelectedForSync()?(t.isSimilarCard&&t._recordEvent("deactivate-button-click","negative"),t._removeSyncedVariation()):(t.isSimilarCard&&t._recordEvent("activate-button-click","positive"),t._addSyncedVariation())}))},r.prototype._recordEvent=function(t,e){var n=this;if(n.isSimilarCard){n.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",{category:o,subcategory:t,feedback:e,variation_one:n.variation().name,variation_two:n.originalVariation().name});var i=n.variation().id+"-"+n.originalVariation().id;n.FeedbackService.post(o,t,i,e,null,n.variation().id,n.originalVariation().id)}},r.prototype.reinstall=function(){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:this.variation().id}).then((function(){t.NewrelicService.addPageAction("typekit.family-page.click.reinstall-button"),t._addSyncedVariation()}))},r.prototype._handleVariationSyncSuccess=function(t){var e=this;e.variation().font.sync.is_selected=!0,e.variation().font.sync.install_state="os","cc"!==t&&(e.onActivate()&&e.$scope.$eval(e.onActivate()),e.FirstMileService.shouldShowFontActivationDialog().then((function(t){if(t)return e.FirstMileService.showFontActivationDialog()})))},r.prototype._isSyncSuccessResponse=function(t){return"data"in t&&-1!==t.data.added_font_ids.indexOf(this.variation().id)},r.prototype._removeSyncedVariation=function(){var t=this;t.NewrelicService.addPageAction("typekit.click.unsync-button"),t.variation().isSyncing=!0,t.SyncService.removeSyncedVariations([t.variation().id]).then((function(){t.variation().isSyncing=!1,t.variation().font.sync.is_selected=!1,t.variation().font.sync.install_state="",t.onDeactivate()&&t.$scope.$eval(t.onDeactivate())}),(function(){t.variation().isSyncing=!1}))},t.exports=r},1318:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{exampleText:"&",onActivate:"&",onDeactivate:"&",isInDetailsSection:"&",textSamplePrimers:"&",textSamples:"&",userLoggedIn:"&",showRequiredAction:"=",familySlug:"&",variation:"&",pairVariation:"&",selectedFeedback:"=",onVariationHeaderClick:"&",onVariationBodyClick:"&"},controller:n(1319),controllerAs:"fontVariation",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_pairing_card.html"}}},1319:function(t,e,n){o.$inject=["$q","$scope","$window","AddFontsToWebProjectService","AnalyticsService","AuthenticationService","DataService","DialogService","FeedbackService","FirstMileService","NewrelicService","NotificationService","SyncService","UserService"];var i=n(1);function o(t,e,n,i,o,r,a,s,c,l,u,d,f,p){var h=this;h.$q=t,h.$scope=e,h.$window=n,h.AddFontsToWebProjectService=i,h.AnalyticsService=o,h.AuthenticationService=r,h.DataService=a,h.DialogService=s,h.FeedbackService=c,h.FirstMileService=l,h.NewrelicService=u,h.NotificationService=d,h.SyncService=f,h.UserService=p,h.DataService.get("/neue/i18n").then((function(t){h.i18n=t})),h.isMainVariationNameHighlighted=!1,h.isPairingVariationNameHighlighted=!1}o.prototype.areFeedbackIconsVisible=function(){return this.userLoggedIn()},o.prototype.variations=function(){return[this.variation(),this.pairVariation()]},o.prototype.isMainVariationInFamily=function(){return this.variation().family.slug===this.familySlug()},o.prototype.getExampleText=function(){var t=this.exampleText();if(t&&t.value)return t.value;var e=this.variation(),n=this.textSamples()[e.default_language];return n.kana_only?n.list_kana:n.list},o.prototype.getPairingHeadingText=function(){return"Fudge Brownies"},o.prototype.getPairingBodyText=function(){return"Pure indulgence \u2014 that\u2019s what we\u2019re talking about here. A perfect balance between fudgy and cakey so everyone gets what they want out of these brownies. We\u2019ll leave it to you to fight over who gets the crisp edges versus the ooey-gooey middles. Let\u2019s get baking!"},o.prototype.getExampleTextStyle=function(){var t=this.exampleText();return{fontSize:(t&&t.size?t.size:36)+"px"}},o.prototype.getPairingBodyTextStyle=function(){return{fontSize:"18px"}},o.prototype.getPairingHeadingTextStyle=function(){return{fontSize:"30px"}},o.prototype.getFontDisplayData=function(){var t=this.variation(),e=this.textSamples();return this.getDisplayData(t,e)},o.prototype.getPairingBodyFontDisplayData=function(){var t=this.pairVariation(),e=this.textSamples();return this.getDisplayData(t,e)},o.prototype.getDisplayData=function(t,e){var n=e[t.default_language].unicode_range,i=e[t.default_language].feature_settings,o=e[t.default_language].kana_only;return o||(o=!1),{cssName:t.family.web_id+"-"+t.font.web.fvd,fvd:t.font.web.fvd,isDynamic:!0,opaqueId:t.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:o}},o.prototype.getTextDirectionClass=function(){return this.variation().rtl?"sample-right":""},o.prototype.handleMainVariationNameMouseOver=function(){this.isMainVariationNameHighlighted=!0},o.prototype.handleMainVariationNameMouseOut=function(){this.isMainVariationNameHighlighted=!1},o.prototype.handlePairingVariationNameMouseOver=function(){this.isPairingVariationNameHighlighted=!0},o.prototype.handlePairingVariationNameMouseOut=function(){this.isPairingVariationNameHighlighted=!1},o.prototype.handleSyncButtonClick=function(){this._handleFontsSync()},o.prototype.isAvailableForSync=function(t){return this.userLoggedIn()?"sync"in t.font&&0===t.font.sync.required_action.length:this.isUsableForSync(t)},o.prototype.isAvailableForWeb=function(t){return this.userLoggedIn()?"web"in this.variation().font&&0===t.font.web.required_action.length:this.isUsableForWeb(t)},o.prototype.isPurchased=function(t){return t.marketplace&&t.marketplace.is_purchased_by_user},o.prototype.isPurchasedAndSynced=function(){var t=this;return i.every(t.variations(),(function(e){return t.isPurchased(e)&&t.isVariationSelectedForSync(e)}))},o.prototype.isSyncedViaSubscription=function(t){return this.isVariationSelectedForSync(t)&&!this.isPurchased(t)},o.prototype.isUsableForWeb=function(t){return"web"in t.font&&(t.font.web.library_availability.trial||t.font.web.library_availability.full)},o.prototype.isUsableForSync=function(t){return"sync"in t.font&&(t.font.sync.library_availability.trial||t.font.sync.library_availability.full)},o.prototype.isVariationSelectedForSync=function(t){var e=t.font;return!(!e||!e.sync)&&(e.sync.is_selected||!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc"))},o.prototype.syncOnlyRequiresAction=function(t,e){var n=((t.font||{}).sync||{}).required_action;return!!n&&i.contains(n,e)&&i.isEmpty(i.without(n,e))&&!this.isAvailableForWeb(t)},o.prototype.requiresUpgrade=function(t,e){return e in t.font&&t.font[e].required_action.indexOf("upgrade")>=0},o.prototype.getFlaggedClass=function(){return this.hasNegativeFeedback()?"flagged":""},o.prototype.shouldShowSyncButton=function(){var t=this,e=i.every(t.variations(),(function(e){return t.isAvailableForSync(e)})),n=i.some(t.variations(),(function(e){return!t.isVariationSelectedForSync(e)}));return e&&n},o.prototype.shouldShowUnsyncButton=function(){var t=this;return i.every(t.variations(),(function(e){return t.isSyncedViaSubscription(e)}))},o.prototype.shouldShowWebOnly=function(){var t=this;return i.some(t.variations(),(function(e){return!t.shouldShowUpgradeButton()&&!t.isAvailableForSync(e)&&t.isAvailableForWeb(e)}))},o.prototype.shouldShowWebOnlyRequiresUpgrade=function(){var t=this;return i.some(t.variations(),(function(e){return!t.shouldShowUpgradeButton(e)&&!t.isUsableForSync(e)&&!t.isAvailableForWeb(e)&&t.isUsableForWeb(e)}))},o.prototype.shouldShowAdminOnly=function(){var t=this;return i.some(t.variations(),(function(e){return!t.isUsableForSync(e)&&!t.isUsableForWeb(e)}))},o.prototype.shouldShowNotAvailable=function(){var t=this;return i.some(t.variations(),(function(e){return!t.isAvailableForWeb(e)&&!t.isAvailableForSync(e)&&!t.shouldShowUpgradeButton()}))},o.prototype.shouldShowUpgradeButton=function(){if(this.UserService.hasPaidCreativeCloud())return!1;var t=this;return i.some(t.variations(),(function(e){return t.syncOnlyRequiresAction(e,"upgrade")||t.requiresUpgrade(e,"sync")&&"upgrade"===t.showRequiredAction}))},o.prototype.shouldShowFlagResultIcon=function(){return this.hasNegativeFeedback()},o.prototype.hasNegativeFeedback=function(){return"negative"===this.selectedFeedback},o.prototype.handleFontPairCardClick=function(){this._recordEvent("recommended_font_card_click","positive")},o.prototype.handleFontClick=function(t){this.isMainVariationInFamily()?t.id!==this.variation().id||this.isInDetailsSection()?this._recordEvent("recommended_font_card_click","positive"):this.$scope.$eval(this.onVariationHeaderClick()):t.id===this.variation().id||this.isInDetailsSection()?this._recordEvent("recommended_font_card_click","positive"):this.$scope.$eval(this.onVariationBodyClick())},o.prototype.getLinkForVariation=function(t){return this.isMainVariationInFamily()?t.id===this.variation().id?"":"/fonts/"+t.family.slug:t.id===this.variation().id?"/fonts/"+t.family.slug:""},o.prototype.getDetailsHighlightClass=function(t){return this.isInDetailsSection()?this.isMainVariationInFamily()?t.id===this.variation().id?"font-pairing-card--details-highlight":"":t.id===this.variation().id?"":"font-pairing-card--details-highlight":""},o.prototype.isSyncingDisabled=function(){return this.hasNegativeFeedback()},o.prototype._addSyncedVariations=function(){var t=this;t.variations().forEach((function(t){t.isSyncing=!0}));var e=i.map(t.variations(),(function(t){return t.font.sync.install_state}));t.SyncService.addSyncedVariations(i.pluck(t.variations(),"id")).then((function(n){if(t.variations().forEach((function(t){t.isSyncing=!1})),!t._isSyncSuccessResponse(n))return"data"in n?t.$q.reject(n.data):t.$q.reject();t._handleVariationSyncSuccess(e)})).catch((function(e){t.variations().forEach((function(t){t.isSyncing=!1})),e&&e.message?t.NotificationService.error(e.message):t.NotificationService.error(t.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))},o.prototype._handleFontsSync=function(){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_fonts",{font_ids:i.pluck(t.variations(),"id")}).then((function(){i.every(t.variations(),(function(e){return t.isVariationSelectedForSync(e)}))?(t._recordEvent("deactivate-button-click","negative"),t._removeSyncedVariations()):(t._recordEvent("activate-button-click","positive"),t._addSyncedVariations())}))},o.prototype._recordEvent=function(t,e){var n=this;n.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",{category:"pairing",subcategory:t,feedback:e,variation_one:n.variation().name,variation_two:n.pairVariation().name});var i=n.variation().id+"-"+n.pairVariation().id;n.FeedbackService.post("pairing",t,i,e,null,n.variation().id,n.pairVariation().id)},o.prototype._handleVariationSyncSuccess=function(t){var e=this;e.variations().forEach((function(t){t.font.sync.is_selected=!0,t.font.sync.install_state="os"})),t.includes("cc")||(e.onActivate()&&e.$scope.$eval(e.onActivate()),e.FirstMileService.shouldShowFontActivationDialog().then((function(t){if(t)return e.FirstMileService.showFontActivationDialog()})))},o.prototype._isSyncSuccessResponse=function(t){return"data"in t&&i.every(this.variations(),(function(e){return-1!==t.data.added_font_ids.indexOf(e.id)}))},o.prototype._removeSyncedVariations=function(){var t=this;t.NewrelicService.addPageAction("typekit.click.unsync-button"),t.variations().forEach((function(t){t.isSyncing=!0})),t.SyncService.removeSyncedVariations(i.pluck(t.variations(),"id")).then((function(){t.variations().forEach((function(t){t.isSyncing=!1,t.font.sync.is_selected=!1,t.font.sync.install_state=""})),t.onDeactivate()&&t.$scope.$eval(t.onDeactivate())}),(function(){t.variations().forEach((function(t){t.isSyncing=!1}))}))},t.exports=o},1320:function(t,e){t.exports=function(){return{scope:{},require:"ngModel",link:function(t,e,n,i){t.handleSizeChange=function(){i.$setViewValue(t.fontSize)},i.$render=function(){t.fontSize=i.$viewValue}},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_size_control.html"}}},1321:function(t,e,n){function i(t,e){return{restrict:"A",scope:{},bindToController:{disabled:"&?"},controller:n(1322),controllerAs:"stickyNavCtrl",link:function(t,n,i,o){var r=n[0].querySelector(".sticky-nav__unstick-button");r&&r.addEventListener("click",(function(){t.$apply((function(){o.forceUnstick()}))})),e.addEventListener("resize",(function(){t.$apply((function(){o.handleResize()}))})),e.addEventListener("scroll",(function(){t.$apply((function(){o.handleScroll()}))}))}}}i.$inject=["$document","$window"],t.exports=i},1322:function(t,e){a.$inject=["$document","$element","$scope"];var n="spectrum-grid-start-xs",i="spectrum-grid-center-xs",o="sticky-nav--stuck",r="sticky-nav--unstuck";function a(t,e,n){this.$element=e,this.$document=t,this.$scope=n,this._stickyElement=e[0],this._pushElement=this._getPushElement(),this._isStuck=!1,this._updateDimensions(),this._initWatchers()}a.prototype.forceUnstick=function(){this._stickyElement.classList.remove(n),this._stickyElement.classList.remove(o),this._stickyElement.classList.add(i),this._stickyElement.classList.add(r),this._pushElement.style.display="none",this._forceUnstuck=!0,this._isStuck=!1},a.prototype.handleResize=function(){this._updateDimensions()},a.prototype.handleScroll=function(){this._getScrollTop()>=this._initialTotalOffset&&this.isActive()?(this._stickyElement.classList.add(n),this._stickyElement.classList.add(o),this._stickyElement.classList.remove(i),this._pushElement.style.display="block",this._isStuck=!0):this._getScrollTop()<this._initialTotalOffset&&(this._stickyElement.classList.remove(o),this._stickyElement.classList.remove(r),this._stickyElement.classList.add(i),this._stickyElement.classList.remove(n),this._pushElement.style.display="none",this._forceUnstuck=!1,this._isStuck=!1)},a.prototype.isActive=function(){return!this._forceUnstuck&&!this.disabled()},a.prototype._getScrollTop=function(){return this.$document[0].documentElement.scrollTop||this.$document[0].body.scrollTop},a.prototype._getPushElement=function(){var t=document.createElement("div");return t.style.display="none",t.style.height=this._stickyElement.offsetHeight+"px",this._stickyElement.parentNode.insertBefore(t,this._stickyElement),t},a.prototype._getTotalOffset=function(){return this._getScrollTop()+this._stickyElement.getBoundingClientRect().top},a.prototype._initWatchers=function(){var t=this;t.$scope.$watch((function(){return t._stickyElement.offsetHeight}),(function(){t._updateDimensions()})),t.$scope.$watch((function(){return t.isActive()}),(function(e){t._stickyElement.classList.toggle("sticky-nav--sticky",e),t._updateDimensions()}))},a.prototype._updateDimensions=function(){this._initialTotalOffset=this._getTotalOffset(),this._pushElement.style.height=this._stickyElement.offsetHeight+"px"},t.exports=a},1323:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tab_navigation.html",bindToController:{navigationTabs:"=",currentTab:"=",defaultTabWidth:"=?",onTabChange:"&"},controller:n(1324),controllerAs:"tabNavigation"}}},1324:function(t,e){n.$inject=["$scope","$timeout","$window"];function n(t,e,n){var i=this;i.$scope=t,i.$timeout=e,i.$window=n,i.indicatorWidth=this.defaultTabWidth||0,i.indicatorLeft=0,i._loadAttempts=0,i._loadDefaultTab(this.currentTab),i.$scope.$watch((function(){return i.currentTab}),(function(){i._updateTabStyling()}))}n.prototype.indicatorStyle=function(){return{width:this.indicatorWidth+"px",left:this.indicatorLeft+"px",bottom:"0"}},n.prototype.isTabSelected=function(t){return this.currentTab===t},n.prototype.selectTab=function(t){var e=this;e.currentTab=t,e._updateTabStyling(),e.$timeout((function(){e.onTabChange()}),0,!1)},n.prototype.handleTabChange=function(t){t.link?(this.$window.history.replaceState(null,null,t.link),this.$window.location.reload()):this.$window.history.replaceState({navigationTabClicked:!0},null,"#"+t.id+"-section"),this.selectTab(t)},n.prototype.getWidthOfTab=function(t){var e=0;try{e=document.getElementById(t.id).clientWidth}catch(n){return e}return e},n.prototype._isTabLoaded=function(t){return this.getWidthOfTab(t)>0},n.prototype._loadDefaultTab=function(t){var e=this;if(!e._isTabLoaded(t)&&e._loadAttempts<7)return e._loadAttempts++,e.$timeout((function(){e._loadDefaultTab()}));e.selectTab(this.currentTab),e._updateTabStyling()},n.prototype._updateTabStyling=function(){var t=this;t.indicatorWidth=t.getWidthOfTab(t.currentTab);var e=0;for(var n in this.navigationTabs){if(t.navigationTabs[n]===t.currentTab)break;e+=24,e+=t.getWidthOfTab(this.navigationTabs[n])}this.indicatorLeft=e},t.exports=n},1325:function(t,e,n){t.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_paginate.html",bindToController:{totalPages:"=",currentPage:"=",onPageNumberChange:"&"},controller:n(1326),controllerAs:"tkPaginate"}}},1326:function(t,e,n){o.$inject=["$timeout","$window"];var i=n(1);function o(t,e){this.$timeout=t,this.$window=e}o.prototype.isSelected=function(t){return this.currentPage===t},o.prototype.previousPage=function(){this.currentPage-1>=1&&this.selectPage(this.currentPage-1)},o.prototype.nextPage=function(){this.currentPage+1<=this.totalPages&&this.selectPage(this.currentPage+1)},o.prototype.showBeginEllipsis=function(){return this._hasPaginatedAwayFromBegin()&&this.totalPages>2},o.prototype.showEndEllipsis=function(){return this._hasPaginatedAwayFromEnd()&&this.totalPages>2},o.prototype.selectPage=function(t){var e=this;e.currentPage=t,e.$timeout((function(){e.onPageNumberChange()}),0,!1)},o.prototype.getPagesInRange=function(){var t=i.range(2,this.totalPages),e=this.currentPage-Math.floor(this._numPagesInMiddleRange()/2),n=t.indexOf(Math.max(e,2));return t.slice(n,n+this._numPagesInMiddleRange())},o.prototype._hasPaginatedAwayFromEnd=function(){var t=this.getPagesInRange();return t[t.length-1]!==this.totalPages-1},o.prototype._hasPaginatedAwayFromBegin=function(){return 2!==this.getPagesInRange()[0]},o.prototype._numPagesInMiddleRange=function(){return this.$window.innerWidth<768?2:5},t.exports=o},1327:function(t,e){function n(t){return{scope:{ngModel:"=",onChanged:"&"},link:function(e){e.handleViewTypeButtonClick=function(n){e.ngModel=n,t((function(){e.onChanged()}))},e.isViewTypeSelected=function(t){return e.ngModel==t}},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/view_type_control.html"}}n.$inject=["$timeout"],t.exports=n},1328:function(t,e){function n(t){return{scope:{onScrolledToEnd:"&"},link:function(e,n){var i=!0;n.on("wheel",(function(){n[0].scrollTop+n[0].offsetHeight==n[0].scrollHeight&&i&&(i=!1,t((function(){e.onScrolledToEnd(),i=!0}),100))}))}}}n.$inject=["$timeout"],t.exports=n},1329:function(t,e){function n(t,e){return{post:function(n){if(e.Visitor){var i=e.Visitor.getInstance("9E1005A551ED61CA0A490D45@AdobeOrg");return n.visitor_guid=i.getMarketingCloudVisitorID(),n.page_name=e.document.title,n.event_url=e.location.href,t.post("/analytics/events",n)}}}}n.$inject=["$http","$window"],t.exports=n},1330:function(t,e){function n(t){return{getFamilies:function(e,n){return t.get("/designers/"+e+"/families",{params:n})}}}n.$inject=["$http"],t.exports=n},1331:function(t,e){function n(t){return{get:function(e){return t.get("/fonts.json",{params:e})}}}n.$inject=["$http"],t.exports=n},1332:function(t,e){function n(t){return{get:function(e){return t.get("/search/autocomplete?query="+e)},getItemHyperlink:function(t){return"/fonts/"+t.slug}}}n.$inject=["$http"],t.exports=n},1333:function(t,e){function n(t){return{post:function(e){return t.post("/fonts/"+e+"/typographic_favorites")},delete:function(e){return t.post("/fonts/"+e+"/typographic_favorites/destroy")}}}n.$inject=["$http"],t.exports=n},1334:function(t,e){function n(t,e){return{getSubmittedFeedback:function(t,e){return this._setDefaultSubmittedFeedback(t,e),e?this._submittedFeedback[t].familyFeedback[e]:this._submittedFeedback[t].feedback},post:function(n,i,o,r,a,s,c){var l=this;return e.getUserPrefs().then((function(e){if(l.getSubmittedFeedback(o,a)!==r){var u=l._getFeedbackParams(n,i,o,r,a,e,s,c);return t.post("/feedbacks.json",u).then((function(){l.setSubmittedFeedback(o,r,a)}))}}))},setFiltersModel:function(t){this.filtersModel=t},setSubmittedFeedback:function(t,e,n){this._setDefaultSubmittedFeedback(t,n),n?this._submittedFeedback[t].familyFeedback[n]=e:this._submittedFeedback[t].feedback=e},_getFeedbackParams:function(t,e,n,i,o,r,a,s){var c={category:t,feedback_type:i,id:n,view_type:r.selectedViewType};return e&&(c.subcategory=e),this.filtersModel&&(c.filters=this.filtersModel.getSelectedFilters().join(","),c.languages=this.filtersModel.getSelectedLanguages().join(","),c.locale=this.filtersModel.getLocale()),o&&(c.family_slug=o),a&&(c.variation_one=a),s&&(c.variation_two=s),c},_setDefaultSubmittedFeedback:function(t,e){this._submittedFeedback=this._submittedFeedback||{},this._submittedFeedback[t]=this._submittedFeedback[t]||{},e&&(this._submittedFeedback[t].familyFeedback=this._submittedFeedback[t].familyFeedback||{})}}}n.$inject=["$http","UserPrefsService"],t.exports=n},1335:function(t,e,n){a.$inject=["AuthenticationService","DialogService","FloodgateService","UserPrefsService"];var i=n(1),o="default",r="featured_rank";function a(t,e,n,a){function s(t){t=t||{},this._allFilters=t.allFilters,this._browseMode=o,this._collection=t.collection,this._currentPage=1,this._filterDataIndex=t.filterData,this._hideLibraryOption=t.hideLibraryOption,this._isLoading=!1,this._isTagsModuleVisible=t.isTagsModuleVisible,this._languages=t.languages,this._locale=t.locale,this._selectedFilters=[],this._selectedLanguages=[],this._selectedTag=null,this._sortOrder=t.sortOrder||r,this._showPaidFonts=t._showPaidFonts,this._minStyles=t.minStyles,this._maxStyles=t.maxStyles,this._signedOutState=t.signedOutState,this._tags=t.tags,this._textSamples=t.textSamples}return s.prototype.clearAll=function(){this.clearSelectedFilters(),this.clearSelectedLanguages(),this.clearSelectedTag(),this.clearNumberOfStyles(),this.setCurrentPage(1)},s.prototype.clearSelectedFilters=function(){this._selectedFilters=[],this.setCurrentPage(1)},s.prototype.clearSelectedFiltersForSection=function(t){var e=this,n=e.getSelectedFiltersForSection(t);e._selectedFilters=i.reject(e._selectedFilters,(function(t){return i.contains(n,t)})),this.setCurrentPage(1)},s.prototype.clearSelectedLanguages=function(){this._selectedLanguages=[],this.setCurrentPage(1)},s.prototype.clearSelectedTag=function(){this._selectedTag=null,this.setCurrentPage(1)},s.prototype.clearNumberOfStyles=function(){this._minStyles=null,this._maxStyles=null,this.setCurrentPage(1)},s.prototype.deselectFilter=function(t){this._selectedFilters=i.without(this._selectedFilters,t),this.setCurrentPage(1)},s.prototype.deselectLanguage=function(t){this._selectedLanguages=i.without(this._selectedLanguages,t),this.setCurrentPage(1)},s.prototype.getBrowseMode=function(){return this._browseMode},s.prototype.getCurrentPage=function(){return this._currentPage},s.prototype.getDataForFilter=function(t){return i.find(this._filterDataIndex,(function(e){return e.key==t}))},s.prototype.getDataForFilterBySlug=function(t){return i.find(this._filterDataIndex,(function(e){return e.slug==t}))},s.prototype.getFiltersForCurrentBrowseMode=function(){return this._allFilters[this._browseMode]},s.prototype.getFontDisplayData=function(t){if(t.font){var e=t.font.default_language||"en",n=this._textSamples[e].unicode_range,i=this._textSamples[e].feature_settings,o=this._textSamples[e].kana_only||!1;return{cssName:t.font.family.web_id+"-"+t.font.font.web.fvd,fvd:t.font.font.web.fvd,isDynamic:!1,opaqueId:t.font.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:o}}},s.prototype.getLanguages=function(){return this._languages},s.prototype.getMinStyles=function(){return this._minStyles},s.prototype.getMaxStyles=function(){return this._maxStyles},s.prototype.getIconUrlForFilter=function(t){var e=this.getDataForFilterBySlug(t);if(e)return e.icon_url},s.prototype.getLocale=function(){return this._locale},s.prototype.getSelectedFilters=function(){return this._selectedFilters},s.prototype.getSelectedFiltersForSection=function(t){var e=this;return i.filter(e.getSelectedFilters(),(function(n){return e.getDataForFilter(n).name==t.name}))},s.prototype.getSelectedLanguages=function(){return this._selectedLanguages},s.prototype.getSelectedTag=function(){return this._selectedTag},s.prototype.getShowLibraryOption=function(){return"trial"===this._collection&&!this._hideLibraryOption},s.prototype.getShowBasicLibrary=function(){return this._showBasicLibrary},s.prototype.getShowPaidFonts=function(){return this._showPaidFonts},s.prototype.getSortOrder=function(){return this._sortOrder},s.prototype.getTagByKey=function(t){return i.find(this.getTags(),(function(e){return e.key===t}))},s.prototype.getTags=function(){return this._tags},s.prototype.isAnyFilterSelected=function(){return this._selectedFilters.length>0},s.prototype.isAnyFilterSelectedForSection=function(t){return this.getSelectedFiltersForSection(t).length>0},s.prototype.isAnyLanguageSelected=function(){return this._selectedLanguages.length>0},s.prototype.isAnyTagSelected=function(){return null!==this._selectedTag},s.prototype.isNumberOfFontsSelected=function(){return!!this._minStyles||!!this._maxStyles},s.prototype.isAnythingSelected=function(){return this.isAnyFilterSelected()||this.isAnyLanguageSelected()||this.isAnyTagSelected()||this.isNumberOfFontsSelected()},s.prototype.isAnyFilterSelectedForName=function(t){for(var e=this.getSelectedFilters(),n=0,i=e.length;n<i;n++){var o=this.getDataForFilter(e[n]);if(o&&o.name==t)return!0}return!1},s.prototype.browseModeSupportsTags=function(){return this.getBrowseMode()&&this.getBrowseMode()===o},s.prototype.isTagsModuleVisible=function(){return this._isTagsModuleVisible&&this.getTags()&&this.getTags().length>0&&this.browseModeSupportsTags()},s.prototype.isFilterSelected=function(t){return i.contains(this.getSelectedFilters(),t)},s.prototype.isLanguageSelected=function(t){return i.contains(this.getSelectedLanguages(),t)},s.prototype.isLoading=function(){return this._isLoading},s.prototype.isTagSelected=function(t){return t===this._selectedTag},s.prototype.setSelectedFilters=function(t){var e=this;i.each(t,(function(t){e.selectFilter(t)}))},s.prototype.selectFilter=function(t){var e=this,n=e.getDataForFilter(t);n&&(n.allowMultiple||(e._selectedFilters=i.reject(e._selectedFilters,(function(t){return e.getDataForFilter(t).name==n.name}))),e._selectedFilters.push(t),this.setCurrentPage(1))},s.prototype.setBrowseMode=function(t){this._browseMode=t,this.clearAll()},s.prototype.selectLanguage=function(t){this._selectedLanguages.push(t),this.setCurrentPage(1)},s.prototype.selectLanguageMode=function(t){var e;switch(t){case"ja":e="japanese";break;case"zh-Hant":case"zh-Hans":case"ko":e=t;break;default:e="default"}e!==this.getBrowseMode()&&(this.setBrowseMode(e),a.updatePrefs({browseMode:e})),"all"!==t&&this.selectLanguage(t),this.setCurrentPage(1)},s.prototype.selectTag=function(n){var i=this;i._selectedTag=n,i.setCurrentPage(1),a.getUserPrefs().then((function(o){i.isTagsModuleVisible()&&!o.hideTagFeedbackDialog&&t.isSignedIn()&&n&&e.show("/angular_templates/dialogs/tag_feedback.html").then((function(){a.updatePrefs({hideTagFeedbackDialog:!0})}))}))},s.prototype.setCurrentPage=function(t){this._currentPage=Math.max(1,t)},s.prototype.setLoading=function(t){this._isLoading=t},s.prototype.setSelectedLanguage=function(t){this.clearSelectedLanguages(),this.selectLanguage(t)},s.prototype.setSelectedLanguageMode=function(t){this.clearSelectedLanguages(),this.selectLanguageMode(t)},s.prototype.setShowPaidFonts=function(t,e){this._showPaidFonts=t,e&&a.updatePrefs({showPaidFonts:t}),this.setCurrentPage(1)},s.prototype.setMinStyles=function(t){this._minStyles=t,this.setCurrentPage(1)},s.prototype.setMaxStyles=function(t){this._maxStyles=t,this.setCurrentPage(1)},s.prototype.setShowBasicLibrary=function(t){this._showBasicLibrary=t,this.setCurrentPage(1)},s.prototype.setSortOrder=function(t){this._sortOrder=t,this.setCurrentPage(1)},s.prototype.toggleFilter=function(t){this.isFilterSelected(t)?this.deselectFilter(t):this.selectFilter(t)},s.prototype.toggleLanguage=function(t){this.isLanguageSelected(t)?this.deselectLanguage(t):this.selectLanguage(t)},s.prototype.toggleTag=function(t){this.isTagSelected(t)?this.clearSelectedTag():this.selectTag(t)},s.prototype.toSearchParams=function(){var t=this._getEmptySearchParams();return t.browse_mode=this._browseMode,this._showPaidFonts&&(t.cc=!0),this._minStyles&&(t.min_styles=this._minStyles),this._maxStyles&&(t.max_styles=this._maxStyles),this._showBasicLibrary&&(t.library="basic"),this.isAnyFilterSelected()&&(t.filters=this.getSelectedFilters().join(",")),this.isAnyLanguageSelected()&&(t.languages=this.getSelectedLanguages().join(",")),this.isAnyTagSelected()&&(t.tag=this.getSelectedTag()),this.getCurrentPage()>1&&(t.page=this.getCurrentPage()),this._purpose&&this._purpose.length>0&&(t.purpose=this.purpose.join(",")),this.getSortOrder()!=r&&(t.sort=this.getSortOrder()),t},s.prototype._getEmptySearchParams=function(){return{browse_mode:null,collection:null,cc:null,mp:null,filters:null,languages:null,tag:null,page:null,purpose:null,sort:null,min_styles:null,max_styles:null}},{DEFAULT_PAGE:1,getFilterModel:function(t){return new s(t)}}}t.exports=a},1336:function(t,e,n){var i=n(1),o=n(9);t.exports=function(){return{filterFontsByRequiredActions:function(e,n){var o=n||t(e,{}).filters;return i.filter(e,(function(t){var e=o.upgrade&&c("upgrade",t);return c("preview_only",t)||function(t){var e=(!s(t)||c("preview_only",t))&&!!l,n=a(t)&&!r(t);return e||n}(t)||!!s(t)&&(i.isEmpty(s(t))||e)}))},filterRequiredActionsByToggles:t,hasUpgradeFilterOption:n};function t(t,r){var a=i.pick(r||{},i.identity),s=o.extend({},function(t){return{upgrade:e("upgrade",t)&&!n(t)}}(t),a);return{filters:s,preferred:i.isEmpty(a)?s.upgrade?"upgrade":null:a.upgrade?"upgrade":null}}function e(t,e){return i.some(e,c.bind(null,t))}function n(t){return function(t){return i.some(t,r)||i.some(t,a)}(t)&&e("upgrade",t)}function r(t){return!!s(t)&&i.isEmpty(s(t))}function a(t){return!!l(t)&&i.isEmpty(l(t))}function s(t){return((t.font||{}).sync||{}).required_action}function c(t,e){return!!s(e)&&i.contains(s(e),t)}function l(t){return((t.font||{}).web||{}).required_action}}},1337:function(t,e,n){o.$inject=["UrlService"];var i=n(9);function o(t){return{getDefaultStateObject:e,getEmptySearchParams:n,getSearchParamsFromFamilyListData:o,getState:function(t,e){var n=r(t),o=i.merge(s(e,!0),s(n,!0));return i.merge({browseMode:"default",collection:"full",currentPage:1,purpose:[],selectedLanguages:[],selectedTag:null,selectedViewType:"grid",sort:"featured_rank"},o)},getStateFromUrl:r,updateUrl:a,updateState:function(t){a(o(t))}};function e(){return{browseMode:"default",collection:"full",currentPage:1,purpose:[],selectedLanguages:[],selectedTag:null,selectedViewType:"grid",sort:"featured_rank"}}function n(){return{browse_mode:null,cc:null,mp:null,collection:null,filters:null,languages:null,page:null,purpose:null,sort:null}}function o(t){var e={browse_mode:null,cc:null,mp:null,collection:null,filters:null,languages:null,page:null,purpose:null,sort:null};return(t=t||{}).browseMode&&"default"!=t.browseMode&&(e.browse_mode=t.browseMode),t.showPaidFonts&&(e.cc=!0),t.selectedFilters&&t.selectedFilters.length>0&&(e.filters=t.selectedFilters.join(",")),t.selectedLanguages&&t.selectedLanguages.length>0&&(e.languages=t.selectedLanguages.join(",")),t.currentPage&&t.currentPage>1&&(e.page=t.currentPage),t.purpose&&t.purpose.length>0&&(e.purpose=t.purpose.join(",")),t.sort&&"featured_rank"!=t.sort&&(e.sort=t.sort),e}function r(e){var n=t.getSearchParams(),i={};return n.browse_mode&&(i.browseMode=n.browse_mode),e&&e.plan&&(i.collection=e.plan),n.cc&&(i.showPaidFonts=!0),n.filters&&(i.selectedFilters=n.filters.split(",")),n.languages&&(i.selectedLanguages=n.languages.split(",")),n.tag&&(i.selectedTag=n.tag),n.page&&(i.currentPage=Math.max(1,n.page)),n.purpose&&(i.purpose=n.purpose.split(",")),n.sort&&(i.sort=n.sort),n.max_styles&&(i.maxStyles=n.max_styles),n.min_styles&&(i.minStyles=n.min_styles),i}function a(e){t.updateSearchParams(e)}function s(t,e){for(var n in t)null===t[n]||void 0===t[n]?delete t[n]:e&&"object"===typeof t[n]&&s(t[n],e);return t}}t.exports=o},1338:function(t,e){function n(t,e,n,i){return{isReleaseEnabled:function(t){if(null==this.releaseFlagBitIndices||null==this.releaseFlagBitString)throw new Error("FloodgateService has not loaded yet. Make sure to call load() first.");if(0===this.releaseFlagBitString.length)return!1;var e=null;this.releaseFlagBitIndices[t]&&(e="1"===this.releaseFlagBitString[this.releaseFlagBitIndices[t]]);return e},load:function(){var o=this;return t.all([n.get("/neue/release_flag_bit_indices").then((function(t){o.releaseFlagBitIndices=t})),t((function(t){i.addOnReadyHandler((function(){e.adobeIMS.getReleaseFlags((function(e,n){o.releaseFlagBitString=n,t()}),(function(){o.releaseFlagBitString="",t()}))}))}))])}}}n.$inject=["$q","$window","DataService","ImsEventsService"],t.exports=n},1339:function(t,e){t.exports=function(){var t,e,n,i,o;return{getAllActivatedFontsCount:function(){return t},getAllPreviouslyActivatedFontsCount:function(){return e},getFilteredActivatedFontsCount:function(){return n},getThirtyDayActivatedFontsCount:function(){return i},getAllFamiliesCount:function(){return o},isAllActivatedFontsCountSet:r,isAllPreviouslyActivatedFontsCountSet:a,isFilteredActivatedFontsCountSet:s,isThirtyDayActivatedFontsCountSet:c,isAllFamiliesCountSet:l,setAllActivatedFontsCount:function(e){t=e},setAllPreviouslyActivatedFontsCount:function(t){e=t},setFilteredActivatedFontsCount:function(t){n=t},setThirtyDayActivatedFontsCount:function(t){i=t},setAllFamiliesCount:function(t){o=t},updateActivatedFontsCount:function(e){r()&&(t+=e);s()&&(n+=e);c()&&(i+=e)},updatePreviouslyActivatedFontsCount:function(t){a()&&(e+=t)},updateFamiliesCount:function(t){l()&&(o+=t)}};function r(){return!("undefined"===typeof t)}function a(){return!("undefined"===typeof e)}function s(){return!("undefined"===typeof n)}function c(){return!("undefined"===typeof i)}function l(){return!("undefined"===typeof o)}}},1340:function(t,e,n){o.$inject=["$cookies","$q","AuthenticationService","NewrelicService","NotificationService","SyncService"];var i=n(1);function o(t,e,n,o,r,a){var s;return{addFontpacks:function(t){s=i.union(s||[],t)},clearFontpacks:function(){s=null},findFontpackBySlug:function(t){return i.find(s,(function(e){return e.slug===t}))},isFontpackSynced:function(t){if(!s)return!1;var e=this.findFontpackBySlug(t);return!!e&&i.all(e.font_variations,(function(t){return t.sync.is_selected||!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc")}))},markFontsInFontpackAsSynced:function(t){var e=l(t);i.each(s,(function(t){i.each(t.font_variations,(function(t){i.contains(e,t.variation_id)&&(t.sync.is_selected=!0)}))}))},notSyncedCount:c,requiresUpgrade:function(t){if(!s)return!1;var e=this.findFontpackBySlug(t);return!!e&&i.any(e.font_variations,(function(t){return t.sync.required_action.indexOf("upgrade")>=0}))},syncFontpack:function(e,a,s,c){var l=this;n.handleAuthenticationWithPostLoginAction("activate_collection",{slug:e.slug,name:e.name}).then((function(){var n=i.countBy(e.font_variations,(function(t){return!0===t.sync.is_selected||i.contains(t.sync.install_state.split(","),"cc")?"activated":"notActivated"})).activated||0;o.addPageAction("typekit.click.sync-fontpack."+a,{activatedCount:n,fontpack:e.slug,sawFontpacksOnBrowsePage:t.get("sawCollections")||!1}),l.syncFontsInFontpack(e).then((function(){l.markFontsInFontpackAsSynced(e),r.success(e.sync_success_message)}),(function(){r.error(c["neue.fontpacks.sync_error_message"])}))}))},syncFontsInFontpack:function(t){var n=l(t);return e((function(e,o){a.addSyncedVariations(n,t.id,c(t)).then((function(t){!function(t,e){if(200!==t.status)return!1;return i.every(e,(function(e){return"data"in t&&t.data.added_font_ids.indexOf(e)>=0}))}(t,n)?o():e()}),(function(){o()}))}))},unsyncFontpack:function(n,c,u){return o.addPageAction("typekit.click.unsync-fontpack."+c,{fontpack:n.slug,sawFontpacksOnBrowsePage:t.get("sawCollections")||!1}),e((function(t,e){return a.removeSyncedVariations(l(n),n.id).then((function(){var e;e=l(n),i.each(s,(function(t){i.each(t.font_variations,(function(t){i.contains(e,t.variation_id)&&(t.sync.is_selected=!1,t.sync.install_state="")}))})),r.success(n.unsync_success_message),t()}),(function(){r.error(u["neue.fontpacks.unsync_error_message"]),e()}))}))}};function c(t){return t&&i.countBy(t.font_variations,(function(t){return t.sync.is_selected||!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc")})).false||0}function l(t){return i.map(t.font_variations,(function(t){return t.variation_id}))}}t.exports=o},1341:function(t,e){function n(t){return{getFamilies:function(e,n){return t.get("/foundries/"+e+"/families",{params:n})}}}n.$inject=["$http"],t.exports=n},1342:function(t,e){t.exports=function(){return{getMessage:function(t,e,n){var i=t[e];if(n)for(var o in n)i=i.replace("%{"+o+"}",n[o]);return i}}}},1343:function(t,e){function n(t){return{deactivateFonts:function(e){return t.put("/my_fonts/deactivate_fonts.json",e)},get:function(e){return t.get("/my_fonts/families_data.json",{params:e})}}}n.$inject=["$http"],t.exports=n},1344:function(t,e,n){o.$inject=["$document","NewrelicService"];var i=n(9);function o(t,e){var n;return{init:function(e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),n=e.page,i.element(t[0].body).on("click",o)}};function o(t){t.target.matches("a, a *")?function(t){var n=r(t,"A");if(null!=n){var i=n.href,o=n.className;e.addPageAction(a("click"),{elementUrl:i,elementClass:o})}}(t):function(t){return t.matches("input")}(t.target)&&function(t){var n=t.target;if("submit"===n.type){n=r(t,"FORM").querySelector("input[type=text]")}e.addPageAction(a("input"),{inputValue:n.value,inputName:n.name})}(t)}function r(t,e){for(var n=t.target;n;){if(n.tagName===e)return n;n=n.parentNode}return null}function a(t){return["typekit",n,t].join(".")}}t.exports=o},1345:function(t,e){function n(t){return{get:function(e,n){return t.get("/recommendations/"+e+"?page="+n)},pairedFonts:function(e,n,i){return t.get("/font_recommendations/paired_fonts?font_variation_id="+e+"&per_page="+n+"&page="+i)},similarFonts:function(e,n,i){return t.get("/font_recommendations/similar_fonts?font_variation_id="+e+"&per_page="+n+"&page="+i)},familyFontPairings:function(e,n,i){return t.get("/font_recommendations/family_font_pairings?slug="+e+"&per_page="+n+"&page="+i)},familyFontSimilarities:function(e,n,i){return t.get("/font_recommendations/family_font_similarities?slug="+e+"&per_page="+n+"&page="+i)}}}n.$inject=["$http"],t.exports=n},1346:function(t,e){n.$inject=["$q","DataService","UrlService"];function n(t,e,n){return{getContext:i,handleContext:function(){return t((function(t){i().then((function(e){n.removeSearchParam("ctx"),t(e)}))}))},handleContextIfPresent:function(){return t((function(t,e){i().then((function(i){n.getSearchParam("ctx")||e(),n.removeSearchParam("ctx"),t(i)}))}))}};function i(){return e.get("/neue/context")}}t.exports=n},1347:function(t,e){function n(t){return{put:function(e,n){return t.put("/fonts/vs/"+e,n)}}}n.$inject=["$http"],t.exports=n},1348:function(t,e){function n(t,e,n,i,o){return{scrollTo:function(t,r,a){return n((function(n){a=a||0;var s=t.getBoundingClientRect().top;e.scrollTop(s+o.pageYOffset+a,r),i(n,r)}))},scrollUpTo:function(t,n){var i=t.getBoundingClientRect().top;i<0&&e.scrollTop(i+o.pageYOffset,n)},setCookieIfSawElement:function(e,n){if(!e)return;if(r(e)&&!t.get(n))return void t.put(n,!0);o.addEventListener("scroll",(function(){r(e)&&!t.get(n)&&t.put(n,!0)}))}};function r(t){var e=t.getBoundingClientRect();return e.top>=0&&e.bottom<=o.innerHeight}}n.$inject=["$cookies","$document","$q","$timeout","$window"],t.exports=n},1349:function(t,e){i.$inject=["$http","$q","NewrelicService","UserService"];var n="/desktop_font_selections";function i(t,e,i,o){return{addSyncedVariations:function(r,a,s){var c=o.isInOverage(),l={add_font_ids:r};a&&(l.fontpack_id=a);return t({data:{data:JSON.stringify(l)},method:"PUT",url:n}).then((function(t){return e((function(e){"data"in t&&t.data.added_font_ids.length>0&&o.incrementSyncUsage(t.data.added_font_ids.length),i.addPageAction("typekit.click.sync-add-fonts",{fontCount:r.length,toSyncCount:s,plan:o.getPlan(),enteredOverage:!c&&o.isInOverage(),inOverage:o.isInOverage(),overageAmount:o.getSyncOverageAmount(),fromFontpack:!!a}),e(t)}))}))},removeSyncedVariations:function(r,a){var s=o.isInOverage(),c={remove_font_ids:r};a&&(c.fontpack_id=a);return t({data:{data:JSON.stringify(c)},method:"PUT",url:n}).then((function(t){return e((function(e){"data"in t&&t.data.removed_font_ids.length>0&&o.decrementSyncUsage(t.data.removed_font_ids.length),i.addPageAction("typekit.click.sync-remove-fonts",{fontCount:r.length,plan:o.getPlan(),exitedOverage:s&&!o.isInOverage(),inOverage:o.isInOverage(),overageAmount:o.getSyncOverageAmount()}),e(t)}))}))}}}t.exports=i},1350:function(t,e,n){d.$inject=["$http","$document","DialogService","UrlService"];var i=n(9),o=n(1351),r=n(1352),a=n(1353),s=n(1354),c=n(1355),l=n(172),u="body__progress";function d(t,e,n,d){var f,p={},h={},g={},m={},v={},y=i.element(e.find("body")),S=function(t,e){var n,i=d.getSearchParam("project_id");!p[t]&&e&&(n=e.kit.kit.token===i,p[t]=new r(e,n))},_=function(t,e){h[t]=new a(e)},b=function(t){return p[t]},$=function(e){return t.delete("/kit_editor/kits/"+e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(t){return t.data}))},w=function(t,e,n,i){g[t]||(g[t]=new s(e,n,i))},x=function(t,e,n,i){m[t]||(m[t]=new c(e,n,i))},C=function(t,e,n){!v[t]&&n&&(v[t]=new l(e,n))},F=function(t,e,n){var i=b(t);i.setTkffList(e),function(t,e){var n;for(n=0;n<e.length;n++){var i=e[n],o=t.getProjectDetails().kitToken+i.tkff.typekit_font_family.id;_(o,i),w(o,i.fvd_sorted_variations,i.enabled_font_variation_ids,i.text_samples)}}(i,e),i.setIsDataFetched(!0),n&&i.toggleExpanded()};return{initTkWebProjectListModel:function(t){f||(f=new o(t))},initTkWebProjectCardModel:S,initTkWebProjectFamilyCardModel:function(t,e){!h[t]&&e&&this.setTkWebProjectFamilyCardModel(t,e)},initTkWebProjectEditorStyleSelectorModel:w,initTkWebProjectDisplayFamilyModel:x,initEmbedCodeModel:C,getTkWebProjectListModel:function(){return f},getTkWebProjectCardModel:b,getTkWebProjectFamilyCardModel:function(t){return h[t]},setTkWebProjectFamilyCardModel:_,deleteKit:$,updateKit:function(e,n,i){return t.post("/kit_editor/kits/"+i+"/update_kit",{tkffData:e,deletedTkffs:n}).then((function(t){return t.data}))},updateWebProjects:function(e,n,i){var o=this;return 1==i&&y.addClass(u),t.get("/my_fonts/web_projects_data.json",{params:{searchString:e,page:n,sortOrder:f.getSortOrder()}}).then((function(t){f.setWebProjectList(t.data.kitsData),f.setTotalPages(t.data.totalPages),t.data.kitsData.forEach((function(t){S(t.kit.kit.token,t),C(t.kit.kit.token,t.is_dynamic,t.project_embed_details),t.tkff_list.forEach((function(e){var n=t.kit.kit.token+e.tkff.typekit_font_family.id;x(n,e.display_variation,e.text_samples,e.tktf_slug)}))})),y.removeClass(u),o.populateCompleteWebProjectsData(n)}))},getTkWebProjectEditorStyleSelectorModel:function(t){return g[t]},getTkWebProjectDisplayFamilyModel:function(t){return m[t]},getEmbedCodeModel:function(t){return v[t]},openDeleteConfirmationDialog:function(t){n.show("/angular_templates/dialogs/delete_web_project_confirmation.html",{skipCentering:!0}).then((function(e){e.projectName=t.getProjectName(),e.handleDelete=function(){f.deleteWebProject(t.getWebProjectData()),$(t.getProjectDetails().kitToken),e.close()}}))},openRetiredFontsRemovalConfirmationDialog:function(t,e){n.show("/angular_templates/dialogs/remove_retired_fonts_confirmation.html",{skipCentering:!0}).then((function(n){n.familyName=e.getTkffData().tkff.typekit_font_family.name,n.isFamilyRetired=e.isFamilyRetired,n.handleDelete=function(){t.deleteTkff(e.getTkffData()),n.close()}}))},getCompleteWebProjectData:function(e){return t.get("/my_fonts/web_project_data.json",{params:{token:e}}).then((function(t){return t.data}))},getCompleteWebProjectsData:function(e){var n=null;return f&&(n=f.getSortOrder()),t.get("/my_fonts/complete_web_projects_data.json",{params:{page:e,sortOrder:n}}).then((function(t){return t.data}))},populateCompleteWebProjectsData:function(t){this.getCompleteWebProjectsData(t).then((function(t){var e;for(e=0;e<t.length;e++){var n=t[e].tkff_list,i=t[e].kit_token;F(i,n)}}))},populateCompleteTkffData:function(t,e){y.addClass(u),this.getCompleteWebProjectData(t).then((function(n){F(t,n,!0),y.removeClass(u),e&&e()}))}}}t.exports=d},1351:function(t,e){n.$inject=["webProjectListResponse"];function n(t){this._webProjectList=t.kitsData,this._totalPages=t.totalPages,this.currentPage=1,this._sortOrder="last_updated"}n.prototype.getWebProjectList=function(){return this._webProjectList},n.prototype.getTotalPages=function(){return this._totalPages},n.prototype.setWebProjectList=function(t){this._webProjectList=t},n.prototype.setTotalPages=function(t){this._totalPages=t},n.prototype.setCurrentPage=function(t){this.currentPage=t},n.prototype.deleteWebProject=function(t){var e=this._webProjectList.indexOf(t);e>-1&&this._webProjectList.splice(e,1)},n.prototype.getSortOrder=function(){return this._sortOrder},n.prototype.setSortOrder=function(t){this._sortOrder=t,this.setCurrentPage(1)},t.exports=n},1352:function(t,e,n){r.$inject=["webProjectData","isExpanded"];var i=n(9),o=Object.freeze({CHAR_SET_OPTION_ALL:"all",CHAR_SET_OPTION_CUSTOM:"custom",CHAR_SET_OPTION_DEFAULT:"default",CHAR_SET_OPTION_DYNAMIC:"dynamic"});function r(t,e){this._webProjectData=t,this._isExpanded=e,this._projectId=t.kit.kit.id,this._projectName=t.kit.kit.name,this._projectDetails={kitToken:t.kit.kit.token,dateModified:t.kit.kit.updated_at},this._tkffList=t.tkff_list,this._tkffListBackup=i.copy(t.tkff_list),this._isDynamic=t.is_dynamic,this.computeTotalVariations(),this.computeTotalFamilies(),this._isModified=!1,this._isValid=!0,this._deletedTkffs=[],this._isDataFetched=!1}r.prototype.getIsDataFetched=function(){return this._isDataFetched},r.prototype.setIsDataFetched=function(t){this._isDataFetched=t},r.prototype.getCharSetOptionsEnum=function(){return o},r.prototype.getWebProjectData=function(){return this._webProjectData},r.prototype.getProjectId=function(){return this._projectId},r.prototype.getProjectName=function(){return this._projectName},r.prototype.getProjectDetails=function(){return this._projectDetails},r.prototype.setLastModified=function(t){this._projectDetails.dateModified=t},r.prototype.isDynamic=function(){return this._isDynamic},r.prototype.getTotalVariations=function(){return this._totalVariations},r.prototype.computeTotalVariations=function(){var t,e=0;for(t=0;t<this._tkffList.length;t++)e+=this._tkffList[t].enabled_font_variation_ids.length;this._totalVariations=e},r.prototype.getTotalFamilies=function(){return this._totalFamilies},r.prototype.computeTotalFamilies=function(){this._totalFamilies=this._tkffList.length},r.prototype.getTkffList=function(){return this._tkffList},r.prototype.setTkffList=function(t){this._tkffList=t,this._tkffListBackup=i.copy(t)},r.prototype.isLargeWebProject=function(){return this._totalVariations>8||!1},r.prototype.isExpanded=function(){return this._isExpanded},r.prototype.isCancelDisabled=function(){return!this._isModified},r.prototype.isSaveDisabled=function(){return!this._isValid},r.prototype.setIsValid=function(t){this._isValid=t},r.prototype.setIsModified=function(t){this._isModified=t},r.prototype.isModified=function(){return this._isModified},r.prototype.toggleExpanded=function(){this._isExpanded=!this._isExpanded},r.prototype.handleSave=function(){this.setIsModified(!1),this._deletedTkffs=[]},r.prototype.handleCancel=function(){this.toggleExpanded(),this._tkffList=i.copy(this._tkffListBackup),this.computeTotalFamilies(),this.computeTotalVariations(),this.setIsModified(!1),this._isValid=!0,this._deletedTkffs=[]},r.prototype.updateTkffListBackup=function(){this._tkffListBackup=i.copy(this._tkffList)},r.prototype.deleteTkff=function(t){this.setIsModified(!0),this._deletedTkffs.push(t);var e=this._tkffList.indexOf(t);e>-1&&this._tkffList.splice(e,1),this.updateIsValid(),this.computeTotalFamilies(),this.computeTotalVariations(),0==this._tkffList.length&&(this._isValid=!1)},r.prototype.getDeletedTkffs=function(){return this._deletedTkffs},r.prototype.updateIsValid=function(){var t=!0;this._tkffList.forEach((function(e){if(e.subsetting==o.CHAR_SET_OPTION_CUSTOM&&(!e.enabled_language_tags||0==e.enabled_language_tags.length))return t=!1,!0})),this.setIsValid(t)},t.exports=r},1353:function(t,e){function n(t){this._tkffData=t,this._formattedCssFontStack=this.formatCssFontStack(t.css_font_stack),this.initializeEnableDisableVariationArrays(),t.fvd_sorted_variations&&this.initializeIsFamilyRetired()}n.$inject=["tkffData"],n.prototype.getTkffData=function(){return this._tkffData},n.prototype.setTkffData=function(t){this._tkffData=t,this.initializeEnableDisableVariationArrays()},n.prototype.initializeEnableDisableVariationArrays=function(){this._tkffData.variationsEnabled=[],this._tkffData.variationsDisabled=[]},n.prototype.updateVariationsEnabled=function(t){var e=this._tkffData.variationsDisabled.indexOf(t);e>-1&&this._tkffData.variationsDisabled.splice(e,1),this._tkffData.variationsEnabled.push(t)},n.prototype.updateVariationsDisabled=function(t){var e=this._tkffData.variationsEnabled.indexOf(t);e>-1&&this._tkffData.variationsEnabled.splice(e,1),this._tkffData.variationsDisabled.push(t)},n.prototype.formatCssFontStack=function(t){return t.replace(/['"]/g,"").replace(",",", ")},n.prototype.getFormattedCssFontStack=function(){return this._formattedCssFontStack},n.prototype.initializeIsFamilyRetired=function(){var t;for(this.isFamilyRetired=!0,this.isAnyFontRetired=!1,t=0;t<this._tkffData.fvd_sorted_variations.length;t++)this._tkffData.fvd_sorted_variations[t].is_retired?this.isAnyFontRetired=!0:this.isFamilyRetired=!1},t.exports=n},1354:function(t,e,n){o.$inject=["availableFontVariations","enabledFontVariationIds","textSamples"];var i=n(58);function o(t,e,n){this._availableFontVariations=t.sort((function(t,e){return i.compareFvds(t.fvd,e.fvd)})),this._enabledFontVariationIds=e,this._textSamples=n}o.prototype.getEnabledFontVariationIds=function(){return this._enabledFontVariationIds},o.prototype.setEnabledFontVariationIds=function(t){this._enabledFontVariationIds=t},o.prototype.getAvailableFontVariations=function(){return this._availableFontVariations},o.prototype.isVariationSelected=function(t){return this._enabledFontVariationIds.indexOf(t.id)>-1},o.prototype.toggleCheckbox=function(t){var e=this._enabledFontVariationIds.indexOf(t.id);e>-1?this._enabledFontVariationIds.splice(e,1):this._enabledFontVariationIds.push(t.id)},o.prototype.getVariationDisplayData=function(t){var e=this._textSamples[t.default_language].unicode_range,n=this._textSamples[t.default_language].feature_settings,i=this._textSamples[t.default_language].kana_only;return i||(i=!1),{cssName:t.web_id+"-"+t.fvd,fvd:t.fvd,isDynamic:!1,opaqueId:t.web_id,unicodeRange:e,featureSettings:n,kanaOnly:i}},o.prototype.getExampleText=function(t){return this._textSamples[t.default_language].list},o.prototype.getFontFamilyStack=function(t){return t.css_font_stack},o.prototype.getCompleteFontVariationStyle=function(t,e){return"font-family: "+e+";\nfont-weight: "+t.weight+";\nfont-style: "+t.style+";"},t.exports=o},1355:function(t,e){function n(t,e,n){this._fontVariation=t,this._textSamples=e,this._typographicFamilySlug=n}n.$inject=["fontVariation","textSamples","typographicFamilySlug"],n.prototype.getVariationFamilyName=function(){return this._fontVariation.family_name},n.prototype.getTypographicFamilySlug=function(){return this._typographicFamilySlug},n.prototype.getVariationDisplayData=function(){var t=this._textSamples[this._fontVariation.default_language].unicode_range,e=this._textSamples[this._fontVariation.default_language].feature_settings,n=this._textSamples[this._fontVariation.default_language].kana_only,i=this._textSamples[this._fontVariation.default_language].grid;return n||(n=!1),{cssName:this._fontVariation.web_id+"-"+this._fontVariation.fvd,fvd:this._fontVariation.fvd,isDynamic:!0,opaqueId:this._fontVariation.web_id,unicodeRange:t,featureSettings:e,kanaOnly:n,textSample:i}},t.exports=n},1356:function(t,e,n){o.$inject=["$document","$q","$window"];var i=n(9);function o(t,e,n){var o=!1,r="https://www.youtube.com/player_api";return{init:function(){return e((function(a){o?a():e((function(e){n.onYouTubeIframeAPIReady=e;var o=i.element("<script><\/script>");o.attr("src",r),t.find("head").append(o)})).then((function(){o=!0,a()}))}))},load:function(t,i,o){return e((function(e){var r=new n.YT.Player(t,{height:o.height,events:{onReady:function(){e(r)},onStateChange:function(t){o.onPlayerStateChangeCallback&&o.onPlayerStateChangeCallback(t)}},playerVars:{rel:0},videoId:i,width:o.width})}))}}}t.exports=o},139:function(t,e,n){r.$inject=["$q"];var i=n(9),o={};function r(t){return{get:function(e){return t((function(t,n){o[e]?t(o[e]):n()}))},loadDataFromTemplate:function(t){i.forEach(t.find("script"),(function(t){"text/ng-data"==t.type&&function(t){e=t.attr("id"),n=JSON.parse(t.text()),o[e]=n;var e,n}(i.element(t))}))}}}t.exports=r},140:function(t,e,n){o.$inject=["$httpParamSerializer","$window"];var i=n(1);function o(t,e){return{getSearchParam:function(t){return n(e.location.search)[t]},getSearchParams:function(){return n(e.location.search)},parseSearchParams:n,pushState:function(t,n,i){e.history.pushState(t,n,i)},removeSearchParam:function(t){var i=n(e.location.search);delete i[t],o(i)},setSearchParams:o,updateSearchParams:function(t){var r=n(e.location.search);i.extend(r,t),o(r)},updatePath:function(t){e.history.replaceState(null,null,t)}};function n(t){var e=t.replace(/^\?/,"").split("&");return i.reduce(e,(function(t,e){var n=e.split("=");return n[0]&&(t[n[0]]=function(t){if(!t.match(/[a-z]/i)&&parseInt(t))return parseInt(t);return decodeURIComponent(t)}(n[1])),t}),{})}function o(n){var o=t(n),r=i.isEmpty(o)?e.location.pathname:"?"+o;e.location.hash&&(r+=e.location.hash),e.history.replaceState(null,null,r)}}t.exports=o},141:function(t,e,n){o.$inject=["$q","$httpParamSerializer","$timeout","$window","PostLoginActionCreatorService","UrlService"];var i=n(1);function o(t,e,n,o,r,a){return{getAccessToken:function(){return o.adobeIMS.getAccessToken()},getUserProfile:function(){if(!o.adobeIMS||!o.adobeIMS.isSignedInUser())return{};return o.adobeIMS.getUserProfile()},isSignedIn:function(){return!(!o.adobeIMS||!o.adobeIMS.isSignedInUser())},handleAuthenticationWithContext:function(e,i){return t((function(t){n((function(){o.adobeIMS.isSignedInUser()?t():(a.updateSearchParams({ctx:e+":"+i}),o.location="/login/sso?back_to="+encodeURIComponent(o.location.href))}))}))},handleAuthenticationWithPostLoginAction:function(e,i){return t((function(t){n((function(){o.adobeIMS.isSignedInUser()?t():r.createPostLoginAction(e,i).then(s)}))}))}};function s(t){var n=e(i.extend(a.getSearchParams(),r.getPostLoginActionParamsForUrl(t)));o.location="/login/sso?back_to="+encodeURIComponent(o.location.pathname+"?"+n)}}t.exports=o},142:function(t,e){n.$inject=["$http"];function n(t){return{createPostLoginAction:function(e,n){return t.post("/post_login_actions",{name:e,data:n}).then((function(t){return t.data.postLoginActionId}))},getPostLoginActionParamsForUrl:function(t){var e={};return e.post_login_action_id=t,e}}}t.exports=n},145:function(t,e){!function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,o=2,r=arguments,a=r[0],s="["+(t?t+":":"")+a+"] ",c=r[1];for(s+=c.replace(/\{\d+\}/g,(function(t){var e=+t.slice(1,-1)+o;return e<r.length?Rt(r[e]):t})),s+="\nhttp://errors.angularjs.org/1.4.14/"+(t?t+"/":"")+a,i=o,n="?";i<r.length;i++,n="&")s+=n+"p"+(i-o)+"="+encodeURIComponent(Rt(r[i]));return new e(s)}}var o=/^\/(.+)\/([a-z]*)$/,r="validity",a=function(t){return R(t)?t.toLowerCase():t},s=Object.prototype.hasOwnProperty,c=function(t){return R(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(a=function(t){return R(t)?t.replace(/[A-Z]/g,(function(t){return String.fromCharCode(32|t.charCodeAt(0))})):t},c=function(t){return R(t)?t.replace(/[a-z]/g,(function(t){return String.fromCharCode(-33&t.charCodeAt(0))})):t});var l,u,d,f,p=[].slice,h=[].splice,g=[].push,m=Object.prototype.toString,v=Object.getPrototypeOf,y=i("ng"),S=t.angular||(t.angular={}),_=0;function b(t){if(null==t||H(t))return!1;if(U(t)||R(t)||u&&t instanceof u)return!0;var e="length"in Object(t)&&t.length;return B(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function $(t,e,n){var i,o;if(t)if(q(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(U(t)||b(t)){var r="object"!==typeof t;for(i=0,o=t.length;i<o;i++)(r||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==$)t.forEach(e,n,t);else if(O(t))for(i in t)e.call(n,t[i],i,t);else if("function"===typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)s.call(t,i)&&e.call(n,t[i],i,t);return t}function w(t,e,n){for(var i=Object.keys(t).sort(),o=0;o<i.length;o++)e.call(n,t[i[o]],i[o]);return i}function x(t){return function(e,n){t(n,e)}}function C(){return++_}function F(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function k(t,e,n){for(var i=t.$$hashKey,o=0,r=e.length;o<r;++o){var a=e[o];if(I(a)||q(a))for(var s=Object.keys(a),c=0,l=s.length;c<l;c++){var u=s[c],d=a[u];n&&I(d)?W(d)?t[u]=new Date(d.valueOf()):z(d)?t[u]=new RegExp(d):d.nodeName?t[u]=d.cloneNode(!0):et(d)?t[u]=d.clone():(I(t[u])||(t[u]=U(d)?[]:{}),k(t[u],[d],!0)):t[u]=d}}return F(t,i),t}function M(t){return k(t,p.call(arguments,1),!1)}function P(t){return k(t,p.call(arguments,1),!0)}function E(t){return parseInt(t,10)}function T(t,e){return M(Object.create(t),e)}function D(){}function A(t){return t}function j(t){return function(){return t}}function L(t){return q(t.toString)&&t.toString!==m}function V(t){return"undefined"===typeof t}function N(t){return"undefined"!==typeof t}function I(t){return null!==t&&"object"===typeof t}function O(t){return null!==t&&"object"===typeof t&&!v(t)}function R(t){return"string"===typeof t}function B(t){return"number"===typeof t}function W(t){return"[object Date]"===m.call(t)}l=e.documentMode,D.$inject=[],A.$inject=[];var U=Array.isArray;function q(t){return"function"===typeof t}function z(t){return"[object RegExp]"===m.call(t)}function H(t){return t&&t.window===t}function Z(t){return t&&t.$evalAsync&&t.$watch}function Y(t){return"[object Blob]"===m.call(t)}function G(t){return"boolean"===typeof t}function X(t){return t&&q(t.then)}var J=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function K(t){return t&&B(t.length)&&J.test(m.call(t))}var Q=function(t){return R(t)?t.trim():t},tt=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function et(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function nt(t){return a(t.nodeName||t[0]&&t[0].nodeName)}function it(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function ot(t,e){var n=[],i=[];if(e){if(K(e))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw y("cpi","Can't copy! Source and destination are identical.");return U(e)?e.length=0:$(e,(function(t,n){"$$hashKey"!==n&&delete e[n]})),n.push(t),i.push(e),o(t,e)}return r(t);function o(t,e){var n,i=e.$$hashKey;if(U(t))for(var o=0,a=t.length;o<a;o++)e.push(r(t[o]));else if(O(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"===typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)s.call(t,n)&&(e[n]=r(t[n]));return F(e,i),e}function r(t){if(!I(t))return t;var e=n.indexOf(t);if(-1!==e)return i[e];if(H(t)||Z(t))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r,a=!1;return U(t)?(r=[],a=!0):K(t)?r=new t.constructor(t):W(t)?r=new Date(t.getTime()):z(t)?(r=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0])).lastIndex=t.lastIndex:Y(t)?r=new t.constructor([t],{type:t.type}):q(t.cloneNode)?r=t.cloneNode(!0):(r=Object.create(v(t)),a=!0),n.push(t),i.push(r),a?o(t,r):r}}function rt(t,e){if(U(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(I(t))for(var o in e=e||{},t)"$"===o.charAt(0)&&"$"===o.charAt(1)||(e[o]=t[o]);return e||t}function at(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,o,r=typeof t;if(r==typeof e&&"object"==r){if(!U(t)){if(W(t))return!!W(e)&&at(t.getTime(),e.getTime());if(z(t))return!!z(e)&&t.toString()==e.toString();if(Z(t)||Z(e)||H(t)||H(e)||U(e)||W(e)||z(e))return!1;for(i in o=It(),t)if("$"!==i.charAt(0)&&!q(t[i])){if(!at(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o)&&"$"!==i.charAt(0)&&N(e[i])&&!q(e[i]))return!1;return!0}if(!U(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!at(t[i],e[i]))return!1;return!0}}return!1}var st=function(){if(!N(st.rules)){var t=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");st.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else st.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return st.rules},ct=function(){if(N(ct.name_))return ct.name_;var t,n,i,o,r=xt.length;for(n=0;n<r;++n)if(i=xt[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){o=t.getAttribute(i+"jq");break}return ct.name_=o};function lt(t,e,n){return t.concat(p.call(e,n))}function ut(t,e){return p.call(t,e||0)}function dt(t,e){var n=arguments.length>2?ut(arguments,2):[];return!q(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,lt(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function ft(t,i){var o=i;return"string"===typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?o=n:H(i)?o="$WINDOW":i&&e===i?o="$DOCUMENT":Z(i)&&(o="$SCOPE"),o}function pt(t,e){return V(t)?n:(B(e)||(e=e?2:null),JSON.stringify(t,ft,e))}function ht(t){return R(t)?JSON.parse(t):t}var gt=/:/g;function mt(t,e){t=t.replace(gt,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function vt(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,n*(mt(e,i)-i))}function yt(t){t=u(t).clone();try{t.empty()}catch(n){}var e=u("<div>").append(t).html();try{return t[0].nodeType===Ot?a(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,(function(t,e){return"<"+a(e)}))}catch(n){return a(e)}}function St(t){try{return decodeURIComponent(t)}catch(e){}}function _t(t){var e={};return $((t||"").split("&"),(function(t){var n,i,o;t&&(i=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(i=t.substring(0,n),o=t.substring(n+1)),N(i=St(i))&&(o=!N(o)||St(o),s.call(e,i)?U(e[i])?e[i].push(o):e[i]=[e[i],o]:e[i]=o))})),e}function bt(t){var e=[];return $(t,(function(t,n){U(t)?$(t,(function(t){e.push(wt(n,!0)+(!0===t?"":"="+wt(t,!0)))})):e.push(wt(n,!0)+(!0===t?"":"="+wt(t,!0)))})),e.length?e.join("&"):""}function $t(t){return wt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function wt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var xt=["ng-","data-ng-","ng:","x-ng-"];function Ct(t,e){var n,i,o={};$(xt,(function(e){var o=e+"app";!n&&t.hasAttribute&&t.hasAttribute(o)&&(n=t,i=t.getAttribute(o))})),$(xt,(function(e){var o,r=e+"app";!n&&(o=t.querySelector("["+r.replace(":","\\:")+"]"))&&(n=o,i=o.getAttribute(r))})),n&&(o.strictDi=null!==function(t,e){var n,i,o=xt.length;for(i=0;i<o;++i)if(n=xt[i]+e,R(n=t.getAttribute(n)))return n;return null}(n,"strict-di"),e(n,i?[i]:[],o))}function Ft(n,i,o){I(o)||(o={});o=M({strictDi:!1},o);var r=function(){if((n=u(n)).injector()){var t=n[0]===e?"document":yt(n);throw y("btstrpd","App already bootstrapped with this element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),o.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var r=Ie(i,o.strictDi);return r.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply((function(){e.data("$injector",i),n(e)(t)}))}]),r},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(o.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name))return r();t.name=t.name.replace(s,""),S.resumeBootstrap=function(t){return $(t,(function(t){i.push(t)})),r()},q(S.resumeDeferredBootstrap)&&S.resumeDeferredBootstrap()}function kt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function Mt(t){var e=S.element(t).injector();if(!e)throw y("test","no injector found for element argument to getTestability");return e.get("$$testability")}var Pt=/[A-Z]/g;function Et(t,e){return e=e||"_",t.replace(Pt,(function(t,n){return(n?e:"")+t.toLowerCase()}))}var Tt,Dt=!1;function At(t,e,n){if(!t)throw y("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function jt(t,e,n){return n&&U(t)&&(t=t[t.length-1]),At(q(t),e,"not a function, got "+(t&&"object"===typeof t?t.constructor.name||"Object":typeof t)),t}function Lt(t,e){if("hasOwnProperty"===t)throw y("badname","hasOwnProperty is not a valid {0} name",e)}function Vt(t,e,n){if(!e)return t;for(var i,o=e.split("."),r=t,a=o.length,s=0;s<a;s++)i=o[s],t&&(t=(r=t)[i]);return!n&&q(t)?dt(r,t):t}function Nt(t){for(var e,n=t[0],i=t[t.length-1],o=1;n!==i&&(n=n.nextSibling);o++)(e||t[o]!==n)&&(e||(e=u(p.call(t,0,o))),e.push(n));return e||t}function It(){return Object.create(null)}var Ot=3;function Rt(t){return"function"===typeof t?t.toString().replace(/ \{[\s\S]*$/,""):V(t)?"undefined":"string"!==typeof t?function(t){var e=[];return JSON.stringify(t,(function(t,n){if(I(n=ft(t,n))){if(e.indexOf(n)>=0)return"...";e.push(n)}return n}))}(t):t}var Bt={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};se.expando="ng339";var Wt=se.cache={},Ut=1,qt=function(t,e,n){t.addEventListener(e,n,!1)},zt=function(t,e,n){t.removeEventListener(e,n,!1)};se._data=function(t){return this.cache[t[this.expando]]||{}};var Ht=/([\:\-\_]+(.))/g,Zt=/^moz([A-Z])/,Yt={mouseleave:"mouseout",mouseenter:"mouseover"},Gt=i("jqLite");function Xt(t){return t.replace(Ht,(function(t,e,n,i){return i?n.toUpperCase():n})).replace(Zt,"Moz$1")}var Jt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Kt=/<|&#?\w+;/,Qt=/<([\w:-]+)/,te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ee={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ne(t){return!Kt.test(t)}function ie(t){var e=t.nodeType;return 1===e||!e||9===e}function oe(t,e){var n,i,o,r,a=e.createDocumentFragment(),s=[];if(ne(t))s.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),i=(Qt.exec(t)||["",""])[1].toLowerCase(),o=ee[i]||ee._default,n.innerHTML=o[1]+t.replace(te,"<$1></$2>")+o[2],r=o[0];r--;)n=n.lastChild;s=lt(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",$(s,(function(t){a.appendChild(t)})),a}function re(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}ee.optgroup=ee.option,ee.tbody=ee.tfoot=ee.colgroup=ee.caption=ee.thead,ee.th=ee.td;var ae=Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function se(t){if(t instanceof se)return t;var n,i,o,r;if(R(t)&&(t=Q(t),n=!0),!(this instanceof se)){if(n&&"<"!=t.charAt(0))throw Gt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new se(t)}ve(this,n?(i=t,o=o||e,(r=Jt.exec(i))?[o.createElement(r[1])]:(r=oe(i,o))?r.childNodes:[]):t)}function ce(t){return t.cloneNode(!0)}function le(t,e){if(e||de(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,o=n.length;i<o;i++)de(n[i])}function ue(t,e,n,i){if(N(i))throw Gt("offargs","jqLite#off() does not support the `selector` argument");var o=fe(t),r=o&&o.events,a=o&&o.handle;if(a)if(e){var s=function(e){var i=r[e];N(n)&&it(i||[],n),N(n)&&i&&i.length>0||(zt(t,e,a),delete r[e])};$(e.split(" "),(function(t){s(t),Yt[t]&&s(Yt[t])}))}else for(e in r)"$destroy"!==e&&zt(t,e,a),delete r[e]}function de(t,e){var i=t.ng339,o=i&&Wt[i];if(o){if(e)return void delete o.data[e];o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),ue(t)),delete Wt[i],t.ng339=n}}function fe(t,e){var i=t.ng339,o=i&&Wt[i];return e&&!o&&(t.ng339=i=++Ut,o=Wt[i]={events:{},data:{},handle:n}),o}function pe(t,e,n){if(ie(t)){var i=N(n),o=!i&&e&&!I(e),r=!e,a=fe(t,!o),s=a&&a.data;if(i)s[e]=n;else{if(r)return s;if(o)return s&&s[e];M(s,e)}}}function he(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function ge(t,e){e&&t.setAttribute&&$(e.split(" "),(function(e){t.setAttribute("class",Q((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Q(e)+" "," ")))}))}function me(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");$(e.split(" "),(function(t){t=Q(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")})),t.setAttribute("class",Q(n))}}function ve(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"===typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function ye(t,e){return Se(t,"$"+(e||"ngController")+"Controller")}function Se(t,e,n){9==t.nodeType&&(t=t.documentElement);for(var i=U(e)?e:[e];t;){for(var o=0,r=i.length;o<r;o++)if(N(n=u.data(t,i[o])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function _e(t){for(le(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function be(t,e){e||le(t);var n=t.parentNode;n&&n.removeChild(t)}var $e=se.prototype={ready:function(n){var i=!1;function o(){i||(i=!0,n())}"complete"===e.readyState?setTimeout(o):(this.on("DOMContentLoaded",o),se(t).on("load",o))},toString:function(){var t=[];return $(this,(function(e){t.push(""+e)})),"["+t.join(", ")+"]"},eq:function(t){return u(t>=0?this[t]:this[this.length+t])},length:0,push:g,sort:[].sort,splice:[].splice},we={};$("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(t){we[a(t)]=t}));var xe={};$("input,select,option,textarea,button,form,details".split(","),(function(t){xe[t]=!0}));var Ce={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Fe(t,e){var n=we[e.toLowerCase()];return n&&xe[nt(t)]&&n}function ke(t,e,n){n.call(t,e)}function Me(t,e,n){var i=e.relatedTarget;i&&(i===t||ae.call(t,i))||n.call(t,e)}function Pe(){this.$get=function(){return M(se,{hasClass:function(t,e){return t.attr&&(t=t[0]),he(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),me(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),ge(t,e)}})}}function Ee(t,e){var n=t&&t.$$hashKey;if(n)return"function"===typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||C)():i+":"+t}function Te(t,e){if(e){var n=0;this.nextUid=function(){return++n}}$(t,this.put,this)}$({data:pe,removeData:de,hasData:function(t){for(var e in Wt[t.ng339])return!0;return!1}},(function(t,e){se[e]=t})),$({data:pe,inheritedData:Se,scope:function(t){return u.data(t,"$scope")||Se(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return u.data(t,"$isolateScope")||u.data(t,"$isolateScopeNoTemplate")},controller:ye,injector:function(t){return Se(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:he,css:function(t,e,n){if(e=Xt(e),!N(n))return t.style[e];t.style[e]=n},attr:function(t,e,i){var o=t.nodeType;if(o!==Ot&&2!==o&&8!==o){var r=a(e);if(we[r]){if(!N(i))return t[e]||(t.attributes.getNamedItem(e)||D).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(N(i))t.setAttribute(e,i);else if(t.getAttribute){var s=t.getAttribute(e,2);return null===s?n:s}}},prop:function(t,e,n){if(!N(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(V(e)){var n=t.nodeType;return 1===n||n===Ot?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(V(e)){if(t.multiple&&"select"===nt(t)){var n=[];return $(t.options,(function(t){t.selected&&n.push(t.value||t.text)})),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(V(e))return t.innerHTML;le(t,!0),t.innerHTML=e},empty:_e},(function(t,e){se.prototype[e]=function(e,n){var i,o,r=this.length;if(t!==_e&&V(2==t.length&&t!==he&&t!==ye?e:n)){if(I(e)){for(i=0;i<r;i++)if(t===pe)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var a=t.$dv,s=V(a)?Math.min(r,1):r,c=0;c<s;c++){var l=t(this[c],e,n);a=a?a+l:l}return a}for(i=0;i<r;i++)t(this[i],e,n);return this}})),$({removeData:de,on:function(t,e,i,o){if(N(o))throw Gt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ie(t)){var r=fe(t,!0),a=r.events,s=r.handle;s||(s=r.handle=function(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=e[i||n.type],r=o?o.length:0;if(r){if(V(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=o.specialHandlerWrapper||ke;r>1&&(o=rt(o));for(var c=0;c<r;c++)n.isImmediatePropagationStopped()||s(t,n,o[c])}};return n.elem=t,n}(t,a));for(var c=e.indexOf(" ")>=0?e.split(" "):[e],l=c.length,u=function(e,n,o){var r=a[e];r||((r=a[e]=[]).specialHandlerWrapper=n,"$destroy"===e||o||qt(t,e,s)),r.push(i)};l--;)e=c[l],Yt[e]?(u(Yt[e],Me),u(e,n,!0)):u(e)}},off:ue,one:function(t,e,n){(t=u(t)).on(e,(function i(){t.off(e,n),t.off(e,i)})),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;le(t),$(new se(e),(function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e}))},children:function(t){var e=[];return $(t.childNodes,(function(t){1===t.nodeType&&e.push(t)})),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(1===n||11===n)for(var i=0,o=(e=new se(e)).length;i<o;i++){var r=e[i];t.appendChild(r)}},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;$(new se(e),(function(e){t.insertBefore(e,n)}))}},wrap:function(t,e){re(t,u(e).eq(0).clone()[0])},remove:be,detach:function(t){be(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,o=0,r=(e=new se(e)).length;o<r;o++){var a=e[o];i.insertBefore(a,n.nextSibling),n=a}},addClass:me,removeClass:ge,toggleClass:function(t,e,n){e&&$(e.split(" "),(function(e){var i=n;V(i)&&(i=!he(t,e)),(i?me:ge)(t,e)}))},parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:ce,triggerHandler:function(t,e,n){var i,o,r,a=e.type||e,s=fe(t),c=s&&s.events,l=c&&c[a];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:D,type:a,target:t},e.type&&(i=M(i,e)),o=rt(l),r=n?[i].concat(n):[i],$(o,(function(e){i.isImmediatePropagationStopped()||e.apply(t,r)})))}},(function(t,e){se.prototype[e]=function(e,n,i){for(var o,r=0,a=this.length;r<a;r++)V(o)?N(o=t(this[r],e,n,i))&&(o=u(o)):ve(o,t(this[r],e,n,i));return N(o)?o:this},se.prototype.bind=se.prototype.on,se.prototype.unbind=se.prototype.off})),Te.prototype={put:function(t,e){this[Ee(t,this.nextUid)]=e},get:function(t){return this[Ee(t,this.nextUid)]},remove:function(t){var e=this[t=Ee(t,this.nextUid)];return delete this[t],e}};var De=[function(){this.$get=[function(){return Te}]}],Ae=/^[^\(]*\(\s*([^\)]*)\)/m,je=/,/,Le=/^\s*(_?)(\S+?)\1\s*$/,Ve=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ne=i("$injector");function Ie(t,e){e=!0===e;var i={},o="Provider",r=[],a=new Te([],!0),s={$provide:{provider:d(p),factory:d(g),service:d((function(t,e){return g(t,["$injector",function(t){return t.instantiate(e)}])})),value:d((function(t,e){return g(t,j(e),!1)})),constant:d((function(t,e){Lt(t,"constant"),s[t]=e,l[t]=e})),decorator:function(t,e){var n=c.get(t+o),i=n.$get;n.$get=function(){var t=u.invoke(i,n);return u.invoke(e,null,{$delegate:t})}}}},c=s.$injector=m(s,(function(t,e){throw S.isString(e)&&r.push(e),Ne("unpr","Unknown provider: {0}",r.join(" <- "))})),l={},u=l.$injector=m(l,(function(t,e){var i=c.get(t+o,e);return u.invoke(i.$get,i,n,t)}));return $(function t(e){At(V(e)||U(e),"modulesToLoad","not an array");var n,i=[];return $(e,(function(e){if(!a.get(e)){a.put(e,!0);try{R(e)?(n=f(e),i=i.concat(t(n.requires)).concat(n._runBlocks),o(n._invokeQueue),o(n._configBlocks)):q(e)||U(e)?i.push(c.invoke(e)):jt(e,"module")}catch(r){throw U(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Ne("modulerr","Failed to instantiate module {0} due to:\n{1}",e,r.stack||r.message||r)}}function o(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],o=c.get(i[0]);o[i[1]].apply(o,i[2])}}})),i}(t),(function(t){t&&u.invoke(t)})),u;function d(t){return function(e,n){if(!I(e))return t(e,n);$(e,x(t))}}function p(t,e){if(Lt(t,"service"),(q(e)||U(e))&&(e=c.instantiate(e)),!e.$get)throw Ne("pget","Provider '{0}' must define $get factory method.",t);return s[t+o]=e}function h(t,e){return function(){var n=u.invoke(e,this);if(V(n))throw Ne("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function g(t,e,n){return p(t,{$get:!1!==n?h(t,e):e})}function m(t,n){function a(e,o){if(t.hasOwnProperty(e)){if(t[e]===i)throw Ne("cdep","Circular dependency found: {0}",e+" <- "+r.join(" <- "));return t[e]}try{return r.unshift(e),t[e]=i,t[e]=n(e,o)}catch(a){throw t[e]===i&&delete t[e],a}finally{r.shift()}}function c(t,n,i,o){"string"===typeof i&&(o=i,i=null);var r,s,c,l=[],u=Ie.$$annotate(t,e,o);for(s=0,r=u.length;s<r;s++){if("string"!==typeof(c=u[s]))throw Ne("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(i&&i.hasOwnProperty(c)?i[c]:a(c,o))}return U(t)&&(t=t[r]),t.apply(n,l)}return{invoke:c,instantiate:function(t,e,n){var i=Object.create((U(t)?t[t.length-1]:t).prototype||null),o=c(t,i,e,n);return I(o)||q(o)?o:i},get:a,annotate:Ie.$$annotate,has:function(e){return s.hasOwnProperty(e+o)||t.hasOwnProperty(e)}}}}function Oe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,i,o){var r=n.document;function a(t){if(t){t.scrollIntoView();var e=function(){var t=s.yOffset;if(q(t))t=t();else if(et(t)){var e=t[0];t="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else B(t)||(t=0);return t}();if(e){var i=t.getBoundingClientRect().top;n.scrollBy(0,i-e)}}else n.scrollTo(0,0)}function s(t){var e,n,o;(t=R(t)?t:i.hash())?(e=r.getElementById(t))?a(e):(n=r.getElementsByName(t),o=null,Array.prototype.some.call(n,(function(t){if("a"===nt(t))return o=t,!0})),(e=o)?a(e):"top"===t&&a(null)):a(null)}return e&&o.$watch((function(){return i.hash()}),(function(e,n){var i,r;e===n&&""===e||(i=function(){o.$evalAsync(s)},"complete"===(r=r||t).document.readyState?r.setTimeout(i):u(r).on("load",i))})),s}]}Ie.$$annotate=function(t,e,n){var i,o;if("function"===typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw R(n)&&n||(n=t.name||function(t){var e=t.toString().replace(Ve,"").match(Ae);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),Ne("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);$(t.toString().replace(Ve,"").match(Ae)[1].split(je),(function(t){t.replace(Le,(function(t,e,n){i.push(n)}))}))}t.$inject=i}}else U(t)?(jt(t[o=t.length-1],"fn"),i=t.slice(0,o)):jt(t,"fn",!0);return i};var Re=i("$animate"),Be="ng-animate";function We(t,e){return t||e?t?e?(U(t)&&(t=t.join(" ")),U(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Ue(t){return I(t)?t:{}}var qe=function(){this.$get=function(){}},ze=function(){var t=new Te,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){return{enabled:D,on:D,off:D,pin:D,push:function(a,s,c,l){l&&l(),(c=c||{}).from&&a.css(c.from),c.to&&a.css(c.to),(c.addClass||c.removeClass)&&function(n,a,s){var c=t.get(n)||{},l=o(c,a,!0),u=o(c,s,!1);(l||u)&&(t.put(n,c),e.push(n),1===e.length&&i.$$postDigest(r))}(a,c.addClass,c.removeClass);var u=new n;return u.complete(),u}};function o(t,e,n){var i=!1;return e&&$(e=R(e)?e.split(" "):U(e)?e:[],(function(e){e&&(i=!0,t[e]=n)})),i}function r(){$(e,(function(e){var n=t.get(e);if(n){var i=function(t){R(t)&&(t=t.split(" "));var e=It();return $(t,(function(t){t.length&&(e[t]=!0)})),e}(e.attr("class")),o="",r="";$(n,(function(t,e){t!==!!i[e]&&(t?o+=(o.length?" ":"")+e:r+=(r.length?" ":"")+e)})),$(e,(function(t){o&&me(t,o),r&&ge(t,r)})),t.remove(e)}})),e.length=0}}]},He=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Re("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";e.$$registeredAnimations[n.substr(1)]=o,t.factory(o,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Re("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Be)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,o,r){return i=i&&u(i),o=o&&u(o),e(n,i=i||o.parent(),o),t.push(n,"enter",Ue(r))},move:function(n,i,o,r){return i=i&&u(i),o=o&&u(o),e(n,i=i||o.parent(),o),t.push(n,"move",Ue(r))},leave:function(e,n){return t.push(e,"leave",Ue(n),(function(){e.remove()}))},addClass:function(e,n,i){return(i=Ue(i)).addClass=We(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return(i=Ue(i)).removeClass=We(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,o){return(o=Ue(o)).addClass=We(o.addClass,n),o.removeClass=We(o.removeClass,i),t.push(e,"setClass",o)},animate:function(e,n,i,o,r){return(r=Ue(r)).from=r.from?M(r.from,n):n,r.to=r.to?M(r.to,i):i,o=o||"ng-inline-animate",r.tempClasses=We(r.tempClasses,o),t.push(e,"animate",r)}}}]}],Ze=function(){this.$get=["$$rAF",function(t){var e=[];function n(n){e.push(n),e.length>1||t((function(){for(var t=0;t<e.length;t++)e[t]();e=[]}))}return function(){var t=!1;return n((function(){t=!0})),function(e){t?e():n(e)}}}]},Ye=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,i,o){function r(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){var n=i[0];n&&n.hidden?function(t){o(t,0,!1)}(t):e(t)},this._state=0}return r.chain=function(t,e){var n=0;!function i(){if(n===t.length)return void e(!0);t[n]((function(t){!1!==t?(n++,i()):e(!1)}))}()},r.all=function(t,e){var n=0,i=!0;function o(o){i=i&&o,++n===t.length&&e(i)}$(t,(function(t){t.done(o)}))},r.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:D,getPromise:function(){if(!this.promise){var e=this;this.promise=t((function(t,n){e.done((function(e){!1===e?n():t()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick((function(){e._resolve(t)})))},_resolve:function(t){2!==this._state&&($(this._doneCallbacks,(function(e){e(t)})),this._doneCallbacks.length=0,this._state=2)}},r}]},Ge=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){var o=i||{};o.$$prepared||(o=ot(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(e.css(o.from),o.from=null);var r,a=new n;return{start:s,end:s};function s(){return t((function(){!function(){o.addClass&&(e.addClass(o.addClass),o.addClass=null);o.removeClass&&(e.removeClass(o.removeClass),o.removeClass=null);o.to&&(e.css(o.to),o.to=null)}(),r||a.complete(),r=!0})),a}}}]};function Xe(t,e,n,i){var o=this,r=(e[0],t.location),a=t.history,s=t.setTimeout,c=t.clearTimeout,l={};o.isMock=!1;var d=0,f=[];function p(t){try{t.apply(null,ut(arguments,1))}finally{if(0===--d)for(;f.length;)try{f.pop()()}catch(e){n.error(e)}}}o.$$completeOutstandingRequest=p,o.$$incOutstandingRequestCount=function(){d++},o.notifyWhenNoOutstandingRequests=function(t){0===d?t():f.push(t)};var h,g,m=r.href,v=e.find("base"),y=null;x(),g=h,o.url=function(e,n,s){if(V(s)&&(s=null),r!==t.location&&(r=t.location),a!==t.history&&(a=t.history),e){var c=g===s;if(m===e&&(!i.history||c))return o;var l=m&&Bn(m)===Bn(e);return m=e,g=s,!i.history||l&&c?(l&&!y||(y=e),n?r.replace(e):l?r.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):r.href=e,r.href!==e&&(y=e)):(a[n?"replaceState":"pushState"](s,"",e),x(),g=h),o}return y||r.href.replace(/%27/g,"'")},o.state=function(){return h};var S=[],_=!1;function b(){y=null,x(),C()}var w=null;function x(){at(h=V(h=function(){try{return a.state}catch(t){}}())?null:h,w)&&(h=w),w=h}function C(){m===o.url()&&g===h||(m=o.url(),g=h,$(S,(function(t){t(o.url(),h)})))}o.onUrlChange=function(e){return _||(i.history&&u(t).on("popstate",b),u(t).on("hashchange",b),_=!0),S.push(e),e},o.$$applicationDestroyed=function(){u(t).off("hashchange popstate",b)},o.$$checkUrlChange=C,o.baseHref=function(){var t=v.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},o.defer=function(t,e){var n;return d++,n=s((function(){delete l[n],p(t)}),e||0),l[n]=!0,n},o.defer.cancel=function(t){return!!l[t]&&(delete l[t],c(t),p(D),!0)}}function Je(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Xe(t,i,e,n)}]}function Ke(){this.$get=function(){var t={};function e(e,n){if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,r=M({},n,{id:e}),a=It(),s=n&&n.capacity||Number.MAX_VALUE,c=It(),l=null,u=null;return t[e]={put:function(t,e){if(!V(e)){if(s<Number.MAX_VALUE)d(c[t]||(c[t]={key:t}));return t in a||o++,a[t]=e,o>s&&this.remove(u.key),e}},get:function(t){if(s<Number.MAX_VALUE){var e=c[t];if(!e)return;d(e)}return a[t]},remove:function(t){if(s<Number.MAX_VALUE){var e=c[t];if(!e)return;e==l&&(l=e.p),e==u&&(u=e.n),f(e.n,e.p),delete c[t]}t in a&&(delete a[t],o--)},removeAll:function(){a=It(),o=0,c=It(),l=u=null},destroy:function(){a=null,r=null,c=null,delete t[e]},info:function(){return M({},r,{size:o})}};function d(t){t!=l&&(u?u==t&&(u=t.n):u=t,f(t.n,t.p),f(t,l),(l=t).n=null)}function f(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}}return e.info=function(){var e={};return $(t,(function(t,n){e[n]=t.info()})),e},e.get=function(e){return t[e]},e}}function Qe(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var tn=i("$compile");function en(t,i){var o={},r="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=function(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,g=/^(on[a-z]+|formaction)$/,m=It();function v(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,o=It();return $(t,(function(t,r){if(t in m)o[r]=m[t];else{var a=t.match(i);if(!a)throw tn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(m[t]=o[r])}})),o}function y(t,e){var n={isolateScope:null,bindToController:null};if(I(t.scope)&&(!0===t.bindToController?(n.bindToController=v(t.scope,e,!0),n.isolateScope={}):n.isolateScope=v(t.scope,e,!1)),I(t.bindToController)&&(n.bindToController=v(t.bindToController,e,!0)),I(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw tn("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!function(t,e){if(e&&R(e))return e;if(R(t)){var n=cn.exec(t);if(n)return n[3]}}(i,o))throw tn("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}this.directive=function e(n,i){return Lt(n,"directive"),R(n)?(!function(t){var e=t.charAt(0);if(!e||e!==a(e))throw tn("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw tn("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(n),At(i,"directiveFactory"),o.hasOwnProperty(n)||(o[n]=[],t.factory(n+r,["$injector","$exceptionHandler",function(t,e){var i=[];return $(o[n],(function(o,r){try{var a=t.invoke(o);q(a)?a={compile:j(a)}:!a.compile&&a.link&&(a.compile=j(a.link)),a.priority=a.priority||0,a.index=r,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=o.$$moduleName,i.push(a)}catch(s){e(s)}})),i}])),o[n].push(i)):$(n,x(e)),this},this.aHrefSanitizationWhitelist=function(t){return N(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return N(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(t){return N(t)?(S=t,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,i,m,v,_,b,w,x,C,F){var k=function(t,e){if(e){var n,i,o,r=Object.keys(e);for(n=0,i=r.length;n<i;n++)this[o=r[n]]=e[o]}else this.$attr={};this.$$element=t};function P(t,e){try{t.addClass(e)}catch(n){}}k.prototype={$normalize:on,$addClass:function(t){t&&t.length>0&&C.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&C.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=rn(t,e);n&&n.length&&C.addClass(this.$$element,n);var i=rn(e,t);i&&i.length&&C.removeClass(this.$$element,i)},$set:function(t,e,n,i){var o,r=Fe(this.$$element[0],t),a=Ce[t],s=t;if(r?(this.$$element.prop(t,e),i=r):a&&(this[a]=e,s=a),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=Et(t,"-")),"a"===(o=nt(this.$$element))&&"href"===t||"img"===o&&"src"===t)this[t]=e=F(e,"src"===t);else if("img"===o&&"srcset"===t&&N(e)){for(var c="",l=Q(e),u=/\s/.test(l)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=l.split(u),f=Math.floor(d.length/2),p=0;p<f;p++){var h=2*p;c+=F(Q(d[h]),!0),c+=" "+Q(d[h+1])}var g=Q(d[2*p]).split(/\s/);c+=F(Q(g[0]),!0),2===g.length&&(c+=" "+Q(g[1])),this[t]=e=c}!1!==n&&(null===e||V(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e));var v=this.$$observers;v&&$(v[s],(function(t){try{t(e)}catch(n){m(n)}}))},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=It()),o=i[t]||(i[t]=[]);return o.push(e),w.$evalAsync((function(){o.$$inter||!n.hasOwnProperty(t)||V(n[t])||e(n[t])})),function(){it(o,e)}}};var E=i.startSymbol(),j=i.endSymbol(),L="{{"==E&&"}}"==j?A:function(t){return t.replace(/\{\{/g,E).replace(/}}/g,j)},O=/^ngAttr[A-Z]/,B=/^(.+)Start$/;return W.$$addBindingInfo=S?function(t,e){var n=t.data("$binding")||[];U(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:D,W.$$addBindingClass=S?function(t){P(t,"ng-binding")}:D,W.$$addScopeInfo=S?function(t,e,n,i){var o=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(o,e)}:D,W.$$addScopeClass=S?function(t,e){P(t,e?"ng-isolate-scope":"ng-scope")}:D,W;function W(t,n,i,o,r){t instanceof u||(t=u(t));for(var a=/\S+/,s=0,c=t.length;s<c;s++){var l=t[s];l.nodeType===Ot&&l.nodeValue.match(a)&&re(l,t[s]=e.createElement("span"))}var d=z(t,n,t,i,o,r);W.$$addScopeClass(t);var f=null;return function(e,n,i){At(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new());var o,a,s,c=(i=i||{}).parentBoundTranscludeFn,l=i.transcludeControllers,p=i.futureParentElement;if(c&&c.$$boundTransclude&&(c=c.$$boundTransclude),f||(a=(o=p)&&o[0],f=a&&"foreignobject"!==nt(a)&&a.toString().match(/SVG/)?"svg":"html"),s="html"!==f?u(dt(f,u("<div>").append(t).html())):n?$e.clone.call(t):t,l)for(var h in l)s.data("$"+h+"Controller",l[h].instance);return W.$$addScopeInfo(s,e),n&&n(s,e),d&&d(e,s,s,c),s}}function z(t,e,i,o,r,a){for(var s,c,l,d,f,p,h,g=[],m=0;m<t.length;m++)s=new k,(l=(c=Y(t[m],[],s,0===m?o:n,r)).length?K(c,t[m],s,e,i,null,[],[],a):null)&&l.scope&&W.$$addScopeClass(s.$$element),f=l&&l.terminal||!(d=t[m].childNodes)||!d.length?null:z(d,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||f)&&(g.push(m,l,f),p=!0,h=h||l),a=null;return p?function(t,i,o,r){var a,s,c,l,d,f,p,m,v;if(h){var y=i.length;for(v=new Array(y),d=0;d<g.length;d+=3)p=g[d],v[p]=i[p]}else v=i;for(d=0,f=g.length;d<f;)c=v[g[d++]],a=g[d++],s=g[d++],a?(a.scope?(l=t.$new(),W.$$addScopeInfo(u(c),l)):l=t,m=a.transcludeOnThisElement?H(t,a.transclude,r):!a.templateOnThisElement&&r?r:!r&&e?H(t,e):null,a(s,l,c,o,m)):s&&s(t,c.childNodes,n,r)}:null}function H(t,e,n){return function(i,o,r,a,s){return i||((i=t.$new(!1,s)).$$transcluded=!0),e(i,o,{parentBoundTranscludeFn:n,transcludeControllers:r,futureParentElement:a})}}function Y(t,e,n,o,r){var a,s,u,d=t.nodeType,p=n.$attr;switch(d){case 1:et(e,on(s=nt(t)),"E",o,r);for(var h,g,m,v,y,S,_=t.attributes,b=0,$=_&&_.length;b<$;b++){var w=!1,x=!1;g=(h=_[b]).name,y=Q(h.value),v=on(g),(S=O.test(v))&&(g=g.replace(nn,"").substr(8).replace(/_(.)/g,(function(t,e){return e.toUpperCase()})));var C=v.match(B);C&&ot(C[1])&&(w=g,x=g.substr(0,g.length-5)+"end",g=g.substr(0,g.length-6)),p[m=on(g.toLowerCase())]=g,!S&&n.hasOwnProperty(m)||(n[m]=y,Fe(t,m)&&(n[m]=!0)),ft(t,e,y,m,S),et(e,m,"A",o,r,w,x)}if("input"===s&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),I(u=t.className)&&(u=u.animVal),R(u)&&""!==u)for(;a=f.exec(u);)et(e,m=on(a[2]),"C",o,r)&&(n[m]=Q(a[3])),u=u.substr(a.index+a[0].length);break;case Ot:if(11===l)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Ot;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);!function(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&W.$$addBindingClass(e),function(t,e){var o=e.parent();i||W.$$addBindingClass(o),W.$$addBindingInfo(o,n.expressions),t.$watch(n,(function(t){e[0].nodeValue=t}))}}})}(e,t.nodeValue);break;case 8:try{(a=c.exec(t.nodeValue))&&et(e,m=on(a[1]),"M",o,r)&&(n[m]=Q(a[2]))}catch(F){}}return e.sort(ct),e}function X(t,e,n){var i=[],o=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw tn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);1==t.nodeType&&(t.hasAttribute(e)&&o++,t.hasAttribute(n)&&o--),i.push(t),t=t.nextSibling}while(o>0);else i.push(t);return u(i)}function J(t,e,n){return function(i,o,r,a,s){return o=X(o[0],e,n),t(i,o,r,a,s)}}function K(t,i,o,r,a,s,c,l,d){d=d||{};for(var f,p,g,v,y,S=-Number.MAX_VALUE,_=d.newScopeDirective,$=d.controllerDirectives,w=d.newIsolateScopeDirective,x=d.templateDirective,C=d.nonTlbTranscludeDirective,F=!1,M=!1,P=d.hasElementTranscludeDirective,E=o.$$element=u(i),T=s,D=r,A=0,j=t.length;A<j;A++){var V=(f=t[A]).$$start,N=f.$$end;if(V&&(E=X(i,V,N)),g=n,S>f.priority)break;if((y=f.scope)&&(f.templateUrl||(I(y)?(lt("new/isolated scope",w||_,f,E),w=f):lt("new/isolated scope",w,f,E)),_=_||f),p=f.name,!f.templateUrl&&f.controller&&(y=f.controller,$=$||It(),lt("'"+p+"' controller",$[p],f,E),$[p]=f),(y=f.transclude)&&(F=!0,f.$$tlb||(lt("transclusion",C,f,E),C=f),"element"==y?(P=!0,S=f.priority,g=E,E=o.$$element=u(e.createComment(" "+p+": "+o[p]+" ")),i=E[0],pt(a,ut(g),i),D=W(g,r,S,T&&T.name,{nonTlbTranscludeDirective:C})):(g=u(ce(i)).contents(),E.empty(),D=W(g,r,n,n,{needsNewScope:f.$$isolateScope||f.$$newScope}))),f.template)if(M=!0,lt("template",x,f,E),x=f,y=q(f.template)?f.template(E,o):f.template,y=L(y),f.replace){if(T=f,g=ne(y)?[]:an(dt(f.templateNamespace,Q(y))),i=g[0],1!=g.length||1!==i.nodeType)throw tn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");pt(a,E,i);var O={$attr:{}},B=Y(i,[],O),z=t.splice(A+1,t.length-(A+1));(w||_)&&tt(B,w,_),t=t.concat(B).concat(z),rt(o,O),j=t.length}else E.html(y);if(f.templateUrl)M=!0,lt("template",x,f,E),x=f,f.replace&&(T=f),K=st(t.splice(A,t.length-A),E,o,a,F&&D,c,l,{controllerDirectives:$,newScopeDirective:_!==f&&_,newIsolateScopeDirective:w,templateDirective:x,nonTlbTranscludeDirective:C}),j=t.length;else if(f.compile)try{q(v=f.compile(E,o,D))?H(null,v,V,N):v&&H(v.pre,v.post,V,N)}catch(et){m(et,yt(E))}f.terminal&&(K.terminal=!0,S=Math.max(S,f.priority))}return K.scope=_&&!0===_.scope,K.transcludeOnThisElement=F,K.templateOnThisElement=M,K.transclude=D,d.hasElementTranscludeDirective=P,K;function H(t,e,n,i){t&&(n&&(t=J(t,n,i)),t.require=f.require,t.directiveName=p,(w===f||f.$$isolateScope)&&(t=ht(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=J(e,n,i)),e.require=f.require,e.directiveName=p,(w===f||f.$$isolateScope)&&(e=ht(e,{isolateScope:!0})),l.push(e))}function G(t,e,n,i){var o;if(R(e)){var r=e.match(h),a=e.substring(r[0].length),s=r[1]||r[3],c="?"===r[2];if("^^"===s?n=n.parent():o=(o=i&&i[a])&&o.instance,!o){var l="$"+a+"Controller";o=s?n.inheritedData(l):n.data(l)}if(!o&&!c)throw tn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(U(e)){o=[];for(var u=0,d=e.length;u<d;u++)o[u]=G(t,e[u],n,i)}return o||null}function K(t,e,r,a,s){var d,f,p,h,g,m,v,y,S;for(var C in i===r?(v=o,m=o.$$element):(m=u(r),v=new k(m,o)),p=e,w?f=e.$new(!0):_&&(p=e.$parent),s&&((g=function(t,e,i){var o;Z(t)||(i=e,e=t,t=n);P&&(o=h);i||(i=P?m.parent():m);return s(t,e,o,i,D)}).$$boundTransclude=s),$&&(h=function(t,e,n,i,o,r){var a=It();for(var s in i){var c=i[s],l={$scope:c===w||c.$$isolateScope?o:r,$element:t,$attrs:e,$transclude:n},u=c.controller;"@"==u&&(u=e[c.name]);var d=b(u,l,!0,c.controllerAs);a[c.name]=d,t.data("$"+c.name+"Controller",d.instance)}return a}(m,v,g,$,f,e)),w&&(W.$$addScopeInfo(m,f,!0,!(x&&(x===w||x===w.$$originalDirective))),W.$$addScopeClass(m,!0),f.$$isolateBindings=w.$$isolateBindings,(y=mt(e,v,f,f.$$isolateBindings,w))&&f.$on("$destroy",y)),h){var F=$[C],M=h[C],E=F.$$bindings.bindToController;M.identifier&&E&&(S=mt(p,v,M.instance,E,F));var T=M();T!==M.instance&&(M.instance=T,m.data("$"+F.name+"Controller",T),S&&S(),S=mt(p,v,M.instance,E,F))}for(A=0,j=c.length;A<j;A++)gt(d=c[A],d.isolateScope?f:e,m,v,d.require&&G(d.directiveName,d.require,m,h),g);var D=e;for(w&&(w.template||null===w.templateUrl)&&(D=f),t&&t(D,r.childNodes,n,s),A=l.length-1;A>=0;A--)gt(d=l[A],d.isolateScope?f:e,m,v,d.require&&G(d.directiveName,d.require,m,h),g)}}function tt(t,e,n){for(var i=0,o=t.length;i<o;i++)t[i]=T(t[i],{$$isolateScope:e,$$newScope:n})}function et(e,n,i,a,s,c,l){if(n===s)return null;var u=null;if(o.hasOwnProperty(n))for(var d,f=t.get(n+r),p=0,h=f.length;p<h;p++)try{if(d=f[p],(V(a)||a>d.priority)&&-1!=d.restrict.indexOf(i)){if(c&&(d=T(d,{$$start:c,$$end:l})),!d.$$bindings){var g=d.$$bindings=y(d,d.name);I(g.isolateScope)&&(d.$$isolateBindings=g.isolateScope)}e.push(d),u=d}}catch(v){m(v)}return u}function ot(e){if(o.hasOwnProperty(e))for(var n=t.get(e+r),i=0,a=n.length;i<a;i++)if(n[i].multiElement)return!0;return!1}function rt(t,e){var n=e.$attr,i=t.$attr,o=t.$$element;$(t,(function(i,o){"$"!=o.charAt(0)&&(e[o]&&e[o]!==i&&(i+=("style"===o?";":" ")+e[o]),t.$set(o,i,!0,n[o]))})),$(e,(function(e,r){"class"==r?(P(o,e),t.class=(t.class?t.class+" ":"")+e):"style"==r?(o.attr("style",o.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==r.charAt(0)||t.hasOwnProperty(r)||(t[r]=e,i[r]=n[r])}))}function st(t,e,n,i,o,r,a,s){var c,l,d=[],f=e[0],p=t.shift(),h=T(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),g=q(p.templateUrl)?p.templateUrl(e,n):p.templateUrl,m=p.templateNamespace;return e.empty(),v(g).then((function(v){var y,S,_,b;if(v=L(v),p.replace){if(_=ne(v)?[]:an(dt(m,Q(v))),y=_[0],1!=_.length||1!==y.nodeType)throw tn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,g);S={$attr:{}},pt(i,e,y);var w=Y(y,[],S);I(p.scope)&&tt(w,!0),t=w.concat(t),rt(n,S)}else y=f,e.html(v);for(t.unshift(h),c=K(t,y,n,o,e,p,r,a,s),$(i,(function(t,n){t==y&&(i[n]=e[0])})),l=z(e[0].childNodes,o);d.length;){var x=d.shift(),C=d.shift(),F=d.shift(),k=d.shift(),M=e[0];if(!x.$$destroyed){if(C!==f){var E=C.className;s.hasElementTranscludeDirective&&p.replace||(M=ce(y)),pt(F,u(C),M),P(u(M),E)}b=c.transcludeOnThisElement?H(x,c.transclude,k):k,c(l,x,M,i,b)}}d=null})),function(t,e,n,i,o){var r=o;e.$$destroyed||(d?d.push(e,n,i,r):(c.transcludeOnThisElement&&(r=H(e,c.transclude,o)),c(l,e,n,i,r)))}}function ct(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function lt(t,e,n,i){function o(t){return t?" (module: "+t+")":""}if(e)throw tn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,o(e.$$moduleName),n.name,o(n.$$moduleName),t,yt(i))}function dt(t,n){switch(t=a(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ft(t,e,n,o,r){var a=function(t,e){if("srcdoc"==e)return x.HTML;var n=nt(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?x.RESOURCE_URL:void 0}(t,o);r=p[o]||r;var s=i(n,!0,a,r);if(s){if("multiple"===o&&"select"===nt(t))throw tn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",yt(t));e.push({priority:100,compile:function(){return{pre:function(t,e,c){var l=c.$$observers||(c.$$observers=It());if(g.test(o))throw tn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=c[o];u!==n&&(s=u&&i(u,!0,a,r),n=u),s&&(c[o]=s(t),(l[o]||(l[o]=[])).$$inter=!0,(c.$$observers&&c.$$observers[o].$$scope||t).$watch(s,(function(t,e){"class"===o&&t!=e?c.$updateClass(t,e):c.$set(o,t)})))}}}})}}function pt(t,n,i){var o,r,a=n[0],s=n.length,c=a.parentNode;if(t)for(o=0,r=t.length;o<r;o++)if(t[o]==a){t[o++]=i;for(var l=o,f=l+s-1,p=t.length;l<p;l++,f++)f<p?t[l]=t[f]:delete t[l];t.length-=s-1,t.context===a&&(t.context=i);break}c&&c.replaceChild(i,a);var h=e.createDocumentFragment();h.appendChild(a),u.hasData(a)&&(u.data(i,u.data(a)),d?(Tt=!0,d.cleanData([a])):delete u.cache[a[u.expando]]);for(var g=1,m=n.length;g<m;g++){var v=n[g];u(v).remove(),h.appendChild(v),delete n[g]}n[0]=i,n.length=1}function ht(t,e){return M((function(){return t.apply(null,arguments)}),t,e)}function gt(t,e,n,i,o,r){try{t(e,n,i,o,r)}catch(a){m(a,yt(n))}}function mt(t,e,n,o,r){var a=[];return $(o,(function(o,c){var l,u,d,f,p=o.attrName,h=o.optional;switch(o.mode){case"@":h||s.call(e,p)||(n[c]=e[p]=void 0),e.$observe(p,(function(t){R(t)&&(n[c]=t)})),e.$$observers[p].$$scope=t,R(l=e[p])?n[c]=i(l)(t):G(l)&&(n[c]=l);break;case"=":if(!s.call(e,p)){if(h)break;e[p]=void 0}if(h&&!e[p])break;u=_(e[p]),f=u.literal?at:function(t,e){return t===e||t!==t&&e!==e},d=u.assign||function(){throw l=n[c]=u(t),tn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[p],p,r.name)},l=n[c]=u(t);var g,m=function(e){return f(e,n[c])||(f(e,l)?d(t,e=n[c]):n[c]=e),l=e};m.$stateful=!0,g=o.collection?t.$watchCollection(e[p],m):t.$watch(_(e[p],m),null,u.literal),a.push(g);break;case"&":if((u=e.hasOwnProperty(p)?_(e[p]):D)===D&&h)break;n[c]=function(e){return u(t,e)}}})),a.length&&function(){for(var t=0,e=a.length;t<e;++t)a[t]()}}}]}en.$inject=["$provide","$$sanitizeUriProvider"];var nn=/^((?:x|data)[\:\-_])/i;function on(t){return Xt(t.replace(nn,""))}function rn(t,e){var n="",i=t.split(/\s+/),o=e.split(/\s+/);t:for(var r=0;r<i.length;r++){for(var a=i[r],s=0;s<o.length;s++)if(a==o[s])continue t;n+=(n.length>0?" ":"")+a}return n}function an(t){var e=(t=u(t)).length;if(e<=1)return t;for(;e--;){8===t[e].nodeType&&h.call(t,e,1)}return t}var sn=i("$controller"),cn=/^(\S+)(\s+as\s+([\w$]+))?$/;function ln(){var t={},e=!1;this.register=function(e,n){Lt(e,"controller"),I(e)?M(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,r){return function(i,s,c,l){var u,d,f,p;if(c=!0===c,l&&R(l)&&(p=l),R(i)){if(!(d=i.match(cn)))throw sn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);f=d[1],p=p||d[3],jt(i=t.hasOwnProperty(f)?t[f]:Vt(s.$scope,f,!0)||(e?Vt(r,f,!0):n),f,!0)}if(c){var h=(U(i)?i[i.length-1]:i).prototype;return u=Object.create(h||null),p&&a(s,p,u,f||i.name),M((function(){var t=o.invoke(i,u,s,f);return t!==u&&(I(t)||q(t))&&(u=t,p&&a(s,p,u,f||i.name)),u}),{instance:u,identifier:p})}return u=o.instantiate(i,s,f),p&&a(s,p,u,f||i.name),u};function a(t,e,n,o){if(!t||!I(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,e);t.$scope[e]=n}}]}function un(){this.$get=["$window",function(t){return u(t.document)}]}function dn(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}var fn=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof u&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},pn="application/json",hn={"Content-Type":"application/json;charset=utf-8"},gn=/^\[|^\{(?!\{)/,mn={"[":/]$/,"{":/}$/},vn=/^\)\]\}',?\n/,yn=i("$http"),Sn=function(t){return function(){throw yn("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}};function _n(t){return I(t)?W(t)?t.toISOString():pt(t):t}function bn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return w(t,(function(t,n){null===t||V(t)||(U(t)?$(t,(function(t,i){e.push(wt(n)+"="+wt(_n(t)))})):e.push(wt(n)+"="+wt(_n(t))))})),e.join("&")}}}function $n(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(n,i,o){if(null===n||V(n))return;U(n)?$(n,(function(e,n){t(e,i+"["+(I(e)?n:"")+"]")})):I(n)&&!W(n)?w(n,(function(e,n){t(e,i+(o?"":"[")+n+(o?"":"]"))})):e.push(wt(i)+"="+wt(_n(n)))}(t,"",!0),e.join("&")}}}function wn(t,e){if(R(t)){var n=t.replace(vn,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(pn)||(r=(o=n).match(gn))&&mn[r[0]].test(o))&&(t=ht(n))}}var o,r;return t}function xn(t){var e,n=It();function i(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return R(t)?$(t.split("\n"),(function(t){e=t.indexOf(":"),i(a(Q(t.substr(0,e))),Q(t.substr(e+1)))})):I(t)&&$(t,(function(t,e){i(a(e),Q(t))})),n}function Cn(t){var e;return function(n){if(e||(e=xn(t)),n){var i=e[a(n)];return void 0===i&&(i=null),i}return e}}function Fn(t,e,n,i){return q(i)?i(t,e,n):($(i,(function(i){t=i(t,e,n)})),t)}function kn(t){return 200<=t&&t<300}function Mn(){var t=this.defaults={transformResponse:[wn],transformRequest:[function(t){return!I(t)||(e=t,"[object File]"===m.call(e))||Y(t)||function(t){return"[object FormData]"===m.call(t)}(t)?t:pt(t);var e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:rt(hn),put:rt(hn),patch:rt(hn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return N(t)?(e=!!t,this):e};var o=!0;this.useLegacyPromiseExtensions=function(t){return N(t)?(o=!!t,this):o};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,d,f,p){var h=u("$http");t.paramSerializer=R(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var g=[];function m(r){if(!S.isObject(r))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",r);if(!R(r.url))throw i("$http")("badreq","Http request configuration url must be a string.  Received: {0}",r.url);var u=M({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},r);u.headers=function(e){var n,i,o,r=t.headers,s=M({},e.headers);r=M({},r.common,r[a(e.method)]);t:for(n in r){for(o in i=a(n),s)if(a(o)===i)continue t;s[n]=r[n]}return function(t,e){var n,i={};return $(t,(function(t,o){q(t)?null!=(n=t(e))&&(i[o]=n):i[o]=t})),i}(s,rt(e))}(r),u.method=c(u.method),u.paramSerializer=R(u.paramSerializer)?p.get(u.paramSerializer):u.paramSerializer;var v=[function(i){var o=i.headers,r=Fn(i.data,Cn(o),n,i.transformRequest);return V(r)&&$(o,(function(t,e){"content-type"===a(e)&&delete o[e]})),V(i.withCredentials)&&!V(t.withCredentials)&&(i.withCredentials=t.withCredentials),function(i,o){var r,a,c=f.defer(),u=c.promise,p=i.headers,g=function(t,e){e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e);return t}(i.url,i.paramSerializer(i.params));m.pendingRequests.push(i),u.then(b,b),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(r=I(i.cache)?i.cache:I(t.cache)?t.cache:h);r&&(N(a=r.get(g))?X(a)?a.then(_,_):U(a)?S(a[1],a[0],rt(a[2]),a[3]):S(a,200,{},"OK"):r.put(g,u));if(V(a)){var v=qi(i.url)?l()[i.xsrfCookieName||t.xsrfCookieName]:n;v&&(p[i.xsrfHeaderName||t.xsrfHeaderName]=v),s(i.method,g,o,y,p,i.timeout,i.withCredentials,i.responseType)}return u;function y(t,n,i,o){function a(){S(n,t,i,o)}r&&(kn(t)?r.put(g,[t,n,xn(i),o]):r.remove(g)),e?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function S(t,e,n,o){(kn(e=e>=-1?e:0)?c.resolve:c.reject)({data:t,status:e,headers:Cn(n),config:i,statusText:o})}function _(t){S(t.data,t.status,rt(t.headers()),t.statusText)}function b(){var t=m.pendingRequests.indexOf(i);-1!==t&&m.pendingRequests.splice(t,1)}}(i,r).then(w,w)},n],y=f.when(u);for($(g,(function(t){(t.request||t.requestError)&&v.unshift(t.request,t.requestError),(t.response||t.responseError)&&v.push(t.response,t.responseError)}));v.length;){var _=v.shift(),b=v.shift();y=y.then(_,b)}return o?(y.success=function(t){return jt(t,"fn"),y.then((function(e){t(e.data,e.status,e.headers,u)})),y},y.error=function(t){return jt(t,"fn"),y.then(null,(function(e){t(e.data,e.status,e.headers,u)})),y}):(y.success=Sn("success"),y.error=Sn("error")),y;function w(t){var e=M({},t);return e.data=Fn(t.data,t.headers,t.status,u.transformResponse),kn(t.status)?e:f.reject(e)}}return $(r,(function(t){g.unshift(R(t)?p.get(t):p.invoke(t))})),m.pendingRequests=[],function(t){$(arguments,(function(t){m[t]=function(e,n){return m(M({},n||{},{method:t,url:e}))}}))}("get","delete","head","jsonp"),function(t){$(arguments,(function(t){m[t]=function(e,n,i){return m(M({},i||{},{method:t,url:e,data:n}))}}))}("post","put","patch"),m.defaults=t,m}]}function Pn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function En(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return function(t,e,n,i,o){return function(o,s,c,l,u,d,f,p){if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"==a(o)){var h="_"+(i.counter++).toString(36);i[h]=function(t){i[h].data=t,i[h].called=!0};var g=r(s.replace("JSON_CALLBACK","angular.callbacks."+h),h,(function(t,e){_(l,t,i[h].data,"",e),i[h]=D}))}else{var m=e(o,s);m.open(o,s,!0),$(u,(function(t,e){N(t)&&m.setRequestHeader(e,t)})),m.onload=function(){var t=m.statusText||"",e="response"in m?m.response:m.responseText,n=1223===m.status?204:m.status;0===n&&(n=e?200:"file"==Ui(s).protocol?404:0),_(l,n,e,m.getAllResponseHeaders(),t)};var v=function(){_(l,-1,null,null,"")};if(m.onerror=v,m.onabort=v,f&&(m.withCredentials=!0),p)try{m.responseType=p}catch(b){if("json"!==p)throw b}m.send(V(c)?null:c)}if(d>0)var y=n(S,d);else X(d)&&d.then(S);function S(){g&&g(),m&&m.abort()}function _(e,i,o,r,a){N(y)&&n.cancel(y),g=m=null,e(i,o,r,a),t.$$completeOutstandingRequest(D)}};function r(t,e,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=t,r.async=!0,a=function(t){zt(r,"load",a),zt(r,"error",a),o.body.removeChild(r),r=null;var s=-1,c="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),c=t.type,s="error"===t.type?404:200),n&&n(s,c)},qt(r,"load",a),qt(r,"error",a),o.body.appendChild(r),a}}(t,i,t.defer,e.angular.callbacks,n[0])}]}var Tn=S.$interpolateMinErr=i("$interpolate");function Dn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){var r=t.length,a=e.length,s=new RegExp(t.replace(/./g,l),"g"),c=new RegExp(e.replace(/./g,l),"g");function l(t){return"\\\\\\"+t}function u(n){return n.replace(s,t).replace(c,e)}function d(s,c,l,d){d=!!d;for(var f,p,h,g=0,m=[],v=[],y=s.length,S=[],_=[];g<y;){if(-1==(f=s.indexOf(t,g))||-1==(p=s.indexOf(e,f+r))){g!==y&&S.push(u(s.substring(g)));break}g!==f&&S.push(u(s.substring(g,f))),h=s.substring(f+r,p),m.push(h),v.push(n(h,w)),g=p+a,_.push(S.length),S.push("")}if(l&&S.length>1&&Tn.throwNoconcat(s),!c||m.length){var b=function(t){for(var e=0,n=m.length;e<n;e++){if(d&&V(t[e]))return;S[_[e]]=t[e]}return S.join("")},$=function(t){return l?o.getTrusted(l,t):o.valueOf(t)};return M((function(t){var e=0,n=m.length,o=new Array(n);try{for(;e<n;e++)o[e]=v[e](t);return b(o)}catch(r){i(Tn.interr(s,r))}}),{exp:s,expressions:m,$$watchDelegate:function(t,e){var n;return t.$watchGroup(v,(function(i,o){var r=b(i);q(e)&&e.call(this,r,i!==o?n:r,t),n=r}))}})}function w(t){try{return t=$(t),d&&!N(t)?t:function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=pt(t)}return t}(t)}catch(e){i(Tn.interr(s,e))}}}return d.startSymbol=function(){return t},d.endSymbol=function(){return e},d}]}function An(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){var o={};function r(r,a,s,c){var l=arguments.length>4,u=l?ut(arguments,4):[],d=e.setInterval,f=e.clearInterval,p=0,h=N(c)&&!c,g=(h?i:n).defer(),m=g.promise;return s=N(s)?s:0,m.then(null,null,l?function(){r.apply(null,u)}:r),m.$$intervalId=d((function(){g.notify(p++),s>0&&p>=s&&(g.resolve(p),f(m.$$intervalId),delete o[m.$$intervalId]),h||t.$apply()}),a),o[m.$$intervalId]=g,m}return r.cancel=function(t){return!(!t||!(t.$$intervalId in o))&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},r}]}Tn.throwNoconcat=function(t){throw Tn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Tn.interr=function(t,e){return Tn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var jn=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ln={http:80,https:443,ftp:21},Vn=i("$location");function Nn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=$t(e[n]);return e.join("/")}function In(t,e){var n=Ui(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=E(n.port)||Ln[n.protocol]||null}function On(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Ui(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=_t(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Rn(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function Bn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Wn(t){return t.replace(/(#.+)|#$/,"$1")}function Un(t,e,n){this.$$html5=!0,n=n||"",In(t,this),this.$$parse=function(t){var n=Rn(e,t);if(!R(n))throw Vn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);On(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=bt(this.$$search),n=this.$$hash?"#"+$t(this.$$hash):"";this.$$url=Nn(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){return o&&"#"===o[0]?(this.hash(o.slice(1)),!0):(N(r=Rn(t,i))?(a=r,s=N(r=Rn(n,r))?e+(Rn("/",r)||r):t+a):N(r=Rn(e,i))?s=e+r:e==i+"/"&&(s=e),s&&this.$$parse(s),!!s);var r,a,s}}function qn(t,e,n){In(t,this),this.$$parse=function(i){var o,r=Rn(t,i)||Rn(e,i);V(r)||"#"!==r.charAt(0)?this.$$html5?o=r:(o="",V(r)&&(t=i,this.replace())):V(o=Rn(n,r))&&(o=r),On(o,this),this.$$path=function(t,e,n){var i,o=/^\/[A-Z]:(\/.*)/;0===e.indexOf(n)&&(e=e.replace(n,""));if(o.exec(e))return t;return(i=o.exec(t))?i[1]:t}(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=bt(this.$$search),i=this.$$hash?"#"+$t(this.$$hash):"";this.$$url=Nn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Bn(t)==Bn(e)&&(this.$$parse(e),!0)}}function zn(t,e,n){this.$$html5=!0,qn.apply(this,arguments),this.$$parseLinkUrl=function(i,o){return o&&"#"===o[0]?(this.hash(o.slice(1)),!0):(t==Bn(i)?r=i:(a=Rn(e,i))?r=t+n+a:e===i+"/"&&(r=e),r&&this.$$parse(r),!!r);var r,a},this.$$compose=function(){var e=bt(this.$$search),i=this.$$hash?"#"+$t(this.$$hash):"";this.$$url=Nn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}var Hn={$$html5:!1,$$replace:!1,absUrl:Zn("$$absUrl"),url:function(t){if(V(t))return this.$$url;var e=jn.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Zn("$$protocol"),host:Zn("$$host"),port:Zn("$$port"),path:Yn("$$path",(function(t){return"/"==(t=null!==t?t.toString():"").charAt(0)?t:"/"+t})),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(R(t)||B(t))t=t.toString(),this.$$search=_t(t);else{if(!I(t))throw Vn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");$(t=ot(t,{}),(function(e,n){null==e&&delete t[n]})),this.$$search=t}break;default:V(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Yn("$$hash",(function(t){return null!==t?t.toString():""})),replace:function(){return this.$$replace=!0,this}};function Zn(t){return function(){return this[t]}}function Yn(t,e){return function(n){return V(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Gn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return N(e)?(t=e,this):t},this.html5Mode=function(t){return G(t)?(e.enabled=t,this):I(t)?(G(t.enabled)&&(e.enabled=t.enabled),G(t.requireBase)&&(e.requireBase=t.requireBase),G(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,o,r,a){var s,c,l,d,f=i.baseHref(),p=i.url();if(e.enabled){if(!f&&e.requireBase)throw Vn("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=(d=p).substring(0,d.indexOf("/",d.indexOf("//")+2))+(f||"/"),c=o.history?Un:zn}else l=Bn(p),c=qn;var h=function(t){return t.substr(0,Bn(t).lastIndexOf("/")+1)}(l);(s=new c(l,h,"#"+t)).$$parseLinkUrl(p,p),s.$$state=i.state();var g=/^\s*(javascript|mailto):/i;function m(t,e,n){var o=s.url(),r=s.$$state;try{i.url(t,e,n),s.$$state=i.state()}catch(a){throw s.url(o),s.$$state=r,a}}r.on("click",(function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var o=u(t.target);"a"!==nt(o[0]);)if(o[0]===r[0]||!(o=o.parent())[0])return;var c=o.prop("href"),l=o.attr("href")||o.attr("xlink:href");I(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=Ui(c.animVal).href),g.test(c)||!c||o.attr("target")||t.isDefaultPrevented()||s.$$parseLinkUrl(c,l)&&(t.preventDefault(),s.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}})),Wn(s.absUrl())!=Wn(p)&&i.url(s.absUrl(),!0);var v=!0;return i.onUrlChange((function(t,e){V(Rn(h,t))?a.location.href=t:(n.$evalAsync((function(){var i,o=s.absUrl(),r=s.$$state;t=Wn(t),s.$$parse(t),s.$$state=e,i=n.$broadcast("$locationChangeStart",t,o,e,r).defaultPrevented,s.absUrl()===t&&(i?(s.$$parse(o),s.$$state=r,m(o,!1,r)):(v=!1,y(o,r)))})),n.$$phase||n.$digest())})),n.$watch((function(){var t=Wn(i.url()),e=Wn(s.absUrl()),r=i.state(),a=s.$$replace,c=t!==e||s.$$html5&&o.history&&r!==s.$$state;(v||c)&&(v=!1,n.$evalAsync((function(){var e=s.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,s.$$state,r).defaultPrevented;s.absUrl()===e&&(i?(s.$$parse(t),s.$$state=r):(c&&m(e,a,r===s.$$state?null:s.$$state),y(t,r)))}))),s.$$replace=!1})),s;function y(t,e){n.$broadcast("$locationChangeSuccess",s.absUrl(),t,s.$$state,e)}}]}function Xn(){var t=!0,e=this;this.debugEnabled=function(e){return N(e)?(t=e,this):t},this.$get=["$window",function(n){return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:(i=r("debug"),function(){t&&i.apply(e,arguments)})};var i;function o(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},i=e[t]||e.log||D,r=!1;try{r=!!i.apply}catch(a){}return r?function(){var t=[];return $(arguments,(function(e){t.push(o(e))})),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}}]}$([zn,qn,Un],(function(t){t.prototype=Object.create(Hn),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Un||!this.$$html5)throw Vn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=V(e)?null:e,this}}));var Jn=i("$parse");function Kn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Jn("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Qn(t,e){if(!R(t+=""))throw Jn("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function ti(t,e){if(t){if(t.constructor===t)throw Jn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Jn("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Jn("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Jn("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}var ei=Function.prototype.call,ni=Function.prototype.apply,ii=Function.prototype.bind;function oi(t,e){if(t){if(t.constructor===t)throw Jn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ei||t===ni||t===ii)throw Jn("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function ri(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw Jn("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}var ai=It();$("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(t){ai[t]=!0}));var si={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ci=function(t){this.options=t};ci.prototype={constructor:ci,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),o=ai[e],r=ai[n],a=ai[i];if(o||r||a){var s=a?i:r?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"===typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||"\xa0"===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=N(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Jn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=a(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(i+=r,o){if("u"===r){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=si[r]||r}o=!1}else if("\\"===r)o=!0;else{if(r===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",e)}};var li=function(t,e){this.lexer=t,this.options=e};function ui(t,e){return"undefined"!==typeof t?t:e}function di(t,e){return"undefined"===typeof t?e:"undefined"===typeof e?t:t+e}function fi(t,e){return!t(e).$stateful}function pi(t,e){var n,i;switch(t.type){case li.Program:n=!0,$(t.body,(function(t){pi(t.expression,e),n=n&&t.expression.constant})),t.constant=n;break;case li.Literal:t.constant=!0,t.toWatch=[];break;case li.UnaryExpression:pi(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case li.BinaryExpression:pi(t.left,e),pi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case li.LogicalExpression:pi(t.left,e),pi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case li.ConditionalExpression:pi(t.test,e),pi(t.alternate,e),pi(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case li.Identifier:t.constant=!1,t.toWatch=[t];break;case li.MemberExpression:pi(t.object,e),t.computed&&pi(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case li.CallExpression:n=!!t.filter&&fi(e,t.callee.name),i=[],$(t.arguments,(function(t){pi(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)})),t.constant=n,t.toWatch=t.filter&&fi(e,t.callee.name)?i:[t];break;case li.AssignmentExpression:pi(t.left,e),pi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case li.ArrayExpression:n=!0,i=[],$(t.elements,(function(t){pi(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)})),t.constant=n,t.toWatch=i;break;case li.ObjectExpression:n=!0,i=[],$(t.properties,(function(t){pi(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)})),t.constant=n,t.toWatch=i;break;case li.ThisExpression:t.constant=!1,t.toWatch=[]}}function hi(t){if(1==t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length||i[0]!==e?i:n}}function gi(t){return t.type===li.Identifier||t.type===li.MemberExpression}function mi(t){if(1===t.body.length&&gi(t.body[0].expression))return{type:li.AssignmentExpression,left:t.body[0].expression,right:{type:li.NGValueParameter},operator:"="}}function vi(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===li.Literal||t.body[0].expression.type===li.ArrayExpression||t.body[0].expression.type===li.ObjectExpression)}function yi(t){return t.constant}function Si(t,e){this.astBuilder=t,this.$filter=e}function _i(t,e){this.astBuilder=t,this.$filter=e}li.Program="Program",li.ExpressionStatement="ExpressionStatement",li.AssignmentExpression="AssignmentExpression",li.ConditionalExpression="ConditionalExpression",li.LogicalExpression="LogicalExpression",li.BinaryExpression="BinaryExpression",li.UnaryExpression="UnaryExpression",li.CallExpression="CallExpression",li.MemberExpression="MemberExpression",li.Identifier="Identifier",li.Literal="Literal",li.ArrayExpression="ArrayExpression",li.Property="Property",li.ObjectExpression="ObjectExpression",li.ThisExpression="ThisExpression",li.NGValueParameter="NGValueParameter",li.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:li.Program,body:t}},expressionStatement:function(){return{type:li.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:li.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:li.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:li.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:li.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:li.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:li.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:li.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:li.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:li.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=ot(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:li.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:li.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:li.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:li.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.expression())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:li.Identifier,name:t.text}},constant:function(){return{type:li.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:li.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:li.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:li.ObjectExpression,properties:e}},throwError:function(t,e){throw Jn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Jn("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Jn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,o){if(this.tokens.length>t){var r=this.tokens[t],a=r.text;if(a===e||a===n||a===i||a===o||!e&&!n&&!i&&!o)return r}return!1},expect:function(t,e,n,i){var o=this.peek(t,e,n,i);return!!o&&(this.tokens.shift(),o)},constants:{true:{type:li.Literal,value:!0},false:{type:li.Literal,value:!1},null:{type:li.Literal,value:null},undefined:{type:li.Literal,value:n},this:{type:li.ThisExpression}}},Si.prototype={compile:function(t,e){var i=this,o=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},pi(o,i.$filter);var r,a="";if(this.stage="assign",r=mi(o)){this.state.computing="assign";var s=this.nextId();this.recurse(r,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var c=hi(o.body);i.stage="inputs",$(c,(function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var o=i.nextId();i.recurse(t,o),i.return_(o),i.state.inputs.push(n),t.watchId=e})),this.state.computing="fn",this.stage="main",this.recurse(o);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,Kn,ti,oi,Qn,ri,ui,di,t);return this.state=this.stage=n,u.literal=vi(o),u.constant=yi(o),u},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return $(e,(function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))})),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return $(this.state.filters,(function(n,i){t.push(n+"=$filter("+e.escape(i)+")")})),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,o,r,a){var s,c,l,u,d=this;if(o=o||D,!a&&N(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,o,r,!0));switch(t.type){case li.Program:$(t.body,(function(e,i){d.recurse(e.expression,n,n,(function(t){c=t})),i!==t.body.length-1?d.current().body.push(c,";"):d.return_(c)}));break;case li.Literal:u=this.escape(t.value),this.assign(e,u),o(u);break;case li.UnaryExpression:this.recurse(t.argument,n,n,(function(t){c=t})),u=t.operator+"("+this.ifDefined(c,0)+")",this.assign(e,u),o(u);break;case li.BinaryExpression:this.recurse(t.left,n,n,(function(t){s=t})),this.recurse(t.right,n,n,(function(t){c=t})),u="+"===t.operator?this.plus(s,c):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(c,0):"("+s+")"+t.operator+"("+c+")",this.assign(e,u),o(u);break;case li.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),o(e);break;case li.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),o(e);break;case li.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),Kn(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),(function(){d.if_("inputs"===d.stage||"s",(function(){r&&1!==r&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))}))}),e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||$i(t.name))&&d.addEnsureSafeObject(e),o(e);break;case li.MemberExpression:s=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,s,n,(function(){d.if_(d.notNull(s),(function(){r&&1!==r&&d.addEnsureSafeAssignContext(s),t.computed?(c=d.nextId(),d.recurse(t.property,c),d.getStringValue(c),d.addEnsureSafeMemberName(c),r&&1!==r&&d.if_(d.not(d.computedMember(s,c)),d.lazyAssign(d.computedMember(s,c),"{}")),u=d.ensureSafeObject(d.computedMember(s,c)),d.assign(e,u),i&&(i.computed=!0,i.name=c)):(Kn(t.property.name),r&&1!==r&&d.if_(d.not(d.nonComputedMember(s,t.property.name)),d.lazyAssign(d.nonComputedMember(s,t.property.name),"{}")),u=d.nonComputedMember(s,t.property.name),(d.state.expensiveChecks||$i(t.property.name))&&(u=d.ensureSafeObject(u)),d.assign(e,u),i&&(i.computed=!1,i.name=t.property.name))}),(function(){d.assign(e,"undefined")})),o(e)}),!!r);break;case li.CallExpression:e=e||this.nextId(),t.filter?(c=d.filter(t.callee.name),l=[],$(t.arguments,(function(t){var e=d.nextId();d.recurse(t,e),l.push(e)})),u=c+"("+l.join(",")+")",d.assign(e,u),o(e)):(c=d.nextId(),s={},l=[],d.recurse(t.callee,c,s,(function(){d.if_(d.notNull(c),(function(){d.addEnsureSafeFunction(c),$(t.arguments,(function(t){d.recurse(t,d.nextId(),n,(function(t){l.push(d.ensureSafeObject(t))}))})),s.name?(d.state.expensiveChecks||d.addEnsureSafeObject(s.context),u=d.member(s.context,s.name,s.computed)+"("+l.join(",")+")"):u=c+"("+l.join(",")+")",u=d.ensureSafeObject(u),d.assign(e,u)}),(function(){d.assign(e,"undefined")})),o(e)})));break;case li.AssignmentExpression:if(c=this.nextId(),s={},!gi(t.left))throw Jn("lval","Trying to assign a value to a non l-value");this.recurse(t.left,n,s,(function(){d.if_(d.notNull(s.context),(function(){d.recurse(t.right,c),d.addEnsureSafeObject(d.member(s.context,s.name,s.computed)),d.addEnsureSafeAssignContext(s.context),u=d.member(s.context,s.name,s.computed)+t.operator+c,d.assign(e,u),o(e||u)}))}),1);break;case li.ArrayExpression:l=[],$(t.elements,(function(t){d.recurse(t,d.nextId(),n,(function(t){l.push(t)}))})),u="["+l.join(",")+"]",this.assign(e,u),o(u);break;case li.ObjectExpression:l=[],$(t.properties,(function(t){d.recurse(t.value,d.nextId(),n,(function(e){l.push(d.escape(t.key.type===li.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),u="{"+l.join(",")+"}",this.assign(e,u),o(u);break;case li.ThisExpression:this.assign(e,"s"),o("s");break;case li.NGValueParameter:this.assign(e,"v"),o("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,o,r){var a=this;return function(){a.recurse(t,e,n,i,o,r)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(R(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(B(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if("undefined"===typeof t)return"undefined";throw Jn("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},_i.prototype={compile:function(t,e){var n,i,o=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,pi(r,o.$filter),(n=mi(r))&&(i=this.recurse(n));var a,s=hi(r.body);s&&(a=[],$(s,(function(t,e){var n=o.recurse(t);t.input=n,a.push(n),t.watchId=e})));var c=[];$(r.body,(function(t){c.push(o.recurse(t.expression))}));var l=0===r.body.length?function(){}:1===r.body.length?c[0]:function(t,e){var n;return $(c,(function(i){n=i(t,e)})),n};return i&&(l.assign=function(t,e,n){return i(t,n,e)}),a&&(l.inputs=a),l.literal=vi(r),l.constant=yi(r),l},recurse:function(t,e,i){var o,r,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case li.Literal:return this.value(t.value,e);case li.UnaryExpression:return r=this.recurse(t.argument),this["unary"+t.operator](r,e);case li.BinaryExpression:case li.LogicalExpression:return o=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](o,r,e);case li.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case li.Identifier:return Kn(t.name,s.expression),s.identifier(t.name,s.expensiveChecks||$i(t.name),e,i,s.expression);case li.MemberExpression:return o=this.recurse(t.object,!1,!!i),t.computed||(Kn(t.property.name,s.expression),r=t.property.name),t.computed&&(r=this.recurse(t.property)),t.computed?this.computedMember(o,r,e,i,s.expression):this.nonComputedMember(o,r,s.expensiveChecks,e,i,s.expression);case li.CallExpression:return a=[],$(t.arguments,(function(t){a.push(s.recurse(t))})),t.filter&&(r=this.$filter(t.callee.name)),t.filter||(r=this.recurse(t.callee,!0)),t.filter?function(t,i,o,s){for(var c=[],l=0;l<a.length;++l)c.push(a[l](t,i,o,s));var u=r.apply(n,c,s);return e?{context:n,name:n,value:u}:u}:function(t,n,i,o){var c,l=r(t,n,i,o);if(null!=l.value){ti(l.context,s.expression),oi(l.value,s.expression);for(var u=[],d=0;d<a.length;++d)u.push(ti(a[d](t,n,i,o),s.expression));c=ti(l.value.apply(l.context,u),s.expression)}return e?{value:c}:c};case li.AssignmentExpression:return o=this.recurse(t.left,!0,1),r=this.recurse(t.right),function(t,n,i,a){var c=o(t,n,i,a),l=r(t,n,i,a);return ti(c.value,s.expression),ri(c.context),c.context[c.name]=l,e?{value:l}:l};case li.ArrayExpression:return a=[],$(t.elements,(function(t){a.push(s.recurse(t))})),function(t,n,i,o){for(var r=[],s=0;s<a.length;++s)r.push(a[s](t,n,i,o));return e?{value:r}:r};case li.ObjectExpression:return a=[],$(t.properties,(function(t){a.push({key:t.key.type===li.Identifier?t.key.name:""+t.key.value,value:s.recurse(t.value)})})),function(t,n,i,o){for(var r={},s=0;s<a.length;++s)r[a[s].key]=a[s].value(t,n,i,o);return e?{value:r}:r};case li.ThisExpression:return function(t){return e?{value:t}:t};case li.NGValueParameter:return function(t,n,i,o){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,o,r){var a=t(n,i,o,r);return a=N(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,o,r){var a=t(n,i,o,r);return a=N(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,o,r){var a=!t(n,i,o,r);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,o,r,a){var s=di(t(i,o,r,a),e(i,o,r,a));return n?{value:s}:s}},"binary-":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a),c=e(i,o,r,a),l=(N(s)?s:0)-(N(c)?c:0);return n?{value:l}:l}},"binary*":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)*e(i,o,r,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)/e(i,o,r,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)%e(i,o,r,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)===e(i,o,r,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)!==e(i,o,r,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)==e(i,o,r,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)!=e(i,o,r,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)<e(i,o,r,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)>e(i,o,r,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)<=e(i,o,r,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)>=e(i,o,r,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)&&e(i,o,r,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,o,r,a){var s=t(i,o,r,a)||e(i,o,r,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(o,r,a,s){var c=t(o,r,a,s)?e(o,r,a,s):n(o,r,a,s);return i?{value:c}:c}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,o,r){return function(a,s,c,l){var u=s&&t in s?s:a;o&&1!==o&&u&&!u[t]&&(u[t]={});var d=u?u[t]:n;return e&&ti(d,r),i?{context:u,name:t,value:d}:d}},computedMember:function(t,e,n,i,o){return function(r,a,s,c){var l,u,d=t(r,a,s,c);return null!=d&&(Kn(l=Qn(l=e(r,a,s,c)),o),i&&1!==i&&(ri(d),d&&!d[l]&&(d[l]={})),ti(u=d[l],o)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(t,e,i,o,r,a){return function(s,c,l,u){var d=t(s,c,l,u);r&&1!==r&&(ri(d),d&&!d[e]&&(d[e]={}));var f=null!=d?d[e]:n;return(i||$i(e))&&ti(f,a),o?{context:d,name:e,value:f}:f}},inputs:function(t,e){return function(n,i,o,r){return r?r[e]:t(n,i,o)}}};var bi=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new li(this.lexer),this.astCompiler=n.csp?new _i(this.ast,e):new Si(this.ast,e)};function $i(t){return"constructor"==t}bi.prototype={constructor:bi,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var wi=Object.prototype.valueOf;function xi(t){return q(t.valueOf)?t.valueOf():wi.call(t)}function Ci(){var t=It(),e=It();this.$get=["$filter",function(i){var o=st().noUnsafeEval,r={csp:o,expensiveChecks:!1},a={csp:o,expensiveChecks:!0},s=!1;return c.$$runningExpensiveChecks=function(){return s},c;function c(n,o,c){var u,m,v;switch(c=c||s,typeof n){case"string":n=n.trim();var y=c?e:t;if(!(u=y[v=n])){":"===n.charAt(0)&&":"===n.charAt(1)&&(m=!0,n=n.substring(2));var S=c?a:r,_=new ci(S);(u=new bi(_,i,S).parse(n)).constant?u.$$watchDelegate=h:m?u.$$watchDelegate=u.literal?p:f:u.inputs&&(u.$$watchDelegate=d),c&&(u=l(u)),y[v]=u}return g(u,o);case"function":return g(n,o);default:return g(D,o)}}function l(t){if(!t)return t;n.$$watchDelegate=t.$$watchDelegate,n.assign=l(t.assign),n.constant=t.constant,n.literal=t.literal;for(var e=0;t.inputs&&e<t.inputs.length;++e)t.inputs[e]=l(t.inputs[e]);return n.inputs=t.inputs,n;function n(e,n,i,o){var r=s;s=!0;try{return t(e,n,i,o)}finally{s=r}}}function u(t,e){return null==t||null==e?t===e:("object"!==typeof t||"object"!==typeof(t=xi(t)))&&(t===e||t!==t&&e!==e)}function d(t,e,i,o,r){var a,s=o.inputs;if(1===s.length){var c=u;return s=s[0],t.$watch((function(t){var e=s(t);return u(e,c)||(a=o(t,n,n,[e]),c=e&&xi(e)),a}),e,i,r)}for(var l=[],d=[],f=0,p=s.length;f<p;f++)l[f]=u,d[f]=null;return t.$watch((function(t){for(var e=!1,i=0,r=s.length;i<r;i++){var c=s[i](t);(e||(e=!u(c,l[i])))&&(d[i]=c,l[i]=c&&xi(c))}return e&&(a=o(t,n,n,d)),a}),e,i,r)}function f(t,e,n,i){var o,r;return o=t.$watch((function(t){return i(t)}),(function(t,n,i){r=t,q(e)&&e.apply(this,arguments),N(t)&&i.$$postDigest((function(){N(r)&&o()}))}),n)}function p(t,e,n,i){var o,r;return o=t.$watch((function(t){return i(t)}),(function(t,n,i){r=t,q(e)&&e.call(this,t,n,i),a(t)&&i.$$postDigest((function(){a(r)&&o()}))}),n);function a(t){var e=!0;return $(t,(function(t){N(t)||(e=!1)})),e}}function h(t,e,n,i){var o;return o=t.$watch((function(t){return i(t)}),(function(t,n,i){q(e)&&e.apply(this,arguments),o()}),n)}function g(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,o=n!==p&&n!==f?function(n,o,r,a){var s=i&&a?a[0]:t(n,o,r,a);return e(s,n,o)}:function(n,i,o,r){var a=t(n,i,o,r),s=e(a,n,i);return N(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==d?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=d,i=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}}]}function Fi(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Mi((function(e){t.$evalAsync(e)}),e)}]}function ki(){this.$get=["$browser","$exceptionHandler",function(t,e){return Mi((function(e){t.defer(e)}),e)}]}function Mi(t,e){var o=i("$q",TypeError);function r(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function s(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,t((function(){!function(t){var i,o,r;r=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=r.length;a<s;++a){o=r[a][0],i=r[a][t.status];try{q(i)?o.resolve(i(t.value)):1===t.status?o.resolve(t.value):o.reject(t.value)}catch(c){o.reject(c),e(c)}}}(i)})))}function c(){this.promise=new r,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}M(r.prototype,{then:function(t,e,n){if(V(t)&&V(e)&&V(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&s(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then((function(e){return u(e,!0,t)}),(function(e){return u(e,!1,t)}),e)}}),M(c.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(o("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=function(t,e,n){var i=!1;function o(e){return function(n){i||(i=!0,e.call(t,n))}}return[o(e),o(n)]}(this,this.$$resolve,this.$$reject);try{(I(t)||q(t))&&(n=t&&t.then),q(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,s(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t((function(){for(var t,o,r=0,a=i.length;r<a;r++){o=i[r][0],t=i[r][3];try{o.notify(q(t)?t(n):n)}catch(s){e(s)}}}))}});var l=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},u=function(t,e,n){var i=null;try{q(n)&&(i=n())}catch(o){return l(o,!1)}return X(i)?i.then((function(){return l(t,e)}),(function(t){return l(t,!1)})):l(t,e)},d=function(t,e,n,i){var o=new c;return o.resolve(t),o.promise.then(e,n,i)},f=d;var p=function t(e){if(!q(e))throw o("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof t))return new t(e);var n=new c;return e((function(t){n.resolve(t)}),(function(t){n.reject(t)})),n.promise};return p.defer=function(){return new c},p.reject=function(t){var e=new c;return e.reject(t),e.promise},p.when=d,p.resolve=f,p.all=function(t){var e=new c,n=0,i=U(t)?[]:{};return $(t,(function(t,o){n++,d(t).then((function(t){i.hasOwnProperty(o)||(i[o]=t,--n||e.resolve(i))}),(function(t){i.hasOwnProperty(o)||e.reject(t)}))})),0===n&&e.resolve(i),e.promise},p}function Pi(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,o=!!n,r=o?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return r.supported=o,r}]}function Ei(){var t=10,e=i("$rootScope"),n=null,o=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,r,a,c){function u(t){t.currentScope.$$destroyed=!0}function d(t){9===l&&(t.$$childHead&&d(t.$$childHead),t.$$nextSibling&&d(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function f(){this.$id=C(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}f.prototype={constructor:f,$new:function(t,e){var n;return e=e||this,t?(n=new f).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=C(),this.$$ChildScope=null}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!=this)&&n.$on("$destroy",u),n},$watch:function(t,e,i,o){var r=a(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,i,r,t);var s=this,c=s.$$watchers,l={fn:e,last:w,get:r,exp:o||t,eq:!!i};return n=null,q(e)||(l.fn=D),c||(c=s.$$watchers=[]),c.unshift(l),S(this,1),function(){it(c,l)>=0&&S(s,-1),n=null}},$watchGroup:function(t,e){var n=new Array(t.length),i=new Array(t.length),o=[],r=this,a=!1,s=!0;if(!t.length){var c=!0;return r.$evalAsync((function(){c&&e(i,i,r)})),function(){c=!1}}if(1===t.length)return this.$watch(t[0],(function(t,o,r){i[0]=t,n[0]=o,e(i,t===o?i:n,r)}));function l(){a=!1,s?(s=!1,e(i,i,r)):e(i,n,r)}return $(t,(function(t,e){var s=r.$watch(t,(function(t,o){i[e]=t,n[e]=o,a||(a=!0,r.$evalAsync(l))}));o.push(s)})),function(){for(;o.length;)o.shift()()}},$watchCollection:function(t,e){g.$stateful=!0;var n,i,o,r=this,c=e.length>1,l=0,u=a(t,g),d=[],f={},p=!0,h=0;function g(t){var e,o,r,a;if(!V(n=t)){if(I(n))if(b(n)){i!==d&&(h=(i=d).length=0,l++),e=n.length,h!==e&&(l++,i.length=h=e);for(var c=0;c<e;c++)a=i[c],r=n[c],a!==a&&r!==r||a===r||(l++,i[c]=r)}else{for(o in i!==f&&(i=f={},h=0,l++),e=0,n)s.call(n,o)&&(e++,r=n[o],a=i[o],o in i?a!==a&&r!==r||a===r||(l++,i[o]=r):(h++,i[o]=r,l++));if(h>e)for(o in l++,i)s.call(n,o)||(h--,delete i[o])}else i!==n&&(i=n,l++);return l}}return this.$watch(u,(function(){if(p?(p=!1,e(n,n,r)):e(n,o,r),c)if(I(n))if(b(n)){o=new Array(n.length);for(var t=0;t<n.length;t++)o[t]=n[t]}else for(var i in o={},n)s.call(n,i)&&(o[i]=n[i]);else o=n}))},$digest:function(){var i,a,s,l,u,d,f,m,S,_,b=t,$=this,C=[];v("$digest"),c.$$checkUrlChange(),this===p&&null!==o&&(c.defer.cancel(o),x()),n=null;do{for(d=!1,m=$;h.length;){try{(_=h.shift()).scope.$eval(_.expression,_.locals)}catch(F){r(F)}n=null}t:do{if(l=m.$$watchers)for(u=l.length;u--;)try{if(i=l[u])if((a=(0,i.get)(m))===(s=i.last)||(i.eq?at(a,s):"number"===typeof a&&"number"===typeof s&&isNaN(a)&&isNaN(s))){if(i===n){d=!1;break t}}else d=!0,n=i,i.last=i.eq?ot(a,null):a,(0,i.fn)(a,s===w?a:s,m),b<5&&(C[S=4-b]||(C[S]=[]),C[S].push({msg:q(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:a,oldVal:s}))}catch(F){r(F)}if(!(f=m.$$watchersCount&&m.$$childHead||m!==$&&m.$$nextSibling))for(;m!==$&&!(f=m.$$nextSibling);)m=m.$parent}while(m=f);if((d||h.length)&&!b--)throw y(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,C)}while(d||h.length);for(y();g.length;)try{g.shift()()}catch(F){r(F)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&c.$$applicationDestroyed(),S(this,-this.$$watchersCount),this.$$listenerCount)_(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=D,this.$on=this.$watch=this.$watchGroup=function(){return D},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(t,e){return a(t)(this,e)},$evalAsync:function(t,e){p.$$phase||h.length||c.defer((function(){h.length&&p.$digest()})),h.push({scope:this,expression:a(t),locals:e})},$$postDigest:function(t){g.push(t)},$apply:function(t){try{v("$apply");try{return this.$eval(t)}finally{y()}}catch(e){r(e)}finally{try{p.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(t){var e=this;t&&m.push((function(){e.$eval(t)})),t=a(t),null===o&&(o=c.defer((function(){p.$apply(x)})))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var o=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,_(o,1,t))}},$emit:function(t,e){var n,i,o,a=[],s=this,c=!1,l={name:t,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=lt([l],arguments,1);do{for(n=s.$$listeners[t]||a,l.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,u)}catch(d){r(d)}else n.splice(i,1),i--,o--;if(c)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,i=n,o=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return a;for(var s,c,l,u=lt([a],arguments,1);i=o;){for(a.currentScope=i,c=0,l=(s=i.$$listeners[t]||[]).length;c<l;c++)if(s[c])try{s[c].apply(null,u)}catch(d){r(d)}else s.splice(c,1),c--,l--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var p=new f,h=p.$$asyncQueue=[],g=p.$$postDigestQueue=[],m=p.$$applyAsyncQueue=[];return p;function v(t){if(p.$$phase)throw e("inprog","{0} already in progress",p.$$phase);p.$$phase=t}function y(){p.$$phase=null}function S(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function _(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function w(){}function x(){for(;m.length;)try{m.shift()()}catch(t){r(t)}o=null}}]}function Ti(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return N(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return N(t)?(e=t,this):e},this.$get=function(){return function(n,i){var o,r=i?e:t;return""===(o=Ui(n).href)||o.match(r)?n:"unsafe:"+o}}}var Di=i("$sce"),Ai={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function ji(t){var e=[];return N(t)&&$(t,(function(t){e.push(function(t){if("self"===t)return t;if(R(t)){if(t.indexOf("***")>-1)throw Di("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=tt(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(z(t))return new RegExp("^"+t.source+"$");throw Di("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))})),e}function Li(){this.SCE_CONTEXTS=Ai;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=ji(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=ji(t)),e},this.$get=["$injector",function(n){var i=function(t){throw Di("unsafe","Attempting to use an unsafe value in a safe context.")};function o(t,e){return"self"===t?qi(e):!!t.exec(e.href)}function r(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}n.has("$sanitize")&&(i=n.get("$sanitize"));var a=r(),s={};return s[Ai.HTML]=r(a),s[Ai.CSS]=r(a),s[Ai.URL]=r(a),s[Ai.JS]=r(a),s[Ai.RESOURCE_URL]=r(s[Ai.URL]),{trustAs:function(t,e){var n=s.hasOwnProperty(t)?s[t]:null;if(!n)throw Di("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||V(e)||""===e)return e;if("string"!==typeof e)throw Di("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(n,r){if(null===r||V(r)||""===r)return r;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(n===Ai.RESOURCE_URL){if(function(n){var i,r,a=Ui(n.toString()),s=!1;for(i=0,r=t.length;i<r;i++)if(o(t[i],a)){s=!0;break}if(s)for(i=0,r=e.length;i<r;i++)if(o(e[i],a)){s=!1;break}return s}(r))return r;throw Di("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(n===Ai.HTML)return i(r);throw Di("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof a?t.$$unwrapTrustedValue():t}}}]}function Vi(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&l<8)throw Di("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=rt(Ai);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=A),i.parseAs=function(t,n){var o=e(n);return o.literal&&o.constant?o:e(n,(function(e){return i.getTrusted(t,e)}))};var o=i.parseAs,r=i.getTrusted,s=i.trustAs;return $(Ai,(function(t,e){var n=a(e);i[Xt("parse_as_"+n)]=function(e){return o(t,e)},i[Xt("get_trusted_"+n)]=function(e){return r(t,e)},i[Xt("trust_as_"+n)]=function(e){return s(t,e)}})),i}]}function Ni(){this.$get=["$window","$document",function(t,e){var n,i,o={},r=E((/android (\d+)/.exec(a((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),c=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,d=c.body&&c.body.style,f=!1,p=!1;if(d){for(var h in d)if(i=u.exec(h)){n=(n=i[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in d&&"webkit"),f=!(!("transition"in d)&&!(n+"Transition"in d)),p=!(!("animation"in d)&&!(n+"Animation"in d)),!r||f&&p||(f=R(d.webkitTransition),p=R(d.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||r<4||s),hasEvent:function(t){if("input"===t&&l<=11)return!1;if(V(o[t])){var e=c.createElement("div");o[t]="on"+t in e}return o[t]},csp:st(),vendorPrefix:n,transitions:f,animations:p,android:r}}]}tn=i("$compile");function Ii(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function o(r,a){o.totalPendingRequests++,R(r)&&!V(t.get(r))||(r=i.getTrustedResourceUrl(r));var s=e.defaults&&e.defaults.transformResponse;U(s)?s=s.filter((function(t){return t!==wn})):s===wn&&(s=null);var c={cache:t,transformResponse:s};return e.get(r,c).finally((function(){o.totalPendingRequests--})).then((function(e){return t.put(r,e.data),e.data}),(function(t){if(!a)throw tn("tpload","Failed to load template: {0} (HTTP status: {1} {2})",r,t.status,t.statusText);return n.reject(t)}))}return o.totalPendingRequests=0,o}]}function Oi(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={findBindings:function(t,e,n){var i=t.getElementsByClassName("ng-binding"),o=[];return $(i,(function(t){var i=S.element(t).data("$binding");i&&$(i,(function(i){n?new RegExp("(^|\\s)"+tt(e)+"(\\s|\\||$)").test(i)&&o.push(t):-1!=i.indexOf(e)&&o.push(t)}))})),o},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var r="["+i[o]+"model"+(n?"=":"*=")+'"'+e+'"]',a=t.querySelectorAll(r);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}};return i}]}function Ri(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,o){var r={};function a(a,s,c){q(a)||(c=s,s=a,a=D);var l,u=ut(arguments,3),d=N(c)&&!c,f=(d?i:n).defer(),p=f.promise;return l=e.defer((function(){try{f.resolve(a.apply(null,u))}catch(e){f.reject(e),o(e)}finally{delete r[p.$$timeoutId]}d||t.$apply()}),s),p.$$timeoutId=l,r[l]=f,p}return a.cancel=function(t){return!(!t||!(t.$$timeoutId in r))&&(r[t.$$timeoutId].reject("canceled"),delete r[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},a}]}var Bi=e.createElement("a"),Wi=Ui(t.location.href);function Ui(t){var e=t;return l&&(Bi.setAttribute("href",e),e=Bi.href),Bi.setAttribute("href",e),{href:Bi.href,protocol:Bi.protocol?Bi.protocol.replace(/:$/,""):"",host:Bi.host,search:Bi.search?Bi.search.replace(/^\?/,""):"",hash:Bi.hash?Bi.hash.replace(/^#/,""):"",hostname:Bi.hostname,port:Bi.port,pathname:"/"===Bi.pathname.charAt(0)?Bi.pathname:"/"+Bi.pathname}}function qi(t){var e=R(t)?Ui(t):t;return e.protocol===Wi.protocol&&e.host===Wi.host}function zi(){this.$get=j(t)}function Hi(t){var e=t[0]||{},n={},i="";function o(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,r,a,s,c,l=e.cookie||"";if(l!==i)for(t=(i=l).split("; "),n={},a=0;a<t.length;a++)(s=(r=t[a]).indexOf("="))>0&&(c=o(r.substring(0,s)),V(n[c])&&(n[c]=o(r.substring(s+1))));return n}}function Zi(){this.$get=Hi}function Yi(t){var e="Filter";function n(i,o){if(I(i)){var r={};return $(i,(function(t,e){r[e]=n(e,t)})),r}return t.factory(i+e,o)}this.register=n,this.$get=["$injector",function(t){return function(n){return t.get(n+e)}}],n("currency",Ki),n("date",uo),n("filter",Gi),n("json",fo),n("limitTo",go),n("lowercase",po),n("number",Qi),n("orderBy",mo),n("uppercase",ho)}function Gi(){return function(t,e,n){if(!b(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var o,r;switch(Ji(e)){case"function":o=e;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":o=function(t,e,n){var i=I(t)&&"$"in t;!0===e?e=at:q(e)||(e=function(t,e){return!V(t)&&(null===t||null===e?t===e:!(I(e)||I(t)&&!L(t))&&(t=a(""+t),e=a(""+e),-1!==t.indexOf(e)))});return function(o){return i&&!I(o)?Xi(o,t.$,e,!1):Xi(o,t,e,n)}}(e,n,r);break;default:return t}return Array.prototype.filter.call(t,o)}}function Xi(t,e,n,i,o){var r=Ji(t),a=Ji(e);if("string"===a&&"!"===e.charAt(0))return!Xi(t,e.substring(1),n,i);if(U(t))return t.some((function(t){return Xi(t,e,n,i)}));switch(r){case"object":var s;if(i){for(s in t)if("$"!==s.charAt(0)&&Xi(t[s],e,n,!0))return!0;return!o&&Xi(t,e,n,!1)}if("object"===a){for(s in e){var c=e[s];if(!q(c)&&!V(c)){var l="$"===s;if(!Xi(l?t:t[s],c,n,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Ji(t){return null===t?"null":typeof t}Hi.$inject=["$document"],Yi.$inject=["$provide"];function Ki(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return V(n)&&(n=e.CURRENCY_SYM),V(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:to(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Qi(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:to(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function to(t,e,n,i,o){if(!R(t)&&!B(t)||isNaN(t))return"";var r,a=!isFinite(t),s=!1,c=Math.abs(t)+"",l="";if(a)l="\u221e";else{(function(t,e,n,i){var o=t.d,r=o.length-t.i,a=(e=V(e)?Math.min(Math.max(n,r),i):+e)+t.i,s=o[a];if(a>0)o.splice(a);else{t.i=1,o.length=a=e+1;for(var c=0;c<a;c++)o[c]=0}for(s>=5&&o[a-1]++;r<e;r++)o.push(0);var l=o.reduceRight((function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)}),0);l&&(o.unshift(l),t.i++)})(r=function(t){var e,n,i,o,r,a=0;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;"0"==t.charAt(i);i++);if(i==(r=t.length))e=[0],n=1;else{for(r--;"0"==t.charAt(r);)r--;for(n-=i,e=[],o=0;i<=r;i++,o++)e[o]=+t.charAt(i)}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{d:e,e:a,i:n}}(c),o,e.minFrac,e.maxFrac);var u=r.d,d=r.i,f=r.e,p=[];for(s=u.reduce((function(t,e){return t&&!e}),!0);d<0;)u.unshift(0),d++;d>0?p=u.splice(d,u.length):(p=u,u=[0]);var h=[];for(u.length>=e.lgSize&&h.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)h.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&h.unshift(u.join("")),l=h.join(n),p.length&&(l+=i+p.join("")),f&&(l+="e+"+f)}return t<0&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function eo(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function no(t,e,n,i){return n=n||0,function(o){var r=o["get"+t]();return(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),eo(r,e,i)}}function io(t,e){return function(n,i){var o=n["get"+t]();return i[c(e?"SHORT"+t:t)][o]}}function oo(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function ro(t){return function(e){var n,i=oo(e.getFullYear()),o=+(n=e,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+i;return eo(1+Math.round(o/6048e5),t)}}function ao(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}Ki.$inject=["$locale"],Qi.$inject=["$locale"];var so={yyyy:no("FullYear",4),yy:no("FullYear",2,0,!0),y:no("FullYear",1),MMMM:io("Month"),MMM:io("Month",!0),MM:no("Month",2,1),M:no("Month",1,1),dd:no("Date",2),d:no("Date",1),HH:no("Hours",2),H:no("Hours",1),hh:no("Hours",2,-12),h:no("Hours",1,-12),mm:no("Minutes",2),m:no("Minutes",1),ss:no("Seconds",2),s:no("Seconds",1),sss:no("Milliseconds",3),EEEE:io("Day"),EEE:io("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var i=-1*n,o=i>=0?"+":"";return o+=eo(Math[i>0?"floor":"ceil"](i/60),2)+eo(Math.abs(i%60),2)},ww:ro(2),w:ro(1),G:ao,GG:ao,GGG:ao,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},co=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,lo=/^\-?\d+$/;function uo(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var r,a,s="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,R(n)&&(n=lo.test(n)?E(n):function(t){var n;if(n=t.match(e)){var i=new Date(0),o=0,r=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(o=E(n[9]+n[10]),r=E(n[9]+n[11])),a.call(i,E(n[1]),E(n[2])-1,E(n[3]));var c=E(n[4]||0)-o,l=E(n[5]||0)-r,u=E(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,c,l,u,d),i}return t}(n)),B(n)&&(n=new Date(n)),!W(n)||!isFinite(n.getTime()))return n;for(;i;)(a=co.exec(i))?i=(c=lt(c,a,1)).pop():(c.push(i),i=null);var l=n.getTimezoneOffset();return o&&(l=mt(o,l),n=vt(n,o,!0)),$(c,(function(e){s+=(r=so[e])?r(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function fo(){return function(t,e){return V(e)&&(e=2),pt(t,e)}}uo.$inject=["$locale"];var po=j(a),ho=j(c);function go(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):E(e),isNaN(e)?t:(B(t)&&(t=t.toString()),U(t)||R(t)?(n=(n=!n||isNaN(n)?0:E(n))<0?Math.max(0,t.length+n):n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function mo(t){return function(i,o,r){if(!b(i))return i;U(o)||(o=[o]),0===o.length&&(o=["+"]);var a=function(e,n){return n=n?-1:1,e.map((function(e){var i=1,o=A;if(q(e))o=e;else if(R(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(o=t(e)).constant)){var r=o();o=function(t){return t[r]}}return{get:o,descending:i*n}}))}(o,r);a.push({get:function(){return{}},descending:r?-1:1});var s=Array.prototype.map.call(i,(function(t,n){return{value:t,predicateValues:a.map((function(i){return function(t,n){var i=typeof t;null===t?(i="string",t="null"):"string"===i?t=t.toLowerCase():"object"===i&&(t=function(t,n){if("function"===typeof t.valueOf&&e(t=t.valueOf()))return t;if(L(t)&&e(t=t.toString()))return t;return n}(t,n));return{value:t,type:i}}(i.get(t),n)}))}}));return s.sort((function(t,e){for(var i=0,o=0,r=a.length;o<r&&!(i=n(t.predicateValues[o],e.predicateValues[o])*a[o].descending);++o);return i})),i=s.map((function(t){return t.value}))};function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function n(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}}function vo(t){return q(t)&&(t={link:t}),t.restrict=t.restrict||"AC",j(t)}mo.$inject=["$parse"];var yo=j({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===m.call(e.prop("href"))?"xlink:href":"href";e.on("click",(function(t){e.attr(n)||t.preventDefault()}))}}}}),So={};$(we,(function(t,e){if("multiple"!=t){var n=on("ng-"+e),i=o;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[n]&&o(t,0,i)}),So[n]=function(){return{restrict:"A",priority:100,link:i}}}function o(t,i,o){t.$watch(o[n],(function(t){o.$set(e,!!t)}))}})),$(Ce,(function(t,e){So[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(o);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],(function(t){i.$set(e,t)}))}}}})),$(["src","srcset","href"],(function(t){var e=on("ng-"+t);So[e]=function(){return{priority:99,link:function(n,i,o){var r=t,a=t;"href"===t&&"[object SVGAnimatedString]"===m.call(i.prop("href"))&&(a="xlinkHref",o.$attr[a]="xlink:href",r=null),o.$observe(e,(function(e){e?(o.$set(a,e),l&&r&&i.prop(r,o[a])):"href"===t&&o.$set(a,null)}))}}}}));var _o={$addControl:D,$$renameControl:function(t,e){t.$name=e},$removeControl:D,$setValidity:D,$setDirty:D,$setPristine:D,$setSubmitted:D},bo="ng-submitted";function $o(t,e,i,o,r){var a=this,s=[];a.$error={},a.$$success={},a.$pending=n,a.$name=r(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=_o,a.$rollbackViewValue=function(){$(s,(function(t){t.$rollbackViewValue()}))},a.$commitViewValue=function(){$(s,(function(t){t.$commitViewValue()}))},a.$addControl=function(t){Lt(t.$name,"input"),s.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],$(a.$pending,(function(e,n){a.$setValidity(n,null,t)})),$(a.$error,(function(e,n){a.$setValidity(n,null,t)})),$(a.$$success,(function(e,n){a.$setValidity(n,null,t)})),it(s,t),t.$$parentForm=_o},br({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(it(i,n),0===i.length&&delete t[e])},$animate:o}),a.$setDirty=function(){o.removeClass(t,dr),o.addClass(t,fr),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){o.setClass(t,dr,fr+" "+bo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,$(s,(function(t){t.$setPristine()}))},a.$setUntouched=function(){$(s,(function(t){t.$setUntouched()}))},a.$setSubmitted=function(){o.addClass(t,bo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}$o.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var wo=function(t){return["$timeout","$parse",function(e,i){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:$o,compile:function(i,r){i.addClass(dr).addClass(lr);var a=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,i,r,s){var c=s[0];if(!("action"in r)){var l=function(e){t.$apply((function(){c.$commitViewValue(),c.$setSubmitted()})),e.preventDefault()};qt(i[0],"submit",l),i.on("$destroy",(function(){e((function(){zt(i[0],"submit",l)}),0,!1)}))}(s[1]||c.$$parentForm).$addControl(c);var u=a?o(c.$name):D;a&&(u(t,c),r.$observe(a,(function(e){c.$name!==e&&(u(t,n),c.$$parentForm.$$renameControl(c,e),(u=o(c.$name))(t,c))}))),i.on("$destroy",(function(){c.$$parentForm.$removeControl(c),u(t,n),M(c,_o)}))}}}};function o(t){return""===t?i('this[""]').assign:i(t).assign||D}}]},xo=wo(),Co=wo(!0),Fo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,ko=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Mo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Po=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Eo=/^(\d{4})-(\d{2})-(\d{2})$/,To=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Do=/^(\d{4})-W(\d\d)$/,Ao=/^(\d{4})-(\d\d)$/,jo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Lo=It();$("date,datetime-local,month,time,week".split(","),(function(t){Lo[t]=!0}));var Vo={text:function(t,e,n,i,o,r){Io(t,e,n,i,o,r),No(i)},date:Ro("date",Eo,Oo(Eo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ro("datetimelocal",To,Oo(To,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ro("time",jo,Oo(jo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ro("week",Do,(function(t,e){if(W(t))return t;if(R(t)){Do.lastIndex=0;var n=Do.exec(t);if(n){var i=+n[1],o=+n[2],r=0,a=0,s=0,c=0,l=oo(i),u=7*(o-1);return e&&(r=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),c=e.getMilliseconds()),new Date(i,0,l.getDate()+u,r,a,s,c)}}return NaN}),"yyyy-Www"),month:Ro("month",Ao,Oo(Ao,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,o,r,a){if(Bo(t,e,i,o),Io(t,e,i,o,r,a),o.$$parserName="number",o.$parsers.push((function(t){return o.$isEmpty(t)?null:Po.test(t)?parseFloat(t):n})),o.$formatters.push((function(t){if(!o.$isEmpty(t)){if(!B(t))throw mr("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})),N(i.min)||i.ngMin){var s;o.$validators.min=function(t){return o.$isEmpty(t)||V(s)||t>=s},i.$observe("min",(function(t){N(t)&&!B(t)&&(t=parseFloat(t,10)),s=B(t)&&!isNaN(t)?t:n,o.$validate()}))}if(N(i.max)||i.ngMax){var c;o.$validators.max=function(t){return o.$isEmpty(t)||V(c)||t<=c},i.$observe("max",(function(t){N(t)&&!B(t)&&(t=parseFloat(t,10)),c=B(t)&&!isNaN(t)?t:n,o.$validate()}))}},url:function(t,e,n,i,o,r){Io(t,e,n,i,o,r),No(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||ko.test(n)}},email:function(t,e,n,i,o,r){Io(t,e,n,i,o,r),No(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Mo.test(n)}},radio:function(t,e,n,i){V(n.name)&&e.attr("name",C());e.on("click",(function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)})),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,o,r,a,s){var c=Wo(s,t,"ngTrueValue",n.ngTrueValue,!0),l=Wo(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",(function(t){i.$setViewValue(e[0].checked,t&&t.type)})),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push((function(t){return at(t,c)})),i.$parsers.push((function(t){return t?c:l}))},hidden:D,button:D,submit:D,reset:D,file:D};function No(t){t.$formatters.push((function(e){return t.$isEmpty(e)?e:e.toString()}))}function Io(t,e,n,i,o,r){var s,c=a(e[0].type);if(!o.android){var l=!1;e.on("compositionstart",(function(t){l=!0})),e.on("compositionend",(function(){l=!1,u()}))}var u=function(t){if(s&&(r.defer.cancel(s),s=null),!l){var o=e.val(),a=t&&t.type;"password"===c||n.ngTrim&&"false"===n.ngTrim||(o=Q(o)),(i.$viewValue!==o||""===o&&i.$$hasNativeValidators)&&i.$setViewValue(o,a)}};if(o.hasEvent("input"))e.on("input",u);else{var d=function(t,e,n){s||(s=r.defer((function(){s=null,e&&e.value===n||u(t)})))};e.on("keydown",(function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||d(t,this,this.value)})),o.hasEvent("paste")&&e.on("paste cut",d)}e.on("change",u),Lo[c]&&i.$$hasNativeValidators&&c===n.type&&e.on("keydown wheel mousedown",(function(t){if(!s){var e=this.validity,n=e.badInput,i=e.typeMismatch;s=r.defer((function(){s=null,e.badInput===n&&e.typeMismatch===i||u(t)}))}})),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function Oo(t,e){return function(n,i){var o,r;if(W(n))return n;if(R(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Fo.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),r=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},$(o,(function(t,n){n<e.length&&(r[e[n]]=+t)})),new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0)}return NaN}}function Ro(t,e,i,o){return function(r,a,s,c,l,u,d){Bo(r,a,s,c),Io(0,a,s,c,l,u);var f,p,h,g=c&&c.$options&&c.$options.timezone;(c.$$parserName=t,c.$parsers.push((function(t){if(c.$isEmpty(t))return null;if(e.test(t)){var o=i(t,f);return g&&(o=vt(o,g)),o}return n})),c.$formatters.push((function(t){if(t&&!W(t))throw mr("datefmt","Expected `{0}` to be a date",t);return m(t)?((f=t)&&g&&(f=vt(f,g,!0)),d("date")(t,o,g)):(f=null,"")})),N(s.min)||s.ngMin)&&(c.$validators.min=function(t){return!m(t)||V(p)||i(t)>=p},s.$observe("min",(function(t){p=v(t),c.$validate()})));(N(s.max)||s.ngMax)&&(c.$validators.max=function(t){return!m(t)||V(h)||i(t)<=h},s.$observe("max",(function(t){h=v(t),c.$validate()})));function m(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function v(t){return N(t)&&!W(t)?i(t)||n:t}}}function Bo(t,e,i,o){var a=e[0];(o.$$hasNativeValidators=I(a.validity))&&o.$parsers.push((function(t){var i=e.prop(r)||{};return i.badInput&&!i.typeMismatch?n:t}))}function Wo(t,e,n,i,o){var r;if(N(i)){if(!(r=t(i)).constant)throw mr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return r(e)}return o}var Uo=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,r,s,c){c[0]&&(Vo[a(s.type)]||Vo.text)(o,r,s,c[0],e,t,n,i)}}}}],qo=/^(true|false|\d+)$/,zo=function(){return{restrict:"A",priority:100,compile:function(t,e){return qo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,(function(t){n.$set("value",t)}))}}}},Ho=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,(function(t){n.textContent=V(t)?"":t}))}}}}],Zo=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,o){var r=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,r.expressions),i=i[0],o.$observe("ngBindTemplate",(function(t){i.textContent=V(t)?"":t}))}}}}],Yo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,o){var r=e(o.ngBindHtml),a=e(o.ngBindHtml,(function(e){return t.valueOf(e)}));return n.$$addBindingClass(i),function(e,i,o){n.$$addBindingInfo(i,o.ngBindHtml),e.$watch(a,(function(){var n=r(e);i.html(t.getTrustedHtml(n)||"")}))}}}}],Go=j({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push((function(){t.$eval(n.ngChange)}))}});function Xo(t,e){return t="ngClass"+t,["$animate",function(n){return{restrict:"AC",link:function(r,a,s){var c;function l(t){var e=u(t,1);s.$addClass(e)}function u(t,e){var n=a.data("$classCounts")||It(),i=[];return $(t,(function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))})),a.data("$classCounts",n),i.join(" ")}function d(t){if(!0===e||r.$index%2===e){var s=o(t||[]);if(c){if(!at(t,c)){!function(t,e){var o=i(e,t),r=i(t,e);o=u(o,1),r=u(r,-1),o&&o.length&&n.addClass(a,o),r&&r.length&&n.removeClass(a,r)}(o(c),s)}}else l(s)}c=U(t)?t.map((function(t){return rt(t)})):rt(t)}r.$watch(s[t],d,!0),s.$observe("class",(function(e){d(r.$eval(s[t]))})),"ngClass"!==t&&r.$watch("$index",(function(n,i){var a=1&n;if(a!==(1&i)){var c=o(r.$eval(s[t]));a===e?l(c):function(t){var e=u(t,-1);s.$removeClass(e)}(c)}}))}};function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var o=t[i],r=0;r<e.length;r++)if(o==e[r])continue t;n.push(o)}return n}function o(t){var e=[];return U(t)?($(t,(function(t){e=e.concat(o(t))})),e):R(t)?t.split(" "):I(t)?($(t,(function(t,n){t&&(e=e.concat(n.split(" ")))})),e):t}}]}var Jo=Xo("",!0),Ko=Xo("Odd",0),Qo=Xo("Even",1),tr=vo({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),er=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],nr={},ir={blur:!0,focus:!0};$("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(t){var e=on("ng-"+t);nr[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(o,r){var a=n(r[e],null,!0);return function(e,n){n.on(t,(function(n){var o=function(){a(e,{$event:n})};ir[t]&&i.$$phase?e.$evalAsync(o):e.$apply(o)}))}}}}]}));var or=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,r,a){var s,c,l;n.$watch(o.ngIf,(function(n){n?c||a((function(n,r){c=r,n[n.length++]=e.createComment(" end ngIf: "+o.ngIf+" "),s={clone:n},t.enter(n,i.parent(),i)})):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=Nt(s.clone),t.leave(l).then((function(){l=null})),s=null))}))}}}],rr=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:S.noop,compile:function(i,o){var r=o.ngInclude||o.src,a=o.onload||"",s=o.autoscroll;return function(i,o,c,l,u){var d,f,p,h=0,g=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then((function(){f=null})),f=p,p=null)};i.$watch(r,(function(r){var c=function(){!N(s)||s&&!i.$eval(s)||e()},f=++h;r?(t(r,!0).then((function(t){if(!i.$$destroyed&&f===h){var e=i.$new();l.template=t;var s=u(e,(function(t){g(),n.enter(t,null,o).then(c)}));p=s,(d=e).$emit("$includeContentLoaded",r),i.$eval(a)}}),(function(){i.$$destroyed||f===h&&(g(),i.$emit("$includeContentError",r))})),i.$emit("$includeContentRequested",r)):(g(),l.template=null)}))}}}}],ar=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,o,r){if(/SVG/.test(i[0].toString()))return i.empty(),void t(oe(r.template,e).childNodes)(n,(function(t){i.append(t)}),{futureParentElement:i});i.html(r.template),t(i.contents())(n)}}}],sr=vo({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),cr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,o){var r=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,s=a?Q(r):r;o.$parsers.push((function(t){if(!V(t)){var e=[];return t&&$(t.split(s),(function(t){t&&e.push(a?Q(t):t)})),e}})),o.$formatters.push((function(t){return U(t)?t.join(r):n})),o.$isEmpty=function(t){return!t||!t.length}}}},lr="ng-valid",ur="ng-invalid",dr="ng-pristine",fr="ng-dirty",pr="ng-untouched",hr="ng-touched",gr="ng-pending",mr=i("ngModel"),vr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,o,r,a,s,c,l,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=u(i.name||"",!1)(t),this.$$parentForm=_o;var d,f=r(i.ngModel),p=f.assign,h=f,g=p,m=null,v=this;this.$$setOptions=function(t){if(v.$options=t,t&&t.getterSetter){var e=r(i.ngModel+"()"),n=r(i.ngModel+"($$$p)");h=function(t){var n=f(t);return q(n)&&(n=e(t)),n},g=function(t,e){q(f(t))?n(t,{$$$p:v.$modelValue}):p(t,v.$modelValue)}}else if(!f.assign)throw mr("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,yt(o))},this.$render=D,this.$isEmpty=function(t){return V(t)||""===t||null===t||t!==t};var y=0;br({ctrl:this,$element:o,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,a.removeClass(o,fr),a.addClass(o,dr)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,a.removeClass(o,dr),a.addClass(o,fr),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,a.setClass(o,pr,hr)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,a.setClass(o,hr,pr)},this.$rollbackViewValue=function(){s.cancel(m),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!B(v.$modelValue)||!isNaN(v.$modelValue)){var t=v.$$lastCommittedViewValue,e=v.$$rawModelValue,i=v.$valid,o=v.$modelValue,r=v.$options&&v.$options.allowInvalid;v.$$runValidators(e,t,(function(t){r||i===t||(v.$modelValue=t?e:n,v.$modelValue!==o&&v.$$writeModelToScope())}))}},this.$$runValidators=function(t,e,i){var o,r,a=++y;(function(){var t=v.$$parserName||"parse";if(!V(d))return d||($(v.$validators,(function(t,e){s(e,null)})),$(v.$asyncValidators,(function(t,e){s(e,null)}))),s(t,d),d;s(t,null);return!0})()?!function(){var n=!0;if($(v.$validators,(function(i,o){var r=i(t,e);n=n&&r,s(o,r)})),!n)return $(v.$asyncValidators,(function(t,e){s(e,null)})),!1;return!0}()?c(!1):(o=[],r=!0,$(v.$asyncValidators,(function(i,a){var c=i(t,e);if(!X(c))throw mr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",c);s(a,n),o.push(c.then((function(){s(a,!0)}),(function(t){r=!1,s(a,!1)})))})),o.length?l.all(o).then((function(){c(r)}),D):c(!0)):c(!1);function s(t,e){a===y&&v.$setValidity(t,e)}function c(t){a===y&&i(t)}},this.$commitViewValue=function(){var t=v.$viewValue;s.cancel(m),(v.$$lastCommittedViewValue!==t||""===t&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=t,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=v.$$lastCommittedViewValue;if(d=!V(e)||n)for(var i=0;i<v.$parsers.length;i++)if(V(e=v.$parsers[i](e))){d=!1;break}B(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=h(t));var o=v.$modelValue,r=v.$options&&v.$options.allowInvalid;function a(){v.$modelValue!==o&&v.$$writeModelToScope()}v.$$rawModelValue=e,r&&(v.$modelValue=e,a()),v.$$runValidators(e,v.$$lastCommittedViewValue,(function(t){r||(v.$modelValue=t?e:n,a())}))},this.$$writeModelToScope=function(){g(t,v.$modelValue),$(v.$viewChangeListeners,(function(t){try{t()}catch(n){e(n)}}))},this.$setViewValue=function(t,e){v.$viewValue=t,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,o=v.$options;o&&N(o.debounce)&&(B(n=o.debounce)?i=n:B(n[e])?i=n[e]:B(n.default)&&(i=n.default)),s.cancel(m),i?m=s((function(){v.$commitViewValue()}),i):c.$$phase?v.$commitViewValue():t.$apply((function(){v.$commitViewValue()}))},t.$watch((function(){var e=h(t);if(e!==v.$modelValue&&(v.$modelValue===v.$modelValue||e===e)){v.$modelValue=v.$$rawModelValue=e,d=n;for(var i=v.$formatters,o=i.length,r=e;o--;)r=i[o](r);v.$viewValue!==r&&(v.$viewValue=v.$$lastCommittedViewValue=r,v.$render(),v.$$runValidators(e,r,D))}return e}))}],yr=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:vr,priority:1,compile:function(e){return e.addClass(dr).addClass(pr).addClass(lr),{pre:function(t,e,n,i){var o=i[0],r=i[1]||o.$$parentForm;o.$$setOptions(i[2]&&i[2].$options),r.$addControl(o),n.$observe("name",(function(t){o.$name!==t&&o.$$parentForm.$$renameControl(o,t)})),t.$on("$destroy",(function(){o.$$parentForm.$removeControl(o)}))},post:function(e,n,i,o){var r=o[0];r.$options&&r.$options.updateOn&&n.on(r.$options.updateOn,(function(t){r.$$debounceViewValueCommit(t&&t.type)})),n.on("blur",(function(n){r.$touched||(t.$$phase?e.$evalAsync(r.$setTouched):e.$apply(r.$setTouched))}))}}}}}],Sr=/(\s+|^)default(\s+|$)/,_r=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=ot(t.$eval(e.ngModelOptions)),N(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Q(this.$options.updateOn.replace(Sr,(function(){return n.$options.updateOnDefault=!0," "})))):this.$options.updateOnDefault=!0}]}};function br(t){var e=t.ctrl,i=t.$element,o={},r=t.set,a=t.unset,s=t.$animate;function c(t,e){e&&!o[t]?(s.addClass(i,t),o[t]=!0):!e&&o[t]&&(s.removeClass(i,t),o[t]=!1)}function l(t,e){t=t?"-"+Et(t,"-"):"",c(lr+t,!0===e),c(ur+t,!1===e)}o["ng-invalid"]=!(o[lr]=i.hasClass(lr)),e.$setValidity=function(t,i,o){V(i)?function(t,n,i){e[t]||(e[t]={});r(e[t],n,i)}("$pending",t,o):function(t,i,o){e[t]&&a(e[t],i,o);$r(e[t])&&(e[t]=n)}("$pending",t,o);G(i)?i?(a(e.$error,t,o),r(e.$$success,t,o)):(r(e.$error,t,o),a(e.$$success,t,o)):(a(e.$error,t,o),a(e.$$success,t,o));e.$pending?(c(gr,!0),e.$valid=e.$invalid=n,l("",null)):(c(gr,!1),e.$valid=$r(e.$error),e.$invalid=!e.$valid,l("",e.$valid));var s;s=e.$pending&&e.$pending[t]?n:!e.$error[t]&&(!!e.$$success[t]||null);l(t,s),e.$$parentForm.$setValidity(t,s,e)}}function $r(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var wr=vo({terminal:!0,priority:1e3}),xr=i("ngOptions"),Cr=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Fr=["$compile","$parse",function(t,n){var i=e.createElement("option"),o=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=D},post:function(e,r,s,c){var l=c[1];if(l){for(var d,f=c[0],p=s.multiple,h=0,g=r.children(),m=g.length;h<m;h++)if(""===g[h].value){d=g.eq(h);break}var v,y=!!d,_=u(i.cloneNode(!1));_.val("?");var w=function(t,e,i){var o=t.match(Cr);if(!o)throw xr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,yt(e));var r=o[5]||o[7],a=o[6],s=/ as /.test(o[0])&&o[1],c=o[9],l=n(o[2]?o[1]:r),u=s&&n(s)||l,d=c&&n(c),f=c?function(t,e){return d(i,e)}:function(t){return Ee(t)},p=function(t,e){return f(t,_(t,e))},h=n(o[2]||o[1]),g=n(o[3]||""),m=n(o[4]||""),v=n(o[8]),y={},_=a?function(t,e){return y[a]=e,y[r]=t,y}:function(t){return y[r]=t,y};function $(t,e,n,i,o){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=o}function w(t){var e;if(!a&&b(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:c,getTrackByValue:p,getWatchables:n(v,(function(t){for(var e=[],n=w(t=t||[]),r=n.length,a=0;a<r;a++){var s=t===n?a:n[a],c=(t[s],_(t[s],s)),l=f(t[s],c);if(e.push(l),o[2]||o[1]){var u=h(i,c);e.push(u)}if(o[4]){var d=m(i,c);e.push(d)}}return e})),getOptions:function(){for(var t=[],e={},n=v(i)||[],o=w(n),r=o.length,a=0;a<r;a++){var s=n===o?a:o[a],l=n[s],d=_(l,s),y=u(i,d),b=f(y,d),x=new $(b,y,h(i,d),g(i,d),m(i,d));t.push(x),e[b]=x}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[p(t)]},getViewValueFromOption:function(t){return c?S.copy(t.viewValue):t.viewValue}}}}}(s.ngOptions,r,e),x=function(){y||d.remove()},C=function(){_.remove()};p?(l.$isEmpty=function(t){return!t||0===t.length},f.writeValue=function(t){v.items.forEach((function(t){t.element.selected=!1})),t&&t.forEach((function(t){var e=v.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)}))},f.readValue=function(){var t=r.val()||[],e=[];return $(t,(function(t){var n=v.selectValueMap[t];n&&!n.disabled&&e.push(v.getViewValueFromOption(n))})),e},w.trackBy&&e.$watchCollection((function(){if(U(l.$viewValue))return l.$viewValue.map((function(t){return w.getTrackByValue(t)}))}),(function(){l.$render()}))):(f.writeValue=function(t){var e=v.getOptionFromViewValue(t);e&&!e.disabled?(r[0].value!==e.selectValue&&(C(),x(),r[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||y?(C(),y||r.prepend(d),r.val(""),d.prop("selected",!0),d.attr("selected",!0)):(x(),r.prepend(_),r.val("?"),_.prop("selected",!0),_.attr("selected",!0))},f.readValue=function(){var t=v.selectValueMap[r.val()];return t&&!t.disabled?(x(),C(),v.getViewValueFromOption(t)):null},w.trackBy&&e.$watch((function(){return w.getTrackByValue(l.$viewValue)}),(function(){l.$render()}))),y?(d.remove(),t(d)(e),d.removeClass("ng-scope")):d=u(i.cloneNode(!1)),P(),e.$watchCollection(w.getWatchables,P)}function F(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function k(t,e,n,i){var o;return e&&a(e.nodeName)===n?o=e:(o=i.cloneNode(!1),e?t.insertBefore(o,e):t.appendChild(o)),o}function M(t){for(var e;t;)e=t.nextSibling,be(t),t=e}function P(){var t=v&&f.readValue();v=w.getOptions();var e={},n=r[0].firstChild;if(y&&r.prepend(d),n=function(t){var e=d&&d[0],n=_&&_[0];if(e||n)for(;t&&(t===e||t===n||8===t.nodeType||"option"===nt(t)&&""===t.value);)t=t.nextSibling;return t}(n),v.items.forEach((function(t){var a,s,c;t.group?((a=e[t.group])||(s=k(r[0],n,"optgroup",o),n=s.nextSibling,s.label=t.group,a=e[t.group]={groupElement:s,currentOptionElement:s.firstChild}),F(t,c=k(a.groupElement,a.currentOptionElement,"option",i)),a.currentOptionElement=c.nextSibling):(F(t,c=k(r[0],n,"option",i)),n=c.nextSibling)})),Object.keys(e).forEach((function(t){M(e[t].currentOptionElement)})),M(n),l.$render(),!l.$isEmpty(t)){var a=f.readValue();(w.trackBy||p?at(t,a):t===a)||(l.$setViewValue(a),l.$render())}}}}}}],kr=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(r,s,c){var l,u=c.count,d=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,p=r.$eval(d)||{},h={},g=e.startSymbol(),m=e.endSymbol(),v=g+u+"-"+f+m,y=S.noop;function _(t){s.text(t||"")}$(c,(function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+a(n[2]);p[i]=s.attr(c.$attr[e])}})),$(p,(function(t,n){h[n]=e(t.replace(i,v))})),r.$watch(u,(function(e){var i=parseFloat(e),o=isNaN(i);if(o||i in p||(i=t.pluralCat(i-f)),i!==l&&!(o&&B(l)&&isNaN(l))){y();var a=h[i];V(a)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),y=D,_()):y=r.$watch(a,_),l=i}}))}}}],Mr=["$parse","$animate",function(t,o){var r="$$NG_REMOVED",a=i("ngRepeat"),c=function(t,e,n,i,o,r,a){t[n]=i,o&&(t[o]=r),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},u=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var f=d.ngRepeat,p=e.createComment(" end ngRepeat: "+f+" "),h=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=h[1],m=h[2],v=h[3],y=h[4];if(!(h=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var S,_,w,x,C=h[3]||h[1],F=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var k={$id:Ee};return y?S=t(y):(w=function(t,e){return Ee(e)},x=function(t){return t}),function(t,e,i,d,h){S&&(_=function(e,n,i){return F&&(k[F]=e),k[C]=n,k.$index=i,S(t,k)});var g=It();t.$watchCollection(m,(function(i){var d,m,y,S,k,M,P,E,T,D,A,j,L=e[0],V=It();if(v&&(t[v]=i),b(i))T=i,E=_||w;else for(var N in E=_||x,T=[],i)s.call(i,N)&&"$"!==N.charAt(0)&&T.push(N);for(S=T.length,A=new Array(S),d=0;d<S;d++)if(k=i===T?d:T[d],M=i[k],P=E(k,M,d),g[P])D=g[P],delete g[P],V[P]=D,A[d]=D;else{if(V[P])throw $(A,(function(t){t&&t.scope&&(g[t.id]=t)})),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,P,M);A[d]={id:P,scope:n,clone:n},V[P]=!0}for(var I in g){if(j=Nt((D=g[I]).clone),o.leave(j),j[0].parentNode)for(d=0,m=j.length;d<m;d++)j[d][r]=!0;D.scope.$destroy()}for(d=0;d<S;d++)if(k=i===T?d:T[d],M=i[k],(D=A[d]).scope){y=L;do{y=y.nextSibling}while(y&&y[r]);l(D)!=y&&o.move(Nt(D.clone),null,L),L=u(D),c(D.scope,d,C,M,F,k,S)}else h((function(t,e){D.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,o.enter(t,null,L),L=n,D.clone=t,V[D.id]=D,c(D.scope,d,C,M,F,k,S)}));g=V}))}}}}],Pr="ng-hide",Er="ng-hide-animate",Tr=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,(function(e){t[e?"removeClass":"addClass"](n,Pr,{tempClasses:Er})}))}}}],Dr=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,(function(e){t[e?"addClass":"removeClass"](n,Pr,{tempClasses:Er})}))}}}],Ar=vo((function(t,e,n){t.$watch(n.ngStyle,(function(t,n){n&&t!==n&&$(n,(function(t,n){e.css(n,"")})),t&&e.css(t)}),!0)})),jr=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,r){var a=o.ngSwitch||o.on,s=[],c=[],l=[],u=[],d=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,(function(n){var i,o;for(i=0,o=l.length;i<o;++i)t.cancel(l[i]);for(l.length=0,i=0,o=u.length;i<o;++i){var a=Nt(c[i].clone);u[i].$destroy(),(l[i]=t.leave(a)).then(d(l,i))}c.length=0,u.length=0,(s=r.cases["!"+n]||r.cases["?"])&&$(s,(function(n){n.transclude((function(i,o){u.push(o);var r=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:i};c.push(a),t.enter(i,r.parent(),r)}))}))}))}}}],Lr=vo({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:o,element:e})}}),Vr=vo({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:e})}}),Nr=vo({restrict:"EAC",link:function(t,e,n,o,r){if(!r)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",yt(e));r((function(t){e.empty(),e.append(t)}))}}),Ir=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,o=e[0].text;t.put(i,o)}}}}],Or={$setViewValue:D,$render:D};var Rr=["$element","$scope","$attrs",function(t,i,o){var r=this,a=new Te;r.ngModelCtrl=Or,r.unknownOption=u(e.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Ee(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},i.$on("$destroy",(function(){r.renderUnknownOption=D})),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(t,e){if(8!==e[0].nodeType){Lt(t,'"option value"'),""===t&&(r.emptyOption=e);var n,i=a.get(t)||0;a.put(t,i+1),r.ngModelCtrl.$render(),(n=e)[0].hasAttribute("selected")&&(n[0].selected=!0)}},r.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.remove(t),""===t&&(r.emptyOption=n)):a.put(t,e-1))},r.hasOption=function(t){return!!a.get(t)},r.registerOption=function(t,e,n,i,o){var a;i?n.$observe("value",(function(t){N(a)&&r.removeOption(a),a=t,r.addOption(t,e)})):o?t.$watch(o,(function(t,i){n.$set("value",t),i!==t&&r.removeOption(i),r.addOption(t,e)})):r.addOption(n.value,e);e.on("$destroy",(function(){r.removeOption(n.value),r.ngModelCtrl.$render()}))}}],Br=function(){return{restrict:"E",require:["select","?ngModel"],controller:Rr,priority:1,link:{pre:function(t,e,n,i){var o=i[1];if(!o)return;var r=i[0];if(r.ngModelCtrl=o,e.on("change",(function(){t.$apply((function(){o.$setViewValue(r.readValue())}))})),n.multiple){r.readValue=function(){var t=[];return $(e.find("option"),(function(e){e.selected&&t.push(e.value)})),t},r.writeValue=function(t){var n=new Te(t);$(e.find("option"),(function(t){t.selected=N(n.get(t.value))}))};var a,s=NaN;t.$watch((function(){s!==o.$viewValue||at(a,o.$viewValue)||(a=rt(o.$viewValue),o.$render()),s=o.$viewValue})),o.$isEmpty=function(t){return!t||0===t.length}}},post:function(t,e,n,i){var o=i[1];if(!o)return;var r=i[0];o.$render=function(){r.writeValue(o.$viewValue)}}}}},Wr=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(N(n.value))var i=t(n.value,!0);else{var o=t(e.text(),!0);o||n.$set("value",e.text())}return function(t,e,n){var r="$selectController",a=e.parent(),s=a.data(r)||a.parent().data(r);s&&s.registerOption(t,e,n,i,o)}}}}],Ur=j({restrict:"E",terminal:!1}),qr=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",(function(){i.$validate()})))}}},zr=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,o,r){if(r){var a,s=o.ngPattern||o.pattern;o.$observe("pattern",(function(t){if(R(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,yt(e));a=t||n,r.$validate()})),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||V(a)||a.test(e)}}}}},Hr=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=-1;n.$observe("maxlength",(function(t){var e=E(t);o=isNaN(e)?-1:e,i.$validate()})),i.$validators.maxlength=function(t,e){return o<0||i.$isEmpty(e)||e.length<=o}}}}},Zr=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o=0;n.$observe("minlength",(function(t){o=E(t)||0,i.$validate()})),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=o}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var e;if(!Dt){var i=ct();(d=V(i)?t.jQuery:i?t[i]:n)&&d.fn.on?(u=d,M(d.fn,{scope:$e.scope,isolateScope:$e.isolateScope,controller:$e.controller,injector:$e.injector,inheritedData:$e.inheritedData}),e=d.cleanData,d.cleanData=function(t){var n;if(Tt)Tt=!1;else for(var i,o=0;null!=(i=t[o]);o++)(n=d._data(i,"events"))&&n.$destroy&&d(i).triggerHandler("$destroy");e(t)}):u=se,S.element=u,Dt=!0}}(),function(e){M(e,{bootstrap:Ft,copy:ot,extend:M,merge:P,equals:at,element:u,forEach:$,injector:Ie,noop:D,bind:dt,toJson:pt,fromJson:ht,identity:A,isUndefined:V,isDefined:N,isString:R,isFunction:q,isObject:I,isNumber:B,isElement:et,isArray:U,version:Bt,isDate:W,lowercase:a,uppercase:c,callbacks:{counter:0},getTestability:Mt,$$minErr:i,$$csp:st,reloadWithDebugInfo:kt}),(f=function(t){var e=i("$injector"),n=i("ng");function o(t,e,n){return t[e]||(t[e]=n())}var r=o(t,"angular",Object);return r.$$minErr=r.$$minErr||i,o(r,"module",(function(){var t={};return function(i,r,a){return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),r&&t.hasOwnProperty(i)&&(t[i]=null),o(t,i,(function(){if(!r)throw e("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],n=[],o=[],s=l("$injector","invoke","push",n),c={_invokeQueue:t,_configBlocks:n,_runBlocks:o,requires:r,name:i,provider:u("$provide","provider"),factory:u("$provide","factory"),service:u("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:u("$provide","decorator"),animation:u("$animateProvider","register"),filter:u("$filterProvider","register"),controller:u("$controllerProvider","register"),directive:u("$compileProvider","directive"),config:s,run:function(t){return o.push(t),this}};return a&&s(a),c;function l(e,n,i,o){return o||(o=t),function(){return o[i||"push"]([e,n,arguments]),c}}function u(e,n){return function(o,r){return r&&q(r)&&(r.$$moduleName=i),t.push([e,n,arguments]),c}}}))}}))}(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ti}),t.provider("$compile",en).directive({a:yo,input:Uo,textarea:Uo,form:xo,script:Ir,select:Br,style:Ur,option:Wr,ngBind:Ho,ngBindHtml:Yo,ngBindTemplate:Zo,ngClass:Jo,ngClassEven:Qo,ngClassOdd:Ko,ngCloak:tr,ngController:er,ngForm:Co,ngHide:Dr,ngIf:or,ngInclude:rr,ngInit:sr,ngNonBindable:wr,ngPluralize:kr,ngRepeat:Mr,ngShow:Tr,ngStyle:Ar,ngSwitch:jr,ngSwitchWhen:Lr,ngSwitchDefault:Vr,ngOptions:Fr,ngTransclude:Nr,ngModel:yr,ngList:cr,ngChange:Go,pattern:zr,ngPattern:zr,required:qr,ngRequired:qr,minlength:Zr,ngMinlength:Zr,maxlength:Hr,ngMaxlength:Hr,ngValue:zo,ngModelOptions:_r}).directive({ngInclude:ar}).directive(So).directive(nr),t.provider({$anchorScroll:Oe,$animate:He,$animateCss:Ge,$$animateJs:qe,$$animateQueue:ze,$$AnimateRunner:Ye,$$animateAsyncRun:Ze,$browser:Je,$cacheFactory:Ke,$controller:ln,$document:un,$exceptionHandler:dn,$filter:Yi,$$forceReflow:fn,$interpolate:Dn,$interval:An,$http:Mn,$httpParamSerializer:bn,$httpParamSerializerJQLike:$n,$httpBackend:En,$xhrFactory:Pn,$location:Gn,$log:Xn,$parse:Ci,$rootScope:Ei,$q:Fi,$$q:ki,$sce:Vi,$sceDelegate:Li,$sniffer:Ni,$templateCache:Qe,$templateRequest:Ii,$$testability:Oi,$timeout:Ri,$window:zi,$$rAF:Pi,$$jqLite:Pe,$$HashMap:De,$$cookieReader:Zi})}])}(S),S.module("ngLocale",[],["$provide",function(t){var e="one",i="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,o){var r=0|t,a=function(t,e){var i=e;n===i&&(i=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var o=Math.pow(10,i);return{v:i,f:(t*o|0)%o}}(t,o);return 1==r&&0==a.v?e:i}})}]),u(e).ready((function(){Ct(e,Ft)})))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},146:function(t,e,n){var i=n(231);t.exports=i},147:function(t,e){t.exports={ADD_TO_WEB_PROJECT:"add_to_web_project"}},171:function(t,e,n){t.exports=function(){function t(t){if(this.data={},this.size=0,"string"===typeof t)for(var e=0;e<t.length;e+=1){var n=t.charCodeAt(e);if(55296===(63488&n)&&e<t.length){var i=t.charCodeAt(e+1);56320===(64512&i)?this.add(((1023&n)<<10)+(1023&i)+65536):this.add(n),e+=1}else this.add(n)}else if("number"===typeof t)this.add(t);else if(Array.isArray(t))for(t=this.expandRange(t),e=0;e<t.length;e+=1)this.add(t[e])}return t.Range,t.prototype.getSize=function(){return this.size},t.prototype.expandRange=function(t){for(var e=[],n=0;n<t.length;n+=1)if(Array.isArray(t[n]))for(var i=t[n][0];i<t[n][1]+1;i+=1)e.push(i);else e.push(t[n]);return e},t.prototype.compressRange=function(t){for(var e=[],n=0;n<t.length;n+=1){var i=n>0?t[n-1]:null,o=n<t.length-1?t[n+1]:null,r=t[n];(r-1===i&&null!==i||r+1===o&&null!==o)&&(r-1===i&&null!==i||r+1!==o&&null!==o)?r-1!==i&&null!==i||r+1===o&&null!==o||(r-e[e.length-1]>1?e[e.length-1]=[e[e.length-1],r]:e.push(r)):e.push(r)}return e},t.prototype.toArray=function(){var t=[];for(var e in this.data)this.data.hasOwnProperty(e)&&!0===this.data[e]&&t.push(parseInt(e,10));return t.sort((function(t,e){return t-e})),t},t.prototype.toRange=function(){return this.compressRange(this.toArray())},t.prototype.isEmpty=function(){return 0===this.size},t.prototype.add=function(t){for(var e=0;e<arguments.length;e+=1){var n=arguments[e];!0!==this.data[n]&&(this.data[n]=!0,this.size+=1)}},t.prototype.remove=function(t){for(var e=0;e<arguments.length;e+=1){var n=arguments[e];!0===this.data[n]&&(this.data[n]=!1,this.size-=1)}},t.prototype.contains=function(t){return!0===this.data[t]},t.prototype.equals=function(t){var e=this.toArray();if(this.getSize()===t.getSize()){for(var n=0;n<e.length;n+=1)if(!t.contains(e[n]))return!1;return!0}return!1},t.prototype.union=function(e){return new t(this.toArray().concat(e.toArray()))},t.prototype.intersect=function(e){for(var n=new t,i=this.toArray(),o=0;o<i.length;o+=1)e.contains(i[o])&&n.add(i[o]);return n},t.prototype.difference=function(e){for(var n=new t,i=this.toArray(),o=0;o<i.length;o+=1)e.contains(i[o])||n.add(i[o]);return n},t.prototype.subset=function(t){for(var e=this.toArray(),n=0;n<e.length;n+=1)if(!t.contains(e[n]))return!1;return!0},t.prototype.extractHighSurrogate=function(t){return Math.floor((t-65536)/1024)+55296},t.prototype.extractLowSurrogate=function(t){return(t-65536)%1024+56320},t.prototype.encodeCodePoint=function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57?String.fromCharCode(t):t<=65535?"\\u"+(t+65536).toString(16).substr(-4).toUpperCase():this.encodeCodePoint(this.extractHighSurrogate(t))+this.encodeCodePoint(this.extractLowSurrogate(t))},t.prototype.toRegExp=function(){for(var e=this.toArray(),n=new t,i=new t,o={},r={},a=[],s=0;s<e.length;s+=1)if(e[s]>=884736&&e[s]<=56319)i.add(e[s]);else if(e[s]<=65535)n.add(e[s]);else{var c=this.extractHighSurrogate(e[s]),l=this.extractLowSurrogate(e[s]);o.hasOwnProperty(c)||(o[c]=new t),o[c].add(l)}for(var c in o){var u=o[c].toRangeString();r.hasOwnProperty(u)||(r[u]=new t),r[u].add(parseInt(c,10))}for(var d in n.isEmpty()||a.push(n.toRangeString()),r){var f=r[d];a.push(f.toRangeString()+d)}return i.isEmpty()||a.push(i.toRangeString()),a.join("|")},t.prototype.toRangeString=function(){var t=!1,e=this.toRange().map((function(e){return Array.isArray(e)?(t=!0,this.encodeCodePoint(e[0])+"-"+this.encodeCodePoint(e[1])):this.encodeCodePoint(e)}),this);return 0===e.length?"":1!==e.length||t?"["+e.join("")+"]":e[0]},t.prototype.toHexString=function(){return this.toArray().map((function(t){return"U+"+t.toString(16).toUpperCase()})).join(",")},t.prototype.toHexRangeString=function(){return this.toRange().map((function(t){return Array.isArray(t)?"U+"+t[0].toString(16).toUpperCase()+"-"+t[1].toString(16).toUpperCase():"U+"+t.toString(16).toUpperCase()})).join(",")},t.prototype.toString=function(){return this.toArray().map(this.encodeCodePoint.bind(this)).join("")},t.parseUnicodeRange=function(e){for(var n=e.split(/\s*,\s*/),i=new t,o=0;o<n.length;o++){var r=/^(u\+([0-9a-f?]{1,6})(?:-([0-9a-f]{1,6}))?)$/i.exec(n[o]),a=null,s=null;if(r)if(-1!==r[2].indexOf("?")?(a=parseInt(r[2].replace("?","0"),16),s=parseInt(r[2].replace("?","f"),16)):(a=parseInt(r[2],16),s=r[3]?parseInt(r[3],16):a),a!==s)for(var c=a;c<=s;c++)i.add(c);else i.add(a)}return i},t}()},172:function(t,e){function n(t,e){this._isDynamic=t,this._projectEmbedDetails=e}n.$inject=["isDynamic","projectEmbedDetails"],n.prototype.getIsDynamic=function(){return this._isDynamic},n.prototype.getProjectEmbedDetails=function(){return this._projectEmbedDetails},t.exports=n},18:function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},197:function(t,e){n.$inject=["$scope","$window","DataService","NewrelicService","UrlService","UserService"];function n(t,e,n,i,o,r){var a=this;a.$scope=t,a.$window=e,a.DataService=n,a.NewrelicService=i,a.UrlService=o,a.UserService=r,a.$window.addEventListener("resize",(function(){a._handleWindowResize()})),a._preloadData().then((function(){a._setNewrelicCustomAttributes()}))}n.prototype.handleNavigationToggleButton=function(){this.isNavigationExpanded=!this.isNavigationExpanded},n.prototype._handleWindowResize=function(){this.$window.innerWidth>=768&&(this.isNavigationExpanded=!1,this.$scope.$digest())},n.prototype._preloadData=function(){var t=this;return t.DataService.get("/user_info").then((function(e){t.UserService.setActivityState(e.activity_state),t.UserService.setDaysSinceSyncActivity(e.days_since_sync_activity),t.UserService.setPlan(e.plan)}))},n.prototype._setNewrelicCustomAttributes=function(){var t=this.UrlService.getSearchParam("referrer");t&&this.NewrelicService.setCustomAttribute("referrer",t),this.NewrelicService.setCustomAttribute("activityState",this.UserService.getActivityState()),this.NewrelicService.setCustomAttribute("daysSinceSyncActivity",this.UserService.getDaysSinceSyncActivity()),this.NewrelicService.setCustomAttribute("plan",this.UserService.getPlan())},t.exports=n},198:function(t,e,n){var i=n(51);t.exports=function(){return{addOnReadyHandler:function(t){i.addOnReadyHandler(t)}}}},199:function(t,e){function n(t,e){var n={};return{addPageAction:i,setCustomAttribute:function(t,n){if("undefined"==typeof e.newrelic||!e.newrelic)return;e.newrelic.setCustomAttribute(t,n)},addPageActionWithDelay:function(e,o,r){n[e]&&t.cancel(n[e]);n[e]=t((function(){i(e,o),delete n[e]}),r)}};function i(t,n){"undefined"!=typeof e.newrelic&&e.newrelic&&e.newrelic.addPageAction(t,n)}}n.$inject=["$timeout","$window"],t.exports=n},200:function(t,e,n){o.$inject=["AuthenticationService"];var i=n(1);function o(t){var e,n,o=0,r=0,a=-1;return{decrementSyncUsage:function(t){r-=t},getActivityState:function(){return e},getDaysSinceSyncActivity:function(){return a},getPlan:function(){return n||"unknown"},getSyncOverageAmount:function(){return Math.max(r-o,0)},getSyncUsage:function(t){return r+(t||0)},getSyncUsagePercentage:function(t){return o>0?Math.floor((r+(t||0))/o*100):0},getSyncLimit:function(){return o},hasPaidCreativeCloud:function(){var e=t.getUserProfile()||{};return"CS_LVL_2"===(i.find(e.serviceAccounts||[],(function(t){return"creative_cloud"===t.serviceCode}))||{}).serviceLevel},incrementSyncUsage:function(t){r+=t},isInOverage:function(t){return r+(t||0)>o},setActivityState:function(t){e=t},setDaysSinceSyncActivity:function(t){a=t},setPlan:function(t){n=t},setSyncLimit:function(t){o=t}}}t.exports=o},201:function(t,e){function n(t,e,n){var i=this;i.$window=e,i.$http=t,n.get("/locale_info").then((function(t){i.locales=t.allLocales,i.selectedLocale=t.selectedLocale}))}n.$inject=["$http","$window","DataService"],n.prototype.handleLocaleChangeClick=function(t){var e=this;e.$http.post("/set_locale",{locale:t}).then((function(){e.$window.location.reload(!0)}))},n.prototype.handleLocaleSwitcherChange=function(){var t=this;t.$http.post("/set_locale",{locale:this.selectedLocale}).then((function(){t.$window.location.reload(!0)}))},t.exports=n},217:function(t,e,n){n(218),t.exports="ngCookies"},218:function(t,e){!function(t,e,n){"use strict";function i(t,n,i){var o=i.baseHref(),r=t[0];return function(t,i,a){r.cookie=function(t,i,r){var a,s;s=(r=r||{}).expires,a=e.isDefined(r.path)?r.path:o,e.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(s)&&(s=new Date(s));var c=encodeURIComponent(t)+"="+encodeURIComponent(i);c+=a?";path="+a:"",c+=r.domain?";domain="+r.domain:"",c+=s?";expires="+s.toUTCString():"";var l=(c+=r.secure?";secure":"").length+1;return l>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),c}(t,i,a)}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){var t=this.defaults={};function n(n){return n?e.extend({},t,n):t}this.$get=["$$cookieReader","$$cookieWriter",function(t,i){return{get:function(e){return t()[e]},getObject:function(t){var n=this.get(t);return n?e.fromJson(n):n},getAll:function(){return t()},put:function(t,e,o){i(t,e,n(o))},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(t,e){i(t,undefined,n(e))}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),i.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",(function(){this.$get=i}))}(window,window.angular)},219:function(t,e){function n(t){!function(t){var e=document.querySelector("meta[name=csrf-token]");e&&(t.defaults.headers.common["X-CSRF-Token"]=e.getAttribute("content"));t.defaults.headers.common.Accept="application/json"}(t)}n.$inject=["$httpProvider"],t.exports=n},220:function(t,e,n){r.$inject=["$rootElement","$window","DataService","FirstMileService","OmnitureService","PostLoginActionProcessorService","SuspendedAccountService","UrlService"];var i=n(221),o=["Android","BlackBerry","IEMobile","Opera Mini","iPad","iPhone","iPod","webOS"];function r(t,e,n,r,a,s,c,l){n.loadDataFromTemplate(t),r.handlePageLoad(),a.init(),s.handlePageLoad(),c.handlePageLoad(),("ontouchstart"in e||e.DocumentTouch&&e.document instanceof e.DocumentTouch||new RegExp(o.join("|"),"i").test(e.navigator.userAgent))&&t.addClass("touch-device"),n.get("spectrum-icon-paths").then((function(t){t.forEach((function(t){i.loadIcons(t)}))})),l.removeSearchParam("code")}t.exports=r},221:function(t,e){function n(t,e){function n(t){var n=new Error(t);"function"===typeof e&&e(n)}if(200===this.status||0===this.status){var i,o=new DOMParser;try{i=o.parseFromString(this.responseText,"image/svg+xml").firstChild}catch(r){return void n("AS.loadIcons: Error parsing icon SVG sprite: "+r)}i&&"svg"===i.tagName?(i.style.display="none",i.setAttribute("data-url",t),document.head.insertBefore(i,null),"function"===typeof e&&e(null,i)):n("AS.loadIcons: Parse SVG document contained something other than a SVG")}else n("AS.loadIcons: Failed to fetch icons, server returned "+this.status)}t.exports={loadIcons:function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",n.bind(i,t,e)),i.send()}}},222:function(t,e,n){o.$inject=["$window","DataService","FirstMileService","NotificationService","UserPrefsService"];var i=n(1);function o(t,e,n,i,o){this.DataService=e,this.FirstMileService=n,this.NotificationService=i,this.UserPrefsService=o,this.$window=t,this._preloadData()}t.exports=o,o.prototype.hasMessages=function(){return this.NotificationService.getMessages().length>0},o.prototype.handleNeutralTopNotificationClose=function(t){"standalone_subscription"===t.scriptIdentifier?this.UserPrefsService.updatePrefs({hideStandaloneSubscriptionNotification:!0}):"too_many_fonts"===t.scriptIdentifier&&this.UserPrefsService.updatePrefs({hideTooManyFontsNotification:!0}),this.NotificationService.remove(t)},o.prototype.handleFeedbackClose=function(t){var e={};"tag"===t.category&&(e.hideTagFeedbackNotification=!0),this.NotificationService.remove(t),i.isEmpty(e)||this.UserPrefsService.updatePrefs(e)},o.prototype.latestNotices=function(){return this.NotificationService.getMessages(this.NotificationService.TYPES.NOTICE)},o.prototype.latestErrors=function(){return this.NotificationService.getMessages(this.NotificationService.TYPES.ERROR)},o.prototype.handleActionClick=function(t){this.$window.location=t},o.prototype.handleCloseClick=function(t){this.NotificationService.remove(t)},o.prototype.getMessages=function(){return this.NotificationService.getMessages()},o.prototype.getToastClass=function(t){return"neutral"===t.type?"spectrum-Toast--neutral":"font_game_banner"===t.type?"font-game-toast":void 0},o.prototype._preloadData=function(){var t=this;t.DataService.get("/notification/error").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.error(e.message,e.options)})),t.DataService.get("/notification/notice").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.notice(e.message,e.options)})),t.DataService.get("/notification/info").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.notice(e.message,e.options)})),t.DataService.get("/notification/success").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.success(e.message,e.options)})),t.DataService.get("/notification/warn").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.warn(e.message,e.options)})),t.DataService.get("/notification/first_mile").then((function(e){if("activate"===e)return t.FirstMileService.showFontActivationDialog()})),t.DataService.get("/notification/font_game_banner").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.font_game_banner(e.message,e.options)})),t.DataService.get("/notification/standalone_subscription").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.neutral(e.message,e.options)})),t.DataService.get("/notification/too_many_fonts").then((function(e){i.isString(e)&&(e={message:e}),t.NotificationService.neutral(e.message,e.options)}))}},223:function(t,e){o.$inject=["$timeout","FontLoaderService"];var n="display-in-font--loading",i="adobe-notdef";function o(t,e){function o(o,r){var a=o.displayInFont();if(a){r.addClass(n);var s=a.fvd[1]+"00",c="n"===a.fvd[0]?"normal":"i"===a.fvd[0]?"italic":"oblique";r[0].style.fontFamily=[a.cssName,i].join(","),r[0].style.fontWeight=s,r[0].style.fontStyle=c,t((function(){var t={weight:s,style:c,featureSettings:a.featureSettings,unicodeRange:a.unicodeRange,dynamic:a.isDynamic,display:"block"};e.loadFont(a.cssName,a.opaqueId,t).then((function(){r.removeClass(n),r.addClass("display-in-font--loaded")}),(function(){r.removeClass(n),r.addClass("display-in-font--failed")}))}),10)}}return{restrict:"A",scope:{displayInFont:"&"},link:function(t,e){t.$watch("displayInFont()",o.bind(this,t,e),!0)}}}t.exports=o},224:function(t,e,n){var i=n(9);function o(t,e){return e==t||!!e.parentNode&&o(t,e.parentNode)}t.exports=function(){return{bindToController:{dropdownBaseOptions:"&"},link:function(t,e,n,r){var a=r[0],s=r[1];a.ngModel=s,e.addClass(a.getClass()),(a.dropdownBaseOptions()||{}).disableBodyEvents||function(t,e,n){i.element(document.body).on("click",(function(i){o(t[0],i.target)||n.$apply((function(){e.toggleMenu(!1)}))})),i.element(document.body).on("keyup",(function(t){27==t.keyCode&&n.$apply((function(){e.toggleMenu(!1)}))}))}(e,a,t)},controller:n(225),controllerAs:"dropdownBase",require:["dropdownBase","?ngModel"],restrict:"A"}}},225:function(t,e){n.$inject=["$element"];function n(t){this.$element=t,this.childElements={},this.isOpen=!1}n.prototype.getClass=function(){return"adobe-fonts-select-menu"},n.prototype.getContentClass=function(){return"adobe-fonts-select-menu__content"},n.prototype.getMenuButtonClass=function(){return"adobe-fonts-select-menu__dropdown-button"},n.prototype.getMenuItemClass=function(){return"adobe-fonts-select-menu__menu-item"},n.prototype.getMenuItemSelectedClass=function(){return"is-selected"},n.prototype.getOpenClass=function(){return"is-open"},n.prototype.getMenuItemsClass=function(){return"adobe-fonts-select-menu__menu-items"},n.prototype.getValue=function(){if(this.ngModel)return this.ngModel.$viewValue},n.prototype.toggleMenu=function(t){this.isOpen=void 0===t?!this.isOpen:t,this.$element.toggleClass(this.getOpenClass(),this.isOpen)},n.prototype.updateValue=function(t){this.ngModel&&this.ngModel.$setViewValue(t)},t.exports=n},226:function(t,e){t.exports=function(){return{link:function(t,e,n,i){e.addClass(i.getMenuButtonClass()),e.on("click",(function(){t.$apply((function(){i.toggleMenu()}))}))},require:"^dropdownBase",restrict:"A"}}},227:function(t,e){t.exports=function(){return{link:function(t,e,n,i){e.addClass(i.getContentClass()),t.$watch((function(){return i.isOpen}),(function(){e.toggleClass(i.getOpenClass(),i.isOpen)}))},require:"^dropdownBase",restrict:"A"}}},228:function(t,e,n){var i=n(1);t.exports=function(){return{link:function(t,e,n,o){e.addClass(o.getMenuItemClass());var r=t.$eval(n.value);e.on("click",(function(){o.toggleMenu(!1),r&&o.updateValue(r)})),r&&t.$watch((function(){return o.getValue()}),(function(){e.toggleClass(o.getMenuItemSelectedClass(),i.isEqual(o.getValue(),r))}))},require:"^dropdownBase",restrict:"A"}}},229:function(t,e,n){function i(t,e){return{scope:{},bindToController:{groups:"&",heroImageFocus:"@",imageUrl:"@",static:"@"},controller:n(230),controllerAs:"fontpackHero",require:["fontpackHero","?ngModel"],restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/fontpack_hero.html",link:function(n,i,o,r){var a=r[0],s=r[1];a.ngModel=s,a.element=i[0],function(n){if(!n||!a.imageUrl||a.isStaticFontpack())return;t.get(a.imageUrl,{responseType:"blob"}).then((function(t){n.data=e.URL.createObjectURL(t.data),n.onload=function(){a.initSvg()}}))}(a.getSvgEl())}}}i.$inject=["$http","$window"],t.exports=i},230:function(t,e,n){s.$inject=["$scope","$window"];var i=n(9),o=n(1),r=n(146),a="#viewport";function s(t,e){var n=this;n.$scope=t,n.MAX_ZOOM_LEVEL=2,n.MIN_ZOOM_LEVEL=.5,n.isSvgInitialized=!1,e.addEventListener("resize",(function(){n.$scope.$apply((function(){n._handleWindowResize()}))}))}s.prototype.adjustSvgBackground=function(){var t=this.getSvgBackground();if(t){this.getSvgBackground().style.transform="scale(1, 1)";var e=t.getBoundingClientRect(),n=this.getSvgEl().getBoundingClientRect(),i=n.width/e.width,o=n.height/e.height;this.getSvgBackground().style.transform="scale("+i+","+o+")"}},s.prototype.getSvgBackground=function(){return this.getSvgEl().contentDocument.querySelector("#background")},s.prototype.getSvgEl=function(){return this.element.querySelector(".fontpack-hero__svg")},s.prototype.getSvgViewport=function(){return this.getSvgEl().contentDocument.querySelector(a)},s.prototype.handleSvgBackgroundClick=function(){this._resetSelectedVariation()},s.prototype.handleSvgGroupClick=function(t){this._isSelectedGroup(t)?this._resetSelectedGroups():this._selectSvgGroup(t)},s.prototype.handleVariationClick=function(t){this.isSvgInitialized&&(this.selectedVariationId==t.variation_id?this._resetSelectedVariation():this._selectVariation(t))},s.prototype.getVariationElementClass=function(t){return this.isVariationSelected(t)?"fontpack-hero__variation--selected":this.isVariationInSelectedGroups(t)?"fontpack-hero__variation--used":void 0},s.prototype.initSvg=function(){this.initSvgEvents(),this.initSvgPanZoom(),this.adjustSvgBackground()},s.prototype.initSvgEvents=function(){var t=this;t.svgGroups=t.getSvgViewport().children,o.each(t.svgGroups,(function(e){i.element(e).on("click",(function(n){n.stopPropagation(),t.$scope.$apply((function(){t.handleSvgGroupClick(e)}))}))})),i.element(this.getSvgBackground()).on("click",(function(e){e.stopPropagation(),t.$scope.$apply((function(){t.handleSvgBackgroundClick()}))}))},s.prototype.initSvgPanZoom=function(){var t=this;t.svgElPanZoom=r(t.getSvgEl(),{center:!0,contain:!0,fit:!1,customEventsHandler:{init:function(e){t.$scope.$apply((function(){t.svgZoomLevel=e.instance.getZoom()})),t.isSvgInitialized=!0}},mouseWheelZoomEnabled:!1,viewportSelector:a})},s.prototype.isStaticFontpack=function(){return"true"===this.static},s.prototype.isVariationInSelectedGroups=function(t){if(!this.selectedGroupIds)return!1;for(var e=0;e<this.selectedGroupIds.length;e++)if(o.contains(this.groups()[this.selectedGroupIds[e]],t.variation_id))return!0;return!1},s.prototype.isVariationSelected=function(t){return t.variation_id==this.selectedVariationId},s.prototype.objectPositionStyle=function(){return this.heroImageFocus&&this.heroImageFocus.length>0?{"object-position":this.heroImageFocus}:{}},s.prototype.zoomIn=function(){!this.isSvgInitialized||this.svgZoomLevel>=this.MAX_ZOOM_LEVEL||(this.svgZoomLevel+=.2,this.svgElPanZoom.zoom(this.svgZoomLevel))},s.prototype.zoomOut=function(){!this.isSvgInitialized||this.svgZoomLevel<=this.MIN_ZOOM_LEVEL||(this.svgZoomLevel-=.2,this.svgElPanZoom.zoom(this.svgZoomLevel))},s.prototype.zoomReset=function(){this.isSvgInitialized&&(this.svgElPanZoom.resize(),this.svgElPanZoom.contain(),this.svgElPanZoom.center(),this.svgZoomLevel=this.svgElPanZoom.getZoom())},s.prototype._disableSvgGroups=function(){o.each(this.svgGroups,(function(t){t.style.opacity=.2}))},s.prototype._getGroupsForVariation=function(t){var e=[];return o.each(this.groups(),(function(n,i){o.contains(n,t.variation_id)&&e.push(i)})),e},s.prototype._getSvgGroupEl=function(t){return this.getSvgEl().contentDocument.querySelector("#"+t)},s.prototype._handleWindowResize=function(){this.zoomReset(),this.adjustSvgBackground()},s.prototype._highlightSvgGroupEls=function(t){this._disableSvgGroups(),o.each(t,(function(t){t.style.opacity=1}))},s.prototype._isSelectedGroup=function(t){return this.selectedGroupIds&&1==this.selectedGroupIds.length&&o.contains(this.selectedGroupIds,t.id)},s.prototype._resetSelectedGroups=function(){this._highlightSvgGroupEls(this.svgGroups),this._setSelectedGroupIds([])},s.prototype._resetSelectedVariation=function(){this.selectedVariationId=null,this._resetSelectedGroups()},s.prototype._selectSvgGroup=function(t){this._setSelectedGroupIds([t.id]),this._highlightSvgGroupEls([t]),this.selectedVariationId=null},s.prototype._selectVariation=function(t){var e=this;e.selectedVariationId=t.variation_id,e._setSelectedGroupIds(e._getGroupsForVariation(t));var n=o.map(e.selectedGroupIds,(function(t){return e._getSvgGroupEl(t)}));e._highlightSvgGroupEls(n),this.svgElPanZoom.fit(),this.svgZoomLevel=this.svgElPanZoom.getZoom()},s.prototype._setSelectedGroupIds=function(t){this.selectedGroupIds=t,this.ngModel&&this.ngModel.$setViewValue(t)},t.exports=s},231:function(t,e,n){var i=n(232),o=n(233),r=n(98),a=n(97),s=n(234),c=function(t,e){this.init(t,e)},l={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},u={passive:!0};c.prototype.init=function(t,e){var n=this;this.svg=t,this.defs=t.querySelector("defs"),a.setupSvgAttributes(this.svg),this.options=r.extend(r.extend({},l),e),this.state="none";var i=a.getBoundingClientRectNormalized(t);this.width=i.width,this.height=i.height,this.viewport=s(a.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(t,e){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(t,e)},onZoom:function(t){if(n.viewport&&n.options.onZoom)return n.options.onZoom(t)},beforePan:function(t,e){if(n.viewport&&n.options.beforePan)return n.options.beforePan(t,e)},onPan:function(t){if(n.viewport&&n.options.onPan)return n.options.onPan(t)},onUpdatedCTM:function(t){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(t)}});var c=this.getPublicInstance();c.setBeforeZoom(this.options.beforeZoom),c.setOnZoom(this.options.onZoom),c.setBeforePan(this.options.beforePan),c.setOnPan(this.options.onPan),c.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&o.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},c.prototype.setupHandlers=function(){var t=this,e=null;if(this.eventListeners={mousedown:function(n){var i=t.handleMouseDown(n,e);return e=n,i},touchstart:function(n){var i=t.handleMouseDown(n,e);return e=n,i},mouseup:function(e){return t.handleMouseUp(e)},touchend:function(e){return t.handleMouseUp(e)},mousemove:function(e){return t.handleMouseMove(e)},touchmove:function(e){return t.handleMouseMove(e)},mouseleave:function(e){return t.handleMouseUp(e)},touchleave:function(e){return t.handleMouseUp(e)},touchcancel:function(e){return t.handleMouseUp(e)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var i=n.length-1;i>=0;i--)this.eventListeners.hasOwnProperty(n[i])&&delete this.eventListeners[n[i]]}for(var o in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(o,this.eventListeners[o],!this.options.preventMouseEventsDefault&&u);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},c.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(e){return t.handleMouseWheel(e)};var e=!this.options.preventMouseEventsDefault;i.on(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!0}},c.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var t=!this.options.preventMouseEventsDefault;i.off(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!1}},c.prototype.handleMouseWheel=function(t){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1);var e=t.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&0===t.deltaMode&&t.wheelDelta&&(e=0===t.deltaY?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/i;var o=this.svg.getScreenCTM().inverse(),r=a.getEventPoint(t,this.svg).matrixTransform(o),s=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(s,r)}},c.prototype.zoomAtPoint=function(t,e,n){var i=this.viewport.getOriginalState();n?(t=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,t)),t/=this.getZoom()):this.getZoom()*t<this.options.minZoom*i.zoom?t=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*i.zoom&&(t=this.options.maxZoom*i.zoom/this.getZoom());var o=this.viewport.getCTM(),r=e.matrixTransform(o.inverse()),a=this.svg.createSVGMatrix().translate(r.x,r.y).scale(t).translate(-r.x,-r.y),s=o.multiply(a);s.a!==o.a&&this.viewport.setCTM(s)},c.prototype.zoom=function(t,e){this.zoomAtPoint(t,a.getSvgCenterPoint(this.svg,this.width,this.height),e)},c.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)},c.prototype.publicZoomAtPoint=function(t,e,n){if(n&&(t=this.computeFromRelativeZoom(t)),"SVGPoint"!==r.getType(e)){if(!("x"in e)||!("y"in e))throw new Error("Given point is invalid");e=a.createSVGPoint(this.svg,e.x,e.y)}this.zoomAtPoint(t,e,n)},c.prototype.getZoom=function(){return this.viewport.getZoom()},c.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},c.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom},c.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)},c.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},c.prototype.reset=function(){this.resetZoom(),this.resetPan()},c.prototype.handleDblClick=function(t){var e;if((this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled)&&(t.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control")>-1)return!1;e=t.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=a.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(e,n)},c.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),r.mouseAndTouchNormalize(t,this.svg),this.options.dblClickZoomEnabled&&r.isDblClick(t,e)?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=a.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))},c.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var e=a.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(n)}},c.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&(this.state="none")},c.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)},c.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)},c.prototype.center=function(){var t=this.viewport.getViewBox(),e=.5*(this.width-(t.width+2*t.x)*this.getZoom()),n=.5*(this.height-(t.height+2*t.y)*this.getZoom());this.getPublicInstance().pan({x:e,y:n})},c.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},c.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)},c.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)},c.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}},c.prototype.resize=function(){var t=a.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},c.prototype.destroy=function(){var t=this;for(var e in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],!this.options.preventMouseEventsDefault&&u);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),d=d.filter((function(e){return e.svg!==t.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},c.prototype.getPublicInstance=function(){var t=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return t.options.panEnabled=!0,t.pi},disablePan:function(){return t.options.panEnabled=!1,t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){return t.pan(e),t.pi},panBy:function(e){return t.panBy(e),t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){return t.options.beforePan=null===e?null:r.proxy(e,t.publicInstance),t.pi},setOnPan:function(e){return t.options.onPan=null===e?null:r.proxy(e,t.publicInstance),t.pi},enableZoom:function(){return t.options.zoomEnabled=!0,t.pi},disableZoom:function(){return t.options.zoomEnabled=!1,t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){return t.options.controlIconsEnabled||(t.options.controlIconsEnabled=!0,o.enable(t)),t.pi},disableControlIcons:function(){return t.options.controlIconsEnabled&&(t.options.controlIconsEnabled=!1,o.disable(t)),t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!0,t.pi},disableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!1,t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return t.enableMouseWheelZoom(),t.pi},disableMouseWheelZoom:function(){return t.disableMouseWheelZoom(),t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return t.options.zoomScaleSensitivity=e,t.pi},setMinZoom:function(e){return t.options.minZoom=e,t.pi},setMaxZoom:function(e){return t.options.maxZoom=e,t.pi},setBeforeZoom:function(e){return t.options.beforeZoom=null===e?null:r.proxy(e,t.publicInstance),t.pi},setOnZoom:function(e){return t.options.onZoom=null===e?null:r.proxy(e,t.publicInstance),t.pi},zoom:function(e){return t.publicZoom(e,!0),t.pi},zoomBy:function(e){return t.publicZoom(e,!1),t.pi},zoomAtPoint:function(e,n){return t.publicZoomAtPoint(e,n,!0),t.pi},zoomAtPointBy:function(e,n){return t.publicZoomAtPoint(e,n,!1),t.pi},zoomIn:function(){return this.zoomBy(1+t.options.zoomScaleSensitivity),t.pi},zoomOut:function(){return this.zoomBy(1/(1+t.options.zoomScaleSensitivity)),t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){return t.options.onUpdatedCTM=null===e?null:r.proxy(e,t.publicInstance),t.pi},resetZoom:function(){return t.resetZoom(),t.pi},resetPan:function(){return t.resetPan(),t.pi},reset:function(){return t.reset(),t.pi},fit:function(){return t.fit(),t.pi},contain:function(){return t.contain(),t.pi},center:function(){return t.center(),t.pi},updateBBox:function(){return t.updateBBox(),t.pi},resize:function(){return t.resize(),t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){return t.destroy(),t.pi}}),this.publicInstance};var d=[];t.exports=function(t,e){var n=r.getSvg(t);if(null===n)return null;for(var i=d.length-1;i>=0;i--)if(d[i].svg===n)return d[i].instance.getPublicInstance();return d.push({svg:n,instance:new c(n,e)}),d[d.length-1].instance.getPublicInstance()}},232:function(t,e){t.exports=function(){var t,e,n,i="",o=[],r={passive:!0};function a(e,a,s,c){var l;l="wheel"===n?s:function(t,e){var i=function(t){!t&&(t=window.event);var i={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(i.deltaX=-1/40*t.wheelDeltaX)):i.deltaY=t.detail,e(i)};return o.push({element:t,fn:i}),i}(e,s),e[t](i+a,l,!!c&&r)}function s(t,a,s,c){var l;l="wheel"===n?s:function(t){for(var e=0;e<o.length;e++)if(o[e].element===t)return o[e].fn;return function(){}}(t),t[e](i+a,l,!!c&&r),function(t){for(var e=0;e<o.length;e++)if(o[e].element===t)return o.splice(e,1)}(t)}return window.addEventListener?(t="addEventListener",e="removeEventListener"):(t="attachEvent",e="detachEvent",i="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(t,e,i){a(t,n,e,i),"DOMMouseScroll"==n&&a(t,"MozMousePixelScroll",e,i)},off:function(t,e,i){s(t,n,e,i),"DOMMouseScroll"==n&&s(t,"MozMousePixelScroll",e,i)}}}()},233:function(t,e,n){var i=n(97);t.exports={enable:function(t){var e=t.svg.querySelector("defs");if(e||(e=document.createElementNS(i.svgNS,"defs"),t.svg.appendChild(e)),!e.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(i.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(n)}var o=document.createElementNS(i.svgNS,"g");o.setAttribute("id","svg-pan-zoom-controls"),o.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),o.setAttribute("class","svg-pan-zoom-control"),o.appendChild(this._createZoomIn(t)),o.appendChild(this._createZoomReset(t)),o.appendChild(this._createZoomOut(t)),t.svg.appendChild(o),t.controlIcons=o},_createZoomIn:function(t){var e=document.createElementNS(i.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomIn()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var o=document.createElementNS(i.svgNS,"path");return o.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o),e},_createZoomReset:function(t){var e=document.createElementNS(i.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().reset()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().reset()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var o=document.createElementNS(i.svgNS,"path");o.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o);var r=document.createElementNS(i.svgNS,"path");return r.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),r.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(r),e},_createZoomOut:function(t){var e=document.createElementNS(i.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomOut()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var o=document.createElementNS(i.svgNS,"path");return o.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}}},234:function(t,e,n){var i=n(97),o=n(98),r=function(t,e){this.init(t,e)};r.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=o.proxy(this.updateCTM,this),this.requestAnimationFrame=o.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},r.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter((function(t){return t})).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},r.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height},r.prototype.getViewBox=function(){return o.extend({},this.viewBox)},r.prototype.processCTM=function(){var t,e=this.getCTM();(this.options.fit||this.options.contain)&&(t=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*e.a),i=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*e.a);e.e=n,e.f=i}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e},r.prototype.getOriginalState=function(){return o.extend({},this.originalState)},r.prototype.getState=function(){return o.extend({},this.activeState)},r.prototype.getZoom=function(){return this.activeState.zoom},r.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},r.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom},r.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},r.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t},r.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),n=this.isPanDifferent(t);if(e||n){if(e&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))?(t.a=t.d=this.activeState.zoom,e=!1):(this.updateCache(t),this.options.onZoom(this.getRelativeZoom()))),n){var i=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),r=!1,a=!1;!1===i?(t.e=this.getPan().x,t.f=this.getPan().y,r=a=!0):o.isObject(i)&&(!1===i.x?(t.e=this.getPan().x,r=!0):o.isNumber(i.x)&&(t.e=i.x),!1===i.y?(t.f=this.getPan().y,a=!0):o.isNumber(i.y)&&(t.f=i.y)),r&&a||!this.isPanDifferent(t)?n=!1:(this.updateCache(t),this.options.onPan(this.getPan()))}(e||n)&&this.updateCTMOnNextFrame()}},r.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a},r.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f},r.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f},r.prototype.pendingUpdate=!1,r.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},r.prototype.updateCTM=function(){var t=this.getCTM();i.setCTM(this.viewport,t,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(t)},t.exports=function(t,e){return new r(t,e)}},235:function(t,e){t.exports=function(){return{scope:{fontpackHeroVariation:"&"},link:function(t,e,n,i){var o=n.class;function r(){e[0].className=[o,i.getVariationElementClass(t.fontpackHeroVariation())].join(" ")}e.on("click",(function(){i.handleVariationClick(t.fontpackHeroVariation())})),t.$watchCollection((function(){return i.selectedGroupIds}),(function(){r()})),t.$watch((function(){return i.selectedVariationId}),(function(){r()}))},require:"^fontpackHero",restrict:"A"}}},236:function(t,e){t.exports=function(){return{link:function(t,e,n,i){e.on("click",(function(){i.zoomIn()})),e.addClass("button fontpack-hero__zoom-in-button")},require:"^fontpackHero",restrict:"A"}}},237:function(t,e){t.exports=function(){return{link:function(t,e,n,i){e.on("click",(function(){i.zoomOut()})),e.addClass("button fontpack-hero__zoom-out-button")},require:"^fontpackHero",restrict:"A"}}},238:function(t,e){t.exports=function(){return{link:function(t,e,n,i){e.on("click",(function(){i.zoomReset()})),e.addClass("button fontpack-hero__zoom-reset-button")},require:"^fontpackHero",restrict:"A"}}},239:function(t,e,n){function i(t,e){return{scope:{},bindToController:{imageUrl:"@",useSvgPanZoom:"@"},controller:n(240),controllerAs:"foundryLogo",require:["foundryLogo","?ngModel"],restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/foundry_logo.html",link:function(n,i,o,r){var a=r[0],s=r[1];a.ngModel=s,a.element=i[0],function(n){if(!n||!a.imageUrl)return;t.get(a.imageUrl,{responseType:"blob"}).then((function(t){n.data=e.URL.createObjectURL(t.data),a.isSvgLoaded=!0,void 0!==a.useSvgPanZoom&&"true"!==a.useSvgPanZoom||(n.onload=function(){a.initSvg()})}))}(a.getSvgEl())}}}i.$inject=["$http","$window"],t.exports=i},240:function(t,e,n){o.$inject=["$scope"];var i=n(146);function o(t){this.$scope=t,this.isSvgLoaded=!1}o.prototype.getSvgEl=function(){return this.element.querySelector(".foundry-info--logo-box")},o.prototype.initSvg=function(){i(this.getSvgEl(),{fit:!0,zoomEnabled:!1})},t.exports=o},241:function(t,e,n){t.exports=function(){return{scope:{},bindToController:{menuItems:"&",prioritize:"&",selectedValue:"=",onSelectedItemChange:"&",triggerButtonDataId:"@"},controller:n(242),controllerAs:"spectrumDropdown",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/dropdown.html",transclude:!0,link:function(t,e,n,i,o){i.placeholderText=o().text()}}}},242:function(t,e){function n(t){this.$timeout=t,this.prioritizedItem=this.prioritize()}n.$inject=["$timeout"],n.prototype.getLabel=function(){if(!this.selectedValue)return this.getPlaceholderText();for(var t=this.menuItems(),e=0;e<t.length;e++)if(t[e].value==this.selectedValue)return t[e].label},n.prototype.handleChange=function(){var t=this;t.$timeout((function(){t.onSelectedItemChange()}))},n.prototype.getPlaceholderText=function(){if(this.placeholderText&&this.placeholderText.trim().length>0)return this.placeholderText.trim()},t.exports=n},243:function(t,e){t.exports=function(){return{scope:{},restrict:"E",templateUrl:"/angular_templates/directives/tk_aligned_specimen.html",transclude:!0,link:function(t,e,n,i,o){t.text=o().text()}}}},244:function(t,e,n){o.$inject=["$compile","$document","$q","$rootScope","$templateRequest","$timeout","$window","DataService"];var i=n(9);function o(t,e,n,o,r,a,s,c){var l,u,d,f="tk-dialog-open",p="tk-dialog-content",h='<div class="tk-dialog"><div class="tk-dialog-scrim"></div></div>',g=e.find("body");return{close:m,show:function(e,b){b=b||{},l&&m();return n((function(n){r(e).then((function(e){n(function(e,n){c.loadDataFromTemplate(i.element(e)),u=t(e)(function(){var t=o.$new();return t.close=m,t}()).addClass(p),l=function(t,e){return i.element(h).addClass(e.extraWrapperClass).append(t)}(u,n),d=u.scope(),g.append(l).addClass(f),n.closeOnDrag&&i.element(s).on("dragenter",_);n.skipCentering||(v(u),n.recenterOnResize&&i.element(s).on("resize",(function(){v(u)})));n.skipBodyListeners||a((function(){g.on("click",y),g.on("keyup",S)}),0);n.closeDisabled&&(this.closeDisabled=!0);return u.controller()||u.scope()}(e,b))}))}))}};function m(){l&&!this.closeDisabled&&(d.$destroy(),l.remove(),g.removeClass(f),g.off("click",y),g.off("keyup",S))}function v(t){var e=t[0].getBoundingClientRect();t.css({"margin-left":e.width/2*-1+"px","margin-top":e.height/2*-1+"px"}).addClass("tk-dialog-centered-content")}function y(t){b(t.target)||m()}function S(t){27!=t.keyCode||b(t.target)||m()}function _(t){b(t.target)||m()}function b(t){return t==u[0]||!!t.parentNode&&b(t.parentNode)}}t.exports=o},245:function(t,e){o.$inject=["$cookies","$q","DialogService","UserPrefsService","UrlService"];var n="adobe-fonts-saw-typekit-redirect-dialog",i="ref";function o(t,e,o,r,a){return{handlePageLoad:function(){c()&&l()},shouldShowFontActivationDialog:function(){return r.getUserPrefs().then((function(t){return!t.hideFontActivationModal}))},shouldShowTypekitOnboardDialog:s,shouldShowTypekitRedirectDialog:c,showExpiredFontsDialog:function(){o.show("/angular_templates/dialogs/expired_fonts_first_mile.html").then((function(t){t.close=function(){r.updatePrefs({hideExpiredFontsModal:!0}),o.close()}}))},showFontActivationDialog:function(){o.show("/angular_templates/dialogs/font_activation_first_mile.html").then((function(t){t.handleOKButton=function(){t.optOutOfModal&&r.updatePrefs({hideFontActivationModal:!0}),o.close()}}))},showTypekitOnboardDialogIfNecessary:function(){return e((function(t){s().then((function(e){e?o.show("/angular_templates/dialogs/typekit_onboard_modal.html").then((function(e){e.handleOKButton=function(){r.updatePrefs({hideTypekitOnboardModal:!0}),o.close(),t()}})):t()}))}))},showTypekitRedirectDialog:l};function s(){return r.getUserPrefs().then((function(t){return!t.hideTypekitOnboardModal}))}function c(){return!t.get(n)&&(a.getSearchParam(i)&&"tk.com"==a.getSearchParam(i))}function l(){o.show("/angular_templates/dialogs/typekit_redirect_first_mile.html").then((function(e){e.handleOKButton=function(){o.close(),t.put(n,!0)}})),a.removeSearchParam(i)}}t.exports=o},246:function(t,e,n){o.$inject=["$window"];var i=n(171);function o(t){t.Typekit&&(t.Typekit.user="tk",t.Typekit.token="UWiewzNGqfaXgl50sfTX597VqiNVO+VsJvzyIM5SabTjZinSwqaidRKypEX3LMfHdBUibNmD+PCRx/5yCXr4NA==");var e={};return{updateFonts:function(t){var n=new i(t).toArray().map((function(t){return"U+"+t.toString(16)})).join(",");Object.keys(e).forEach((function(t){e[t].update(n)}))},loadFont:function(n,i,o){if(t.Typekit){if(e[n])return e[n].load();var r=e[n]=new t.Typekit.Font(n,i,o);return r.load().then((function(){t.Typekit.fonts.add(r)}))}}}}t.exports=o},247:function(t,e,n){a.$inject=["$timeout","$sce"];var i=n(1),o=n(9),r={ERROR:"error",NEUTRAL:"neutral",NOTICE:"info",SUCCESS:"success",FEEDBACK:"feedback",FONT_GAME_BANNER:"font_game_banner",WARN:"warn"};function a(t,e){var n=new s(t,e);return n.TYPES=r,n}function s(t,e){this._messages=[],this._nextNotificationId=0,this.$timeout=t,this.$sce=e}t.exports=a,s.prototype.error=function(t,e){this.add(t,r.ERROR,e)},s.prototype.add=function(t,e,n){var r=this,a=n||{};if(!i.find(r._messages,(function(e){return r.$sce.getTrustedHtml(e.text)==t}))){var s=r._createMessage(t,e,n);if(r._messages.push(s),a.skipTimeout)return;var c=s.actionLink?5e3:4e3;r.$timeout(o.bind(r,(function(){r.remove(s)})),a.timeout||c)}},s.prototype.addFeedbackNotification=function(t,e){this.add(t,r.FEEDBACK,e)},s.prototype.getMessages=function(t){var e=this._messages.slice(0,3);return t?i.filter(e,(function(e){return e.type==t})):e},s.prototype.neutral=function(t,e){this.add(t,r.NEUTRAL,e)},s.prototype.notice=function(t,e){this.add(t,r.NOTICE,e)},s.prototype.remove=function(t){this._messages=i.reject(this._messages,(function(e){return e==t}))},s.prototype.removeFeedbackNotification=function(){var t=this;i.each(t.getMessages(r.FEEDBACK),(function(e){t.remove(e)}))},s.prototype.success=function(t,e){this.add(t,r.SUCCESS,e)},s.prototype.font_game_banner=function(t,e){this.add(t,r.FONT_GAME_BANNER,e)},s.prototype.warn=function(t,e){this.add(t,r.WARN,e)},s.prototype.toggleErrorMessage=function(t,e){e?this.error(t):this.notice(t)},s.prototype._createMessage=function(t,e,n){var i,o;return e||(e=r.NOTICE),(n=n||{}).actionLink&&n.actionLabel&&(i=n.actionLink,o=n.actionLabel),{id:this._nextNotificationId++,text:this.$sce.trustAsHtml(t),actionLink:i,actionLabel:o,category:n.category,scriptIdentifier:n.scriptIdentifier,tooltipText:n.tooltipText,type:e}}},248:function(t,e){function n(t,e){return{handlePageLoad:function(){t.get("suspended-account-data").then((function(t){t.hasSuspendedAccount&&e.show("/angular_templates/dialogs/account_suspended.html",{closeDisabled:!0})}))}}}n.$inject=["DataService","DialogService"],t.exports=n},249:function(t,e,n){r.$inject=["$http","$q","DataService"];var i,o=n(1);function r(t,e,n){return{clearCache:function(){i=null},getUserPrefs:r,updatePrefs:o.throttle((function(e){return r().then((function(t){i=o.extend(t,e)})),t.put("/account/prefs.json",a(e))}),500)};function r(){return e((function(t){i?t(i):n.get("user-pref-data").then((function(e){i=function(t){var e={},n=o.pick(t,"browse_families_sample_text","browse_families_sample_size","browse_families_view_type","browse_families_browse_mode","browse_filter_drawer_state","hide_typekit_onboard_modal","hide_font_activation_modal","hide_expired_fonts_modal","hide_tag_feedback_dialog","hide_tag_feedback_notification","show_paid_fonts","show_basic_library");(n.browse_families_sample_text||n.browse_families_sample_size)&&(e.exampleText={value:n.browse_families_sample_text,size:n.browse_families_sample_size});n.browse_filter_drawer_state&&(e.isFilterListHiddenByUser="close"===n.browse_filter_drawer_state);n.browse_families_view_type&&(e.selectedViewType=n.browse_families_view_type);n.browse_families_browse_mode&&(e.browseMode=n.browse_families_browse_mode);n.hide_typekit_onboard_modal&&(e.hideTypekitOnboardModal="true"===n.hide_typekit_onboard_modal);n.hide_font_activation_modal&&(e.hideFontActivationModal="true"===n.hide_font_activation_modal);n.hide_expired_fonts_modal&&(e.hideExpiredFontsModal="true"===n.hide_expired_fonts_modal);n.hide_tag_feedback_dialog&&(e.hideTagFeedbackDialog="true"===n.hide_tag_feedback_dialog);n.hide_tag_feedback_notification&&(e.hideTagFeedbackNotification="true"===n.hide_tag_feedback_notification);n.show_paid_fonts&&(e.showPaidFonts="true"===n.show_paid_fonts);n.show_basic_library&&(e.showBasicLibrary="true"===n.show_basic_library);return e}(e),t(i)}))}))}}function a(t){var e={};return t.exampleText&&(e.browse_families_sample_text=t.exampleText.value,e.browse_families_sample_size=t.exampleText.size),t.selectedViewType&&(e.browse_families_view_type=t.selectedViewType),t.isFilterListHiddenByUser?e.browse_filter_drawer_state="close":e.browse_filter_drawer_state="open",t.browseMode&&(e.browse_families_browse_mode=t.browseMode,t.exampleText||(e.browse_families_sample_text="",e.browse_families_sample_size="null")),t.hideTypekitOnboardModal&&(e.hide_typekit_onboard_modal=!0),t.hideFontActivationModal&&(e.hide_font_activation_modal=!0),t.hideExpiredFontsModal&&(e.hide_expired_fonts_modal=!0),t.hideStandaloneSubscriptionNotification&&(e.hide_standalone_subscription_notification=!0),t.hideTagFeedbackDialog&&(e.hide_tag_feedback_dialog=!0),t.hideTagFeedbackNotification&&(e.hide_tag_feedback_notification=!0),t.hideTooManyFontsNotification&&(e.hide_too_many_fonts_notification=!0),e.show_paid_fonts=t.showPaidFonts,e.show_basic_library=t.showBasicLibrary,{prefs:e}}t.exports=r},250:function(t,e,n){s.$inject=["$http","AuthenticationService","DialogService","FirstMileService"];var i=n(147),o=n(251),r=n(252),a=n(253);function s(t,e,n,s){return{init:m,addFamilyToWebProject:d,addFamilyToWebProjectWithAuthentication:function(t,n){e.handleAuthenticationWithPostLoginAction(i.ADD_TO_WEB_PROJECT,{familySlug:t,variationSlug:n}).then((function(){d(t,n)}))},getAddFontsToWebProjectModel:f,getEmbedCodeModel:function(){return u.getEmbedCodeModel()},getFamilyAndProjectsInfo:p,getProjectSelectorModel:function(){return c},getStyleSelectorModel:function(){return l},getWebfontProjectStylesModel:function(){return u.getWebfontProjectStylesModel()},groupByTypekitFontFamilies:h,showAddFontsToWebProjectDialog:g,updateProjectDetails:function(e){t.get("/web_project/families_in_project.json",{params:{project_id:e.id}}).then((function(t){var e=t.data.typekit_font_families;f().updateExistingFamiliesInProject(e)}))}};var c,l,u;function d(e,n){(function(e,n){var i="/web_project/add_to_web_project_data/"+e;n&&(i+="?variation="+n);return t.get(i).then((function(t){return t.data}))})(e,n).then((function(t){t.errors||g(t.family.slug,t.family.fonts,t.textSamples,t.defaultExampleText)}))}function f(){return u}function p(e){return t.get("/web_project/family_and_projects_info.json",{params:{family_slug:e}}).then((function(t){return t.data}))}function h(t){var e={},n=[];t.forEach((function(t){e[t.family.web_id]||(e[t.family.web_id]={web_id:t.family.web_id,web_name:t.family.web_name,variations:[]},n.push(t.family.web_id)),e[t.family.web_id].variations.push(t)}));var i=n.map((function(t){return e[t]}));return{familyIds:n,orderedFamilies:i}}function g(t,e,i,o){s.showTypekitOnboardDialogIfNecessary().then((function(){m(t,e,i,o),n.show("/angular_templates/dialogs/add_fonts_to_web_project.html",{skipBodyListeners:!0,recenterOnResize:!0,extraWrapperClass:"add-fonts-to-web-project-dialog-wrapper"})}))}function m(e,i,s,d){var f=h(i),g=p(e);l=new o(f.orderedFamilies,s,d);var m=g.then((function(t){return{projects:t.projects,is_family_CJK:t.is_family_CJK}}));c=new r(m),u=new a(t,n,g,c,l)}}t.exports=s},251:function(t,e,n){r.$inject=["families","textSamples","exampleText"];var i=n(58),o=n(9);function r(t,e,n){this._families=o.copy(t),this._textSamples=e,this._exampleText=n,this.sortFamiliesAndVariations(),this.initDisplayVariations(),this.initCheckedState()}r.prototype.getSelectedVariations=function(){var t=this,e=[];return t.isAnyVariationSelected()&&Object.keys(t._checkedState.families).forEach((function(n){if(t._checkedState.families[n].checkedVariationCount>0){var i=Object.keys(t._checkedState.families[n].variations).map((function(t){return Number(t)})).filter((function(e){return t._checkedState.families[n].variations[e]}));e.push({opaque_id:n,font_variations:i})}})),e},r.prototype.isAnyVariationSelected=function(){return 0!==this._checkedState.checkedVariationCount},r.prototype.getSortedFamilies=function(){return this._families},r.prototype.getExampleText=function(){return this._exampleText},r.prototype.getShowMoreCount=function(t){return t.variations.length-this.getDisplayVariations(t).length},r.prototype.getDisplayVariations=function(t){return this._displayVariations[t.web_id]},r.prototype.setDisplayVariations=function(t,e){this._displayVariations[t]=e},r.prototype.isVariationSelected=function(t){return this._checkedState.families[t.family.web_id].variations[t.id]},r.prototype.getSelectedVariationCount=function(t){return this._checkedState.families[t].checkedVariationCount},r.prototype.getTotalVariationCount=function(t){return this._checkedState.families[t].totalVariationCount},r.prototype.toggleCheckbox=function(t){var e=t.family.web_id;this._checkedState.families[e].variations[t.id]=!this._checkedState.families[e].variations[t.id];var n=this._checkedState.families[e].variations[t.id]?1:-1;this._checkedState.families[e].checkedVariationCount+=n,this._checkedState.checkedVariationCount+=n},r.prototype.getVariationDisplayData=function(t){var e=this._textSamples[t.default_language].unicode_range,n=this._textSamples[t.default_language].feature_settings,i=this._textSamples[t.default_language].kana_only;return i||(i=!1),{cssName:t.family.web_id+"-"+t.font.web.fvd,fvd:t.font.web.fvd,isDynamic:!1,opaqueId:t.family.web_id,unicodeRange:e,featureSettings:n,kanaOnly:i}},r.prototype.sortVariations=function(t){t.sort((function(t,e){return i.compareFvds(t.font.web.fvd,e.font.web.fvd)}))},r.prototype.sortFamiliesAndVariations=function(){var t=this;t._families.forEach((function(e){t.sortVariations(e.variations)}))},r.prototype.initDisplayVariations=function(){var t=this;t._displayVariations={},t._families.forEach((function(e){var n=e.variations.map((function(t){return t.font.web.fvd})),o=i.findClosestToBasicFour(n);t._displayVariations[e.web_id]=e.variations.filter((function(t){return-1!==o.indexOf(t.font.web.fvd)})),t.sortVariations(t._displayVariations[e.web_id])}))},r.prototype.initCheckedState=function(){var t=this;t._checkedState={checkedVariationCount:0,totalVariationCount:0,families:{}},t._families.forEach((function(e){t._checkedState.totalVariationCount+=e.variations.length,t._checkedState.families[e.web_id]={checkedVariationCount:0,totalVariationCount:e.variations.length,variations:{}},e.variations.forEach((function(n){t._checkedState.families[e.web_id].variations[n.id]=!1,-1!==t.getDisplayVariations(e).indexOf(n)&&(t._checkedState.families[e.web_id].variations[n.id]=!0,t._checkedState.families[e.web_id].checkedVariationCount+=1)})),t._checkedState.checkedVariationCount+=t._checkedState.families[e.web_id].checkedVariationCount}))},t.exports=r},252:function(t,e,n){o.$inject=["projectSelectorModelPromise"];var i=n(9);function o(t){var e=this;e.scrollCount=0,e.projectSelectorModelPromise=t,e.selectedProjectName="",e.selectedProjectID=null,e.searchResults=[],e.showError=!1,e.selectorDisabled=!0,e.inputDisabled=!0,e.dropdownVisible=!1,t.then((function(t){e.projects=t.projects,e.isFamilyCJK=t.is_family_CJK,e.projects&&e.projects.length>0?e.selectorDisabled=!1:e.inputDisabled=!1}))}o.prototype.isDropdownVisible=function(){return this.dropdownVisible},o.prototype.getProjectSelectorModelPromise=function(){return this.projectSelectorModelPromise},o.prototype.isSelectorDisabled=function(){return this.selectorDisabled},o.prototype.isInputDisabled=function(){return this.inputDisabled},o.prototype.isProjectSelected=function(){return!(null===this.getSelectedProjectID())},o.prototype.resetProjectSelection=function(){self.selectedProjectName="",self.selectedProjectID=null},o.prototype.getPlaceholder=function(t,e){return this.selectorDisabled?t:e},o.prototype.getSelectedProjectID=function(){return this.selectedProjectID},o.prototype.getSearchResults=function(){return this.searchResults},o.prototype.getProjectName=function(){return this.projectName},o.prototype.getExistingProject=function(t){if(t)return this.projects.filter((function(e){return e.id===t.id}))[0]},o.prototype.getExistingProjectByProjectName=function(t){var e;if(this.projects){var n=this.projects.filter((function(e){return e.name===t}));return 1==n.length&&(e=n[0]),e}},o.prototype.onProjectNameChange=function(t){this.showError=!1,this.dropdownVisible=!1,this.selectedProjectID=null,this.projectName=t,this.searchResults=[],this.projectName.length>50&&(this.projectName=this.projectName.substring(0,50)),this.projects.forEach(function(t){t.name.toUpperCase()===this.projectName.toUpperCase()&&(this.showError=!0)}.bind(this))},o.prototype.onProjectSelection=function(t,e){this.selectedProjectID=t,this.projectName=e},o.prototype.isCurrentProjectNameValid=function(){var t=this.getExistingProjectByProjectName(this.projectName);return Boolean(this.projectName)&&this.isProjectValid(t)&&!this.showError},o.prototype.isProjectValid=function(t){var e=this.getExistingProject(t);return!e||(!(this.isFamilyCJK&&!e.is_dynamic)||(this.selectedProjectID=null,!1))},o.prototype.isResultListAvailable=function(){return this.searchResults&&this.searchResults.length>0},o.prototype.onSelectorButtonClick=function(){this.dropdownVisible=!this.dropdownVisible,this.isResultListAvailable()||!this.projects?this.searchResults=[]:this.searchResults=this.getFormattedSearchResults(this.projects.slice(0,100))},o.prototype.getFormattedSearchResults=function(t){if(!t||0==t.length)return[];var e=i.copy(t);return e.forEach((function(t){var n=e.filter((function(e){return e.name===t.name}));1==n.length&&n.splice(n.indexOf(t),1),n.forEach((function(t){t.name=t.name+" ("+t.id+")"}))})),e},o.prototype.onSelectProjectClick=function(t){this.isProjectValid(t)&&(this.searchResults=[],this.selectedProjectID=t.id,this.projectName=t.name,this.dropdownVisible=!1,this.inputDisabled=!0)},o.prototype.enableInputBox=function(){this.inputDisabled=!1},o.prototype.isInvalid=function(){return this.showError},o.prototype.onNextScroll=function(){this.searchResults.push.apply(this.searchResults,this.getFormattedSearchResults(this.projects.slice(100+10*this.scrollCount,100+10*(this.scrollCount+1)))),this.scrollCount=this.scrollCount+1},t.exports=o},253:function(t,e,n){r.$inject=["$http","DialogService","deferredFamilyAndProjectsInfo","projectSelectorModel","styleSelectorModel"];var i=n(172),o=n(254);function r(t,e,n,i,o){var r=this;r.$http=t,r.DialogService=e,r._projectById=[],r._projectSelectorModel=i,r._styleSelectorModel=o,r._isFamilyCJK=!1,r._saveAttempted=!1,r._saved=!1,r._addedFontsCount=0,r._addedToProjectName="",r._addedToProjectEditorLink="",r._embedCodeModel=null,r._webfontProjectStylesModel=null,r._stylesData=null,r.existingFamiliesInProject=[],r._populateFamilyAndProjectsInfo(n)}r.prototype.getSelectedProjectID=function(){return this._projectSelectorModel.getSelectedProjectID()},r.prototype.getSelectedProjectName=function(){var t=this._projectById[this._projectSelectorModel.getSelectedProjectID()];if(t)return t.name},r.prototype.doFamiliesExistInProject=function(){return!!(this._projectById[this._projectSelectorModel.getSelectedProjectID()]&&this.getExistingFamiliesInProject().length>0)},r.prototype.getExistingFamiliesInProject=function(){return this.existingFamiliesInProject},r.prototype.updateExistingFamiliesInProject=function(t){this.existingFamiliesInProject=t&&t.length>0?t:[]},r.prototype.isFamilyCJK=function(){return this._isFamilyCJK},r.prototype.closeDialog=function(){this.DialogService.close()},r.prototype.didSaveSucceed=function(){return this._saved},r.prototype.isSaveValid=function(){return Boolean(this._styleSelectorModel.isAnyVariationSelected()&&(this._projectSelectorModel.getSelectedProjectID()||this._projectSelectorModel.isCurrentProjectNameValid()))},r.prototype.didAttemptSave=function(){return this._saveAttempted},r.prototype.save=function(){var t=this;if(!t._saveAttempted){t._saveAttempted=!0;var e=t._styleSelectorModel.getSelectedVariations();t._projectSelectorModel.getSelectedProjectID()?t._addSelectedToExistingProject(e,t._projectSelectorModel.getSelectedProjectID()).then((function(e){t._handleSaveSuccess(e)})):t._projectSelectorModel.isCurrentProjectNameValid()&&t._addSelectedToNewProject(e,t._projectSelectorModel.getProjectName()).then((function(e){t._handleSaveSuccess(e)}))}},r.prototype.getEmbedCodeModel=function(){return this._embedCodeModel},r.prototype.getWebfontProjectStylesModel=function(){return this._webfontProjectStylesModel},r.prototype.getAddedFontsCount=function(){return this._addedFontsCount},r.prototype.getAddedToProjectName=function(){return this._addedToProjectName},r.prototype.getAddedToProjectEditorLink=function(){return this._addedToProjectEditorLink},r.prototype._getProjectById=function(t){var e={};return t.forEach((function(t){e[t.id]=t})),e},r.prototype._populateFamilyAndProjectsInfo=function(t){var e=this;t.then((function(t){e._projectById=e._getProjectById(t.projects),e._isFamilyCJK=t.is_family_CJK}))},r.prototype._addSelectedToExistingProject=function(t,e){var n={id:e,families:t};return this.$http.post("/kits/update",n).then((function(t){return t.data}))},r.prototype._addSelectedToNewProject=function(t,e){var n={kit:{name:e},families:t};return this.$http.post("/kits",n).then((function(t){return t.data}))},r.prototype._handleSaveSuccess=function(t){this._embedCodeModel=new i(t.embed_code.is_dynamic,t.embed_code.project_embed_details),this._webfontProjectStylesModel=new o(t.styles),this._addedFontsCount=t.added_fonts_count,this._addedToProjectName=t.added_to_project_info.name,this._addedToProjectEditorLink=t.added_to_project_info.editor_link,this._saved=!0},t.exports=r},254:function(t,e){function n(t){this.fontVariationsDetails=t,this._preloadData()}n.$inject=["stylesModelData"],n.prototype._preloadData=function(){var t=this;t.fontVariationsDetails.forEach((function(e){t.setCSSFontStackDisplay(e),t.setStyleDisplay(e),t.setWeightDisplay(e),t.setCompleteFontVariationStyle(e)}))},n.prototype.setCSSFontStackDisplay=function(t){var e=t.family.css_font_stack.replace(/["]/g,"");t.fontFamilyDisplay=e.substr(0,e.indexOf(",")+1)||e,t.cssFontStackDisplay=e.replace(t.fontFamilyDisplay,"")+";"},n.prototype.setStyleDisplay=function(t){t.styleDisplay=t.style+";"},n.prototype.setWeightDisplay=function(t){t.weightDisplay=t.font.web.weight+";"},n.prototype.setCompleteFontVariationStyle=function(t){t.completeFontVariationStyle="font-family: "+t.fontFamilyDisplay+t.cssFontStackDisplay+"\nfont-weight: "+t.weightDisplay+"\nfont-style: "+t.styleDisplay},n.prototype.getFontVariations=function(){return this.fontVariationsDetails},t.exports=n},255:function(t,e,n){function i(t,e){return{init:function(){t.get("omniture_config").then((function(t){e.marketingtech={adobe:{launch:{property:"global",environment:t.environment}}},t.isLaunchCodeDisabled||n(256)}))}}}i.$inject=["DataService","$window"],t.exports=i},256:function(t,e,n){(function(t){!function(){"use strict";var e,n,i=document,o=Object.defineProperty,r="replace",a=function(t){return t[r](/%2523access_token%253D.*?%2526/gim,"%2526")[r](/%23access_token%3D.*?%26/gim,"%26")[r](/#access_token=.*?&/gim,"&")[r](/information=[^\&]+/,"")[r](/puser=[^\&]+/,"")[r](/fnuser=[^\&]+/,"")[r](/lnuser=[^\&]+/,"")};try{var s="referrer",c=i[s],l=a(c);l!==c&&o(i,s,{configurable:!0,value:l})}catch(e){}e=window,n=function(){function e(t,e){p.add(t,e),f||(f=_(p.drain))}function n(t){var e,n=v(t);return null==t||n!=g&&n!=h||(e=t.then),v(e)==h&&e}function i(){for(var t=0;t<this.chain.length;t++)o(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function o(t,e,i){var o,r;try{!1===e?i.reject(t.msg):(o=!0===e?t.msg:e.call(void 0,t.msg))===i.promise?i.reject(y("Promise-chain cycle")):(r=n(o))?r.call(o,i.resolve,i.reject):i.resolve(o)}catch(t){i.reject(t)}}function r(t){var o,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(o=n(t))?e((function(){var e=new c(s);try{o.call(t,(function(){r.apply(e,arguments)}),(function(){a.apply(e,arguments)}))}catch(n){a.call(e,n)}})):(s.msg=t,s.state=1,s.chain.length>0&&e(i,s))}catch(e){a.call(new c(s),e)}}}function a(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(i,n))}function s(t,e,n,i){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then((function(t){n(o,t)}),i)}(o)}function c(t){this.def=t,this.triggered=!1}function l(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(t){if(v(t)!=h)throw y(m);if(0!==this.__NPO__)throw y("Not a promise");this.__NPO__=1;var n=new l(this);this.then=function(t,o){var r={success:v(t)!=h||t,failure:v(o)==h&&o};return r.promise=new this.constructor((function(t,e){if(v(t)!=h||v(e)!=h)throw y(m);r.resolve=t,r.reject=e})),n.chain.push(r),0!==n.state&&e(i,n),r.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){r.call(n,t)}),(function(t){a.call(n,t)}))}catch(e){a.call(n,e)}}var d,f,p,h="function",g="object",m="Not a "+h,v=function(t){return typeof t},y=TypeError,S=Object.prototype.toString,_="undefined"!=typeof t?function(e){return t(e)}:setTimeout;d=function(t,e,n,i){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==i})},p=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,i;return{add:function(o,r){i=new t(o,r),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var t=e;for(e=n=f=void 0;t;)t.fn.call(t.self),t=t.next}}}();var b=d({},"constructor",u,!1);return u.prototype=b,d(b,"__NPO__",0,!1),d(u,"resolve",(function(t){return t&&v(t)==g&&1===t.__NPO__?t:new this((function(e,n){if(v(e)!=h||v(n)!=h)throw y(m);e(t)}))})),d(u,"reject",(function(t){return new this((function(e,n){if(v(e)!=h||v(n)!=h)throw y(m);n(t)}))})),d(u,"all",(function(t){var e=this;return"[object Array]"!=S.call(t)?e.reject(y("Not an array")):0===t.length?e.resolve([]):new e((function(n,i){if(v(n)!=h||v(i)!=h)throw y(m);var o=t.length,r=Array(o),a=0;s(e,t,(function(t,e){r[t]=e,++a===o&&n(r)}),i)}))})),d(u,"race",(function(t){var e=this;return"[object Array]"!=S.call(t)?e.reject(y("Not an array")):new e((function(n,i){if(v(n)!=h||v(i)!=h)throw y(m);s(e,t,(function(t,e){n(e)}),i)}))})),u},"undefined"==typeof Promise&&(e.Promise=n());var u=window,d=u.console.log;function f(t){throw Error(t)}var p,h,g,m,v,y,S,_,b,$=u.__satelliteEmbedCode,w=u.marketingtech,x="digitalData",C=x+".",F="object",k="array",M="function",P="sub-object not ",E=P+F,T=P+k,D=/^(.+?)((?:\[(?:n|\d+)\])+?)$/,A=/n|\d+/g,j=Array.isArray,L=0,V=w&&w.digitalData&&w.digitalData.debug;if(_=function(t){return typeof t},b=function(t,e){return t.hasOwnProperty(e)},(g=(h=function(t,e){var n,i=this;if(o(i,"_id",{value:++L}),V&&d(i._id+": CREATED"),o(i,"_pending",{value:{}}),o(i,"_listeners",{value:{}}),t&&i._set(x,t),e)for(n in e)b(e,n)&&i._set(n,e[n])}).prototype)._merge=m=function(t,e,n,i){var o,r,a,s,c;for(o in i=i||"",e)b(e,o)&&(r=t[o],void 0!==(a=e[o])&&null!==a&&(void 0===r||null===r?t[o]=a:(s=j(r)?k:_(r),c=j(a)?k:_(a),s===F||c===F?s===c&&(t[o]=m(r,a,n,i+"  ")):n||(s!==k&&(r=[r]),c===k?r=r.concat(a):r.push(a),t[o]=r))));return t},g._flatten=v=function(t,e,n,i){var o,r,a,s,c,l,u={},d={};for(t=t||this,t=JSON.parse(JSON.stringify(t)),o=0,r=(s=j(t)?t:Object.keys(t)).length;o<r;o++)c=j(t)?o:s[o],a=e?(j(t),e+"."+c):c+"",l=t[c],_(l)===F&&null!==l?u=m(u,v(l,a,n,i),!0):_(l)!==M&&(i?_(i)===F?j(i)?-1!==i.indexOf(a)&&(u[a]=l):i[a]&&(u[a]=l):_(i)===M?i(a)&&(u[a]=l):u[a]=l:u[a]=l);if(!j(t)||!n)return u;for(o=0,r=s.length;o<r;o++)l=t[c=o],_(l)===F&&(d=m(d,l));return u=m(u,v(d,a=e?e+".__collapsed":"__collapsed",n,i),!0),u=m(u,v(y(d,"|","|","|"),a,n,i),!0),u=m(u,v(d,a=e?e+".__joined":"__joined",n,i),!0),m(u,v(y(d,","),a,n,i),!0)},g._collapse=y=function(t,e,n,i){var o,r,a,s={};for(o in e=e||",",n=n||"",i=i||"",t)b(t,o)&&(r=t[o],a=j(r)?k:_(r),s[o]=a===k?n+r.join(e)+i:a===F?y(r,e,n,i):r);return s},g._recurse=S=function(t,e,n,i){var o,r,a,s,c,l;if(t&&_(t)===F)for(o=0,r=(s=j(t)?t:Object.keys(t)).length;o<r;o++)j(t)?(a=o,c=e+"[n]"):c=e+"."+(a=s[o]),l=t[a],n&&n({path:c,property:a,value:l},{path:e,value:t}),l&&_(l)===F&&S(l,c,n,i),i&&i({path:c,property:a,value:l},{path:e,value:t})},g._get=function(t){var e,n,i,o,r,a,s,c,l,u,f=this,p=f;if(V&&d(f._id+': GET "'+t+'"'),!t||t===x)return f;for(0!==t.indexOf(x)&&(t=C+t),(e=t.split(".")).shift(),r=0,a=e.length;r<a;r++){if(l=r===a-1,o=(n=e[r]).match(D)){if(n=o[1],o=o[2].match(A),p=p[n],!j(p))return;for(s=0,c=o.length;s<c;s++)if(u=s===c-1,p=p[i="n"===(i=o[s])?p.length-1:parseInt(i)],!u&&!j(p))return}else p=p[n];if(!p||l)return p}},g._set=function(t,e){var n,i,o,r,a,s,c,l,u,p,h,g,m,v,y,$=this,w=$,k=[],P=$._pending;if(V&&d($._id+': SET "'+t+'" '+JSON.stringify(e)),t||(t=x),0!==t.indexOf(x)&&(t=C+t),t!==x||e!==$){if(P[t]&&(P[t].cancelled=!0,delete P[t]),null!=e&&(_(e)===F||_(e)===M)&&_(e.then)===M){if((i=e.then((function(e){return i.cancelled||$._set(t,e),e}),(function(){i.cancelled||delete P[t]}))).cancelled=!1,P[t]=i,!b(e,"unresolved"))return;n=e,e=e.unresolved,delete n.unresolved}if(t===x){if(_(e)!==F)return;for(c in S($,x,(function(t){P[t.path]&&(P[t.path].cancelled=!0,delete P[t.path]),k.push(t.path)})),$)b(e,c)&&e[c]&&e[c]!==$[c]&&delete $[c];for(c in e)b(e,c)&&($[c]=e[c])}else for((p=t.split(".")).shift(),o=0,r=p.length;o<r;o++)if(l=o===r-1,m=(h=p[o]).match(D))for(h=m[1],m=m[2].match(A),w=w[h]=w[h]||[],j(w)||f(T),a=0,s=m.length;a<s;a++)u=a===s-1,g="n"===(g=m[a])?w.length:parseInt(g),u?l?w[g]=e:(w=w[g]=w[g]||{},_(w)!==F&&f(E)):(w=w[g]=w[g]||[],j(w)||f(T));else l?w[h]=e:(w=w[h]=w[h]||{},_(w)!==F&&f(E));if(t===x)k.push(t);else for(v=[],o=0,r=(p=t.split(".")).length;o<r;o++)(m=(h=p[o]).match(D))&&(h=m[1],h+=m=m[2].replace(A,"n")),v.push(h),k.push(v.join("."));for(S(e,t,(function(t){P[t.path]&&(P[t.path].cancelled=!0,delete P[t.path]),-1===k.indexOf(t.path)&&k.push(t.path)})),o=k.length-1;o>=0;o--)y=k[o],$._trigger(y)}},g._unset=g._delete=function(t){return V&&d(this._id+': DELETE "'+t+'"'),this._set(t,void 0)},g._on=function(t,e){var n;if(""===t)t=x;else if(!t)return!1;0!==t.indexOf(x)&&(t=C+t),(n=this._listeners[t])||(n=this._listeners[t]=[]),n.push(e)},g._off=function(t,e){var n,i;if(""===t)t=x;else if(!t)return!1;return 0!==t.indexOf(x)&&(t=C+t),!!(i=this._listeners[t])&&-1!==(n=i.indexOf(e))&&(i.splice(n,1),!0)},g._trigger=function(t){var e,n,i,o;if(""===t)t=x;else if(!t)return!1;if(0!==t.indexOf(x)&&(t=C+t),!(o=this._listeners[t]))return!1;for(e=0,n=o.length;e<n;e++)if(i=o[e])try{i(this._get(t))}catch(t){}},g._resolved=function(){var t,e=[],n=this._pending;for(t in n)b(n,t)&&e.push(n[t]);return Promise.all(e)},g._snapshot=g._copy=function(){return new h(JSON.parse(JSON.stringify(this)),this._pending)},u.DigitalData=h,!$){if(p=new h,u.digitalData){p._set(x,u.digitalData);try{delete u.digitalData}catch(e){}}o(u,x,{enumerable:!0,get:function(){return p},set:function(t){p._set(x,t)}})}var N=p,I=i.getElementsByTagName("head")[0],O=u.performance,R=decodeURIComponent;function B(t){var e,n,o,r;for(n=0,o=(e=i.cookie?i.cookie.split("; "):[]).length;n<o;n++)if(r=e[n],R(r.substr(0,r.indexOf("=")))===t)return R(r.substr(r.indexOf("=")+1))}var W,U,q,z="at-body-style",H="targetGlobalSettings",Z="bodyHidingEnabled",Y=B("OptanonConsent"),G=B("OptanonChoice"),X=u.location.search;if(W=w&&w.adobe&&w.adobe.target,U=u[H]=u[H]||{},q=i.getElementById(z),$||!W||Z in U&&!U[Z]||-1!==X.indexOf("mboxDisable=1")||-1!==i.cookie.indexOf("adobe_optout")||G&&Y&&-1!==Y.indexOf("C0002:0"))q&&q.parentNode&&q.parentNode.removeChild(q);else{if(!q){(q=i.createElement("style")).id=z,q.innerHTML="body{opacity:0.01 !important}";try{O.mark("targetBodyHide"),I.appendChild(q)}catch(e){}}setTimeout((function(){U[Z]=!1;try{I.removeChild(i.getElementById(z))}catch(e){}}),3e3)}function J(t,e){u.addEventListener(t,e)}var K=encodeURIComponent;function Q(t,e,n,o){var r="";e=e||"",r+=o?t+"="+e:K(t)+"="+K(e),n.path&&(r+="; path="+n.path),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.domain&&(r+="; domain="+n.domain),n.samesite&&(r+="; samesite="+n.samesite),i.cookie=r}var tt,et,nt="";var it,ot,rt,at,st=[],ct="adobePrivacy:Privacy",lt="OptanonChoice",ut=new Date,dt={domain:function(){if(nt)return nt;var t=u.location.hostname.toLowerCase().split("."),e=[],n="",i=null,o=!1,r="sat_domain";for(n=t.pop(),e.unshift(n);t.length>0;){n=t.pop(),e.unshift(n),(i=new Date).setTime(i.getTime()+1e3);try{Q(r,"A",{expires:i,domain:e.join(".")})}catch(t){break}if("A"===B(r)){o=!0,nt=e.join(".");break}}return o?nt:""}(),path:"/",samesite:"Lax",expires:(ut.setFullYear(ut.getFullYear()+1),ut)};function ft(t){var e=JSON.parse(JSON.stringify(t.location));return e.href=a(e.href),e.hash=a(e.hash),e.search=a(e.search),e}tt=function(t){ot?t(u._satellite):st.push(t)},et=new Promise((function(t){tt(t)})),it=function(){var t,e,n;for(ot=!0,t=0,e=st.length;t<e;t++){n=st[t];try{n(u._satellite)}catch(t){}}},u.__satelliteLoadedCallback=tt,u.__satelliteLoadedPromise=et,at=function(t){i.write('<script src="'+t+'"><\/script>')},J(ct+"Consent",(function(){Q(lt,1,dt)})),J(ct+"Reject",(function(){Q(lt,2,dt)})),J(ct+"Custom",(function(){Q(lt,3,dt)})),J(ct+"Consent",(function(){var t,e=ct+"Consent:DTM";"function"==typeof u.CustomEvent?t=new CustomEvent(e):(t=i.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,void 0),tt((function(){"complete"===i.readyState?i.body.dispatchEvent(t):J("load",(function(){i.body.dispatchEvent(t)}))}))})),$?(at("//c.evidon.com/geo/country.js"),at($),(rt=function(){u._satellite&&u._satellite.initialized?it():setTimeout(rt,100)})()):function(t,e){var n,o,r=i.createElement("script"),a=!1;r.src=t,r.async=!0,e&&(r.onload=r.onreadystatechange=function(t){var n=this.readyState;a||n&&"complete"!==n&&"loaded"!==n||(a=!0,e(t))}),(n=i.getElementsByTagName("script")[0])&&n.parentNode?(o=n.parentNode).insertBefore(r,n):(o=I)?o.appendChild(r):i.body?(o=i.body).appendChild(r):f("no script parent")}(function(t,e){var n,i,o,r,a,s=u.location,c="https://assets.adobedtm.com/",l=c+"launch-",d={globalDev:"EN9a7b3bd7db454856b44f27730f263fa0",globalStage:"EN2731bb0857084837b7142cd2017286bb",globalProd:"EN919758db9a654a17bac7d184b99c4820",ucDev:"ENed7cfab651fa4714a57bf937efb0cd23-development",ucStage:"EN1450794db7d0411a8b3f3b08dd706d00-staging",ucProd:"ENd6b040128459463bad781a5daa85ce0f",videoDev:"EN2d7bf2d8326b4ff1aa5335189a385023-development",videoStage:"EN60e5086def0d48e9ae2195234cb1b389-staging",videoProd:"EN58452fb8d9534cacbb8aeac0c8e15215",minimalDev:"EN876eeadff442464cb438819d695e077d-development",minimalStage:"ENa9d6ac46ca57441784434d28ceb9ddba-staging",minimalProd:"EN08637acac77f4e20b9e413aeb86f610e"};if(n=e||s.hostname,a=function(t){return-1!==n.indexOf(t)},w&&w.adobe&&w.adobe.launch&&(w.adobe.launch.embedCode||w.adobe.launch.environment||w.adobe.launch.property)){i=w.adobe.launch.embedCode,o=w.adobe.launch.property,r=w.adobe.launch.environment;i?0===i.indexOf("EN")?l+=i:l=c+i:function(t){"video analytics"==t&&(t="video"),"unified checkout"==t&&(t="uc"),"dev"===r?l+=d[t+"Dev"]:"stage"===r?l+=d[t+"Stage"]:"production"===r?l+=d[t+"Prod"]:(l+=d[t+"Prod"],console.warn('marketingtech.adobe.launch.environment invalid. Falling back to "production".'))}(o||"global")}else a("localhost.account.adobe.com")||a("prestage1.account.adobe.com")||a("prestage2.account.adobe.com")?l+=d.globalDev:a("stage.account.adobe.com")||a("prod-inactive.account.adobe.com")||a("prod-active.account.adobe.com")?l+=d.globalStage:a("account.adobe.com")?l+=d.globalProd:(a("localhost.")||console.error("unrecognized domain. Please email marketingtech@adobe.com."),l+=d.globalDev);return t&&(l+=".min"),l+".js"}(!0),it);var pt,ht="initialPage.pageInfo.location",gt="message",mt=u.top;function vt(t,e){try{t._set(e,ft(mt))}catch(i){J(gt,(function(n){n.data.n===ht&&t._set(e,n.data.v)})),mt.postMessage({n:ht},"*")}}u===mt&&(pt=ft(u),J(gt,(function(t){var e,n=t.origin,i=n.length;((e=function(t){return n.substring(i-t.length,i)===t})(".adobe.com")||e("//adobe.com"))&&t.data.n===ht&&t.source.postMessage({n:ht,v:pt},"*")})));var yt=[];u._satellite=u._satellite||{},u._satellite.track=function(t,e){var n;(e=e||{})._beforeSatelliteLoaded=!0,$||((n=e.digitalData=e.digitalData||u.digitalData._snapshot())._set("page.pageInfo.location",ft(u)),vt(n,"page.topFrameInfo.location")),yt.push([t,e])},u.__satelliteLoadedCallback((function(){var t,e,n;for(t=0,e=yt.length;t<e;t++)n=yt[t],u._satellite.track(n[0],n[1])}));$||(N._set("marketingtech.bootstrap.version","0.19.0"),N._set("initialPage.pageInfo.location",ft(u)),vt(N,"initialPage.topFrameInfo.location"))}()}).call(this,n(257).setImmediate)},257:function(t,e,n){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(258),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(10))},258:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o,r,a,s,c=1,l={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){h(t.data)},i=function(t){r.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"===typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[c]=o,i(c),c++},f.clearImmediate=p}function p(t){delete l[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),u=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(10),n(18))},259:function(t,e,n){r.$inject=["$http","AddFontsToWebProjectService","UrlService"];var i=n(147),o="post_login_action_id";function r(t,e,n){return{getPostLoginActionData:r,getPostLoginActionId:a,handlePageLoad:function(){if(!a())return;r(a()).then(c).finally(s)}};function r(e){return t.delete("/post_login_actions/"+e).then((function(t){return t.data}))}function a(){return n.getSearchParam(o)}function s(){return n.removeSearchParam(o)}function c(t){if(n.removeSearchParam(o),t.actionName===i.ADD_TO_WEB_PROJECT)return e.addFamilyToWebProject(t.data.familySlug,t.data.variationSlug)}}t.exports=r},300:function(t,e){t.exports={afterConsent:function(t){n?window.addEventListener("adobePrivacy:PrivacyConsent",(function(){t()})):t()},enableConsentCheck:function(){n=!0},loadResource:function(t){if(window.adobePrivacy)window.adobePrivacy.loadResource(t);else{var e=document.createElement("script");e.src=t.path,t.callback&&(e.onload=t.callback),document.head.appendChild(e)}}};var n=!1},335:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},35:function(t,e){t.exports={login:function(t,e,n){i(t,"POST",n,"access_token="+e)},logout:function(t,e){i(t,"GET",e)}};var n=XMLHttpRequest.DONE||4;function i(t,e,i,o){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState==n&&200==r.status&&(r.responseText.trim()?i(JSON.parse(r.responseText)):i())},r.open(e,t,!0),"POST"==e&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("X-CSRF-Token",function(){for(var t=document.getElementsByTagName("meta"),e=0;e<t.length;e++)if("csrf-token"==t[e].getAttribute("name"))return t[e].getAttribute("content")}()),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(o)}},46:function(t,e,n){(function(e){var i=n(1);t.exports=FontLoader=function(){this._loadedFonts={},this._activeFonts={},this._fontsToLoad=[],this._callbacks={},this.maxConcurrentRequests=16,this._requestMap={},this._currentRequests=[],this._paused=!1,this._loadFontsToLoadTimeout=null},FontLoader.prototype.paused=function(t){this._paused=t,this._paused?clearTimeout(this._loadFontsToLoadTimeout):this._loadFontsToLoadTimeout=setTimeout(this._loadFontsToLoad.bind(this))},FontLoader.prototype.loadFont=function(t,e,n,i,o,r,a){window.Typekit.Font?this._loadedFonts[t]?this._activeFonts[t]?a&&a(!0):a&&this._addCallback(t,a):(this._loadedFonts[t]=+new Date,a&&this._addCallback(t,a),this._fontsToLoad.push({cssName:t,alias:e,fvd:n,unicodeRange:i,featureSettings:o,dynamic:r}),this._paused||(clearTimeout(this._loadFontsToLoadTimeout),this._loadFontsToLoadTimeout=setTimeout(this._loadFontsToLoad.bind(this)))):a(!1)},FontLoader.prototype._loadFontsToLoad=function(){if(!this._paused)for(;this._fontsToLoad.length>0&&this._currentRequests.length<this.maxConcurrentRequests;){var t=this._fontsToLoad.shift();this._loadFont(t.cssName,t.alias,t.fvd,t.unicodeRange,t.featureSettings,t.dynamic)}},FontLoader.prototype._loadFont=function(t,e,n,o,r,a){var s=this,c=i.uniqueId()+1;this._currentRequests.push(c),this._requestMap[t]=c,Typekit.user="tk",Typekit.token="UWiewzNGqfaXgl50sfTX597VqiNVO+VsJvzyIM5SabTjZinSwqaidRKypEX3LMfHdBUibNmD+PCRx/5yCXr4NA==";var l=n[1]+"00",u="n"===n[0]?"normal":"i"===n[0]?"italic":"oblique",d=new Typekit.Font(t,e,{weight:l,style:u,unicodeRange:o,featureSettings:r,dynamic:a});d.load().then((function(){Typekit.fonts.add(d),s.fontActive_(t,n)}),(function(){s.fontInactive_(t,n)}))},FontLoader.prototype.fontActive_=function(t,n){this._handleRequestReturned(t);var o=+new Date;this._loadedFonts[t];this._activeFonts[t]=o;var r=this._callbacks[t];delete this._callbacks[t],e.tk.GlobalFontEvents&&e.tk.GlobalFontEvents.fontActive(t,n),i.each(r,(function(t){t(!0)}))},FontLoader.prototype.fontInactive_=function(t,n){this._handleRequestReturned(t);delete this._loadedFonts[t],delete this._activeFonts[t];var o=this._callbacks[t];delete this._callbacks[t],e.tk.GlobalFontEvents&&e.tk.GlobalFontEvents.fontInactive(t,n),i.each(o,(function(t){t(!1)}))},FontLoader.prototype._handleRequestReturned=function(t){var e=!1,n=this._requestMap[t];return n&&(delete this._requestMap[t],(e=i.include(this._currentRequests,n))&&(this._currentRequests=i.without(this._currentRequests,n))),this._loadFontsToLoad(),e?n:null},FontLoader.prototype._addCallback=function(t,e){this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e)}}).call(this,n(10))},47:function(t,e){t.exports=function(t,e,n){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),r=0;r<o.length;r++){var a=o[r].trim();if(a.substring(0,t.length+1)==t+"="){i=decodeURIComponent(a.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var s,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,c="; expires="+s.toUTCString());var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),c,l,u,d].join("")}},51:function(t,e){var n=[],i=!1;t.exports={addOnReadyHandler:function(t){i?t():n.push(t)},fireOnReadyHandlers:function(){i=!0;for(;n.length>0;)n.pop()()},reset:function(){n=[],i=!1}}},54:function(t,e){t.exports={getData:function(t){var e=document.getElementById(t);if(!e||"script"!=e.tagName.toLowerCase()||"application/json"!=e.type)return;return JSON.parse(e.innerHTML)}}},55:function(t,e,n){var i=n(35),o=n(56);function r(t,e){window.AdobeGlobalNav&&new window.AdobeGlobalNav({adobeid:t,locale:e.locale,sections:e.globalNavSections,parentSelector:".__adobeglobalnav",events:{signOut:function(t){i.logout(e.ssoLogoutUrl+".json",t)}},styles:{buttonTextColor:"rgb(75%, 75%, 75%)",buttonTextHoverColor:"white",overlayZIndex:2147483647}})}t.exports={init:function(t){var e=new o(t).getAdobeId();return r(e,t),e}}},56:function(t,e,n){var i=n(35),o=n(47),r=n(51),a=n(54);function s(t){this._clientId=t.clientId,this._cucumberConfig=t.cucumberConfig,this._currentRequestMethod=t.tkRequestInfo.requestMethod,this._imsCookieName=t.tkRequestInfo.cookieName,this._loggedInOnServer=t.tkRequestInfo.loggedInOnServer,this._scope=t.scope,this._serverAdobeProfileId=t.tkRequestInfo.adobeProfileID,this._ssoLoginUrl=t.ssoLoginUrl,this._ssoLogoutUrl=t.ssoLogoutUrl,this._useDebugMode=t.useDebugMode,this._adobe_language_tag=t.adobe_language_tag,this.placeholder=document.querySelector(".__adobeprofile"),this.i18n=a.getData("/profileMenu/i18n")}t.exports=s,s.prototype.getAdobeId=function(){var t=this;return{api_parameters:{logout:{redirect_uri:t._ssoLogoutUrl}},client_id:t._clientId,is_mandatory_sign_in:!1,scope:t._scope,use_debug_mode:t._useDebugMode,uses_redirect_mode:!0,onProfile:function(e){t._profile=e},onAccessToken:function(e){t._accessToken=e},onReady:function(){t._cucumberConfig&&t._loadInfoFromCucumber(),t._onReady()}}},s.prototype._onReady=function(){this._profile?this._onReadyWhenLoggedIn():this._onReadyWhenNotLoggedIn(),r.fireOnReadyHandlers()},s.prototype._onReadyWhenLoggedIn=function(){var t=this;o(t._imsCookieName,t._accessToken,{path:"/"});var e=[{label:t.i18n.api_tokens,action:"/account/tokens",description:t.i18n.api_tokens}];"undefined"!==typeof adobeProfile&&adobeProfile.init({target:t.placeholder,locale:t._adobe_language_tag,theme:"theme-dark",class:"adobe-profile-menu",localMenu:{title:t.i18n.account_links,links:e}}),t._serverAdobeProfileId!=t._profile.userId&&i.login(t._ssoLoginUrl+".json",t._accessToken,(function(e){e.logged_in&&"GET"==t._currentRequestMethod&&window.location.reload()}))},s.prototype._onReadyWhenNotLoggedIn=function(){o(this._imsCookieName,null),this.placeholder.style.visibility="visible",this._loggedInOnServer&&(window.location.href=this._ssoLogoutUrl)},s.prototype._loadInfoFromCucumber=function(){this._profile={userId:o(this._cucumberConfig.userIdCookieName),serviceAccounts:JSON.parse(o(this._cucumberConfig.serviceAccounts))},window.adobeIMS.setProfile(this._profile),this._accessToken=o(this._cucumberConfig.imsTokenCookieName)}},58:function(t,e,n){var i=n(1),o=["normal","italic","oblique"],r={normal:["normal","italic","oblique"],italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"]};function a(t){if(t){var e=100*parseInt(t.slice(1));return isNaN(e)?null:e}return null}function s(t){return t?i.detect(o,(function(e){return e.slice(0,1)==t.slice(0,1)})):null}function c(t,e){return i.filter(e,(function(e){return a(e)==t}))}function l(t,e){if(!t||!e.length)return null;var n=a(t),o=s(t),c={};i.each(e,(function(t){var e=a(t),n=s(t);c[e]||(c[e]={}),c[e][n]=t}),this);for(var l=n,u=n>=500?1:-1,d=1;d<20&&!c[l];)l+=d*u*100,u*=-1,d+=1;for(var f=r[o]||[],p=0,h=f.length;p<h;p++){var g=c[l][f[p]];if(g)return g}return null}function u(t,e){var n=a(t),r=a(e);if(n&&r){if(n!=r)return n-r;var c=s(t),l=s(e);if(c&&l)return i.indexOf(o,c)-i.indexOf(o,l)}return 0}t.exports={compareFvds:u,findClosestFvd:l,findClosestToBasicFour:function(t){var e=[];return i.each(["n4","n7"],(function(n){var i=l(n,t);if(i){var o=a(i);e=e.concat(c(o,t))}})),i.uniq(e)},findFvdsWithWeight:c,getFontStyleFromFvd:s,getFontWeightFromFvd:a,sortFvds:function(t){return t.slice(0).sort(u)}}},60:function(t,e,n){var i=n(1);t.exports={setTranslations:function(t){this._translations=t},t:function(t,e){var n=null;return i.isUndefined(this._translations)||(n=this._translations[t]),n||(n=t),e=e||{},n=n.replace(/%\{(.+?)\}/g,(function(){return e[arguments[1]]||""}))},getTranslations:function(){return this._translations}}},69:function(t,e){},9:function(t,e,n){n(145),t.exports=angular},97:function(t,e,n){var i=n(98),o="unknown";document.documentMode&&(o="ie"),t.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var n=null;if(!(n=i.isElement(e)?e:t.querySelector(e))){var o=Array.prototype.slice.call(t.childNodes||t.children).filter((function(t){return"defs"!==t.nodeName&&"#text"!==t.nodeName}));1===o.length&&"g"===o[0].nodeName&&null===o[0].getAttribute("transform")&&(n=o[0])}if(!n){var r="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",r);var a=t.childNodes||t.children;if(a&&a.length>0)for(var s=a.length;s>0;s--)"defs"!==a[a.length-s].nodeName&&n.appendChild(a[a.length-s]);t.appendChild(n)}var c=[];return n.getAttribute("class")&&(c=n.getAttribute("class").split(" ")),~c.indexOf("svg-pan-zoom_viewport")||(c.push("svg-pan-zoom_viewport"),n.setAttribute("class",c.join(" "))),n},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==t.parentNode){var e=t.getAttribute("style")||"";-1===e.toLowerCase().indexOf("overflow")&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:i.throttle((function(){for(var t=document.querySelectorAll("defs"),e=t.length,n=0;n<e;n++){var i=t[n];i.parentNode.insertBefore(i,i)}}),this?this.internetExplorerRedisplayInterval:null),setCTM:function(t,e,n){var i=this,r="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",r),"transform"in t.style?t.style.transform=r:"-ms-transform"in t.style?t.style["-ms-transform"]=r:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=r),"ie"===o&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){i.refreshDefsGlobal()}),i.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var n=e.createSVGPoint();return i.mouseAndTouchNormalize(t,e),n.x=t.clientX,n.y=t.clientY,n},getSvgCenterPoint:function(t,e,n){return this.createSVGPoint(t,e/2,n/2)},createSVGPoint:function(t,e,n){var i=t.createSVGPoint();return i.x=e,i.y=n,i}}},98:function(t,e){function n(t){return function(e){window.setTimeout(e,t)}}t.exports={extend:function(t,e){for(var n in t=t||{},e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&"object"===typeof t&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else{if(!("string"===typeof t||t instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(e=document.querySelector(t)))throw new Error("Provided selector did not find any elements. Selector: "+t)}if("svg"===e.tagName.toLowerCase())n=e;else if("object"===e.tagName.toLowerCase())n=e.contentDocument.documentElement;else{if("embed"!==e.tagName.toLowerCase())throw"img"===e.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=e.getSVGDocument().documentElement}return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(void 0===t.clientX||null===t.clientX)if(t.clientX=0,t.clientY=0,void 0!==t.touches&&t.touches.length){if(void 0!==t.touches[0].clientX)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(void 0!==t.touches[0].pageX){var n=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-n.left,t.clientY=t.touches[0].pageY-n.top}}else void 0!==t.originalEvent&&void 0!==t.originalEvent.clientX&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(2===t.detail)return!0;if(void 0!==e&&null!==e){var n=t.timeStamp-e.timeStamp,i=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(t,e,n){var i,o,r,a=this,s=null,c=0;n||(n={});var l=function(){c=!1===n.leading?0:a.now(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var u=a.now();c||!1!==n.leading||(c=u);var d=e-(u-c);return i=this,o=arguments,d<=0||d>e?(clearTimeout(s),s=null,c=u,r=t.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(l,d)),r}},createRequestAnimationFrame:function(t){var e=null;return"auto"!==t&&t<60&&t>1&&(e=Math.floor(1e3/t)),null===e?window.requestAnimationFrame||n(33):n(e)}}}});
//# sourceMappingURL=spectrum-860ad41524bb08ed2445.js.map